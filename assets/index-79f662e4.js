var YN=Object.defineProperty;var qN=(t,e,r)=>e in t?YN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var aa=(t,e,r)=>(qN(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ix(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var VR={exports:{}},tg={},XR={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd=Symbol.for("react.element"),QN=Symbol.for("react.portal"),KN=Symbol.for("react.fragment"),ZN=Symbol.for("react.strict_mode"),JN=Symbol.for("react.profiler"),eD=Symbol.for("react.provider"),tD=Symbol.for("react.context"),rD=Symbol.for("react.forward_ref"),nD=Symbol.for("react.suspense"),iD=Symbol.for("react.memo"),sD=Symbol.for("react.lazy"),dE=Symbol.iterator;function oD(t){return t===null||typeof t!="object"?null:(t=dE&&t[dE]||t["@@iterator"],typeof t=="function"?t:null)}var YR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qR=Object.assign,QR={};function ku(t,e,r){this.props=t,this.context=e,this.refs=QR,this.updater=r||YR}ku.prototype.isReactComponent={};ku.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ku.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KR(){}KR.prototype=ku.prototype;function Mx(t,e,r){this.props=t,this.context=e,this.refs=QR,this.updater=r||YR}var Nx=Mx.prototype=new KR;Nx.constructor=Mx;qR(Nx,ku.prototype);Nx.isPureReactComponent=!0;var fE=Array.isArray,ZR=Object.prototype.hasOwnProperty,Dx={current:null},JR={key:!0,ref:!0,__self:!0,__source:!0};function ek(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ZR.call(e,n)&&!JR.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),h=0;h<a;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:nd,type:t,key:s,ref:o,props:i,_owner:Dx.current}}function aD(t,e){return{$$typeof:nd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lx(t){return typeof t=="object"&&t!==null&&t.$$typeof===nd}function lD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var pE=/\/+/g;function _0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lD(""+t.key):e.toString(36)}function gp(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nd:case QN:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+_0(o,0):n,fE(i)?(r="",t!=null&&(r=t.replace(pE,"$&/")+"/"),gp(i,e,r,"",function(h){return h})):i!=null&&(Lx(i)&&(i=aD(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",fE(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+_0(s,a);o+=gp(s,e,r,c,i)}else if(c=oD(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+_0(s,a++),o+=gp(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pf(t,e,r){if(t==null)return t;var n=[],i=0;return gp(t,n,"","",function(s){return e.call(r,s,i++)}),n}function uD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pr={current:null},yp={transition:null},cD={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:yp,ReactCurrentOwner:Dx};Oe.Children={map:pf,forEach:function(t,e,r){pf(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return pf(t,function(){e++}),e},toArray:function(t){return pf(t,function(e){return e})||[]},only:function(t){if(!Lx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=ku;Oe.Fragment=KN;Oe.Profiler=JN;Oe.PureComponent=Mx;Oe.StrictMode=ZN;Oe.Suspense=nD;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cD;Oe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=qR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Dx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)ZR.call(e,c)&&!JR.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var h=0;h<c;h++)a[h]=arguments[h+2];n.children=a}return{$$typeof:nd,type:t.type,key:i,ref:s,props:n,_owner:o}};Oe.createContext=function(t){return t={$$typeof:tD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eD,_context:t},t.Consumer=t};Oe.createElement=ek;Oe.createFactory=function(t){var e=ek.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:rD,render:t}};Oe.isValidElement=Lx;Oe.lazy=function(t){return{$$typeof:sD,_payload:{_status:-1,_result:t},_init:uD}};Oe.memo=function(t,e){return{$$typeof:iD,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=yp.transition;yp.transition={};try{t()}finally{yp.transition=e}};Oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oe.useCallback=function(t,e){return Pr.current.useCallback(t,e)};Oe.useContext=function(t){return Pr.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return Pr.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return Pr.current.useEffect(t,e)};Oe.useId=function(){return Pr.current.useId()};Oe.useImperativeHandle=function(t,e,r){return Pr.current.useImperativeHandle(t,e,r)};Oe.useInsertionEffect=function(t,e){return Pr.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return Pr.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return Pr.current.useMemo(t,e)};Oe.useReducer=function(t,e,r){return Pr.current.useReducer(t,e,r)};Oe.useRef=function(t){return Pr.current.useRef(t)};Oe.useState=function(t){return Pr.current.useState(t)};Oe.useSyncExternalStore=function(t,e,r){return Pr.current.useSyncExternalStore(t,e,r)};Oe.useTransition=function(){return Pr.current.useTransition()};Oe.version="18.2.0";XR.exports=Oe;var P=XR.exports;const qe=rd(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD=P,dD=Symbol.for("react.element"),fD=Symbol.for("react.fragment"),pD=Object.prototype.hasOwnProperty,mD=hD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gD={key:!0,ref:!0,__self:!0,__source:!0};function tk(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)pD.call(e,n)&&!gD.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:dD,type:t,key:s,ref:o,props:i,_owner:mD.current}}tg.Fragment=fD;tg.jsx=tk;tg.jsxs=tk;VR.exports=tg;var R=VR.exports,l1={},rk={exports:{}},mn={},nk={exports:{}},ik={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var U=D.length;D.push(V);e:for(;0<U;){var j=U-1>>>1,ie=D[j];if(0<i(ie,V))D[j]=V,D[U]=ie,U=j;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var V=D[0],U=D.pop();if(U!==V){D[0]=U;e:for(var j=0,ie=D.length,Se=ie>>>1;j<Se;){var we=2*(j+1)-1,$e=D[we],Te=we+1,ze=D[Te];if(0>i($e,U))Te<ie&&0>i(ze,$e)?(D[j]=ze,D[Te]=U,j=Te):(D[j]=$e,D[we]=U,j=we);else if(Te<ie&&0>i(ze,U))D[j]=ze,D[Te]=U,j=Te;else break e}}return V}function i(D,V){var U=D.sortIndex-V.sortIndex;return U!==0?U:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],h=[],d=1,f=null,m=3,g=!1,_=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var V=r(h);V!==null;){if(V.callback===null)n(h);else if(V.startTime<=D)n(h),V.sortIndex=V.expirationTime,e(c,V);else break;V=r(h)}}function A(D){if(x=!1,S(D),!_)if(r(c)!==null)_=!0,ae(k);else{var V=r(h);V!==null&&le(A,V.startTime-D)}}function k(D,V){_=!1,x&&(x=!1,w(M),M=-1),g=!0;var U=m;try{for(S(V),f=r(c);f!==null&&(!(f.expirationTime>V)||D&&!Z());){var j=f.callback;if(typeof j=="function"){f.callback=null,m=f.priorityLevel;var ie=j(f.expirationTime<=V);V=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===r(c)&&n(c),S(V)}else n(c);f=r(c)}if(f!==null)var Se=!0;else{var we=r(h);we!==null&&le(A,we.startTime-V),Se=!1}return Se}finally{f=null,m=U,g=!1}}var L=!1,I=null,M=-1,z=5,$=-1;function Z(){return!(t.unstable_now()-$<z)}function Y(){if(I!==null){var D=t.unstable_now();$=D;var V=!0;try{V=I(!0,D)}finally{V?O():(L=!1,I=null)}}else L=!1}var O;if(typeof b=="function")O=function(){b(Y)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,de=W.port2;W.port1.onmessage=Y,O=function(){de.postMessage(null)}}else O=function(){E(Y,0)};function ae(D){I=D,L||(L=!0,O())}function le(D,V){M=E(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,ae(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var U=m;m=V;try{return D()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=m;m=D;try{return V()}finally{m=U}},t.unstable_scheduleCallback=function(D,V,U){var j=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?j+U:j):U=j,D){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=U+ie,D={id:d++,callback:V,priorityLevel:D,startTime:U,expirationTime:ie,sortIndex:-1},U>j?(D.sortIndex=U,e(h,D),r(c)===null&&D===r(h)&&(x?(w(M),M=-1):x=!0,le(A,U-j))):(D.sortIndex=ie,e(c,D),_||g||(_=!0,ae(k))),D},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(D){var V=m;return function(){var U=m;m=V;try{return D.apply(this,arguments)}finally{m=U}}}})(ik);nk.exports=ik;var yD=nk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sk=P,dn=yD;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ok=new Set,uh={};function Ya(t,e){hu(t,e),hu(t+"Capture",e)}function hu(t,e){for(uh[t]=e,t=0;t<e.length;t++)ok.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u1=Object.prototype.hasOwnProperty,vD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mE={},gE={};function _D(t){return u1.call(gE,t)?!0:u1.call(mE,t)?!1:vD.test(t)?gE[t]=!0:(mE[t]=!0,!1)}function xD(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wD(t,e,r,n){if(e===null||typeof e>"u"||xD(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ir(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sr[t]=new Ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sr[e]=new Ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sr[t]=new Ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sr[t]=new Ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sr[t]=new Ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sr[t]=new Ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sr[t]=new Ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sr[t]=new Ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sr[t]=new Ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ox=/[\-:]([a-z])/g;function Fx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ox,Fx);sr[e]=new Ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ox,Fx);sr[e]=new Ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ox,Fx);sr[e]=new Ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ux(t,e,r,n){var i=sr.hasOwnProperty(e)?sr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wD(e,r,i,n)&&(r=null),n||i===null?_D(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ms=sk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mf=Symbol.for("react.element"),Dl=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),c1=Symbol.for("react.profiler"),ak=Symbol.for("react.provider"),lk=Symbol.for("react.context"),zx=Symbol.for("react.forward_ref"),h1=Symbol.for("react.suspense"),d1=Symbol.for("react.suspense_list"),jx=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),uk=Symbol.for("react.offscreen"),yE=Symbol.iterator;function ic(t){return t===null||typeof t!="object"?null:(t=yE&&t[yE]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,x0;function Ac(t){if(x0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);x0=e&&e[1]||""}return`
`+x0+t}var w0=!1;function b0(t,e){if(!t||w0)return"";w0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{w0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ac(t):""}function bD(t){switch(t.tag){case 5:return Ac(t.type);case 16:return Ac("Lazy");case 13:return Ac("Suspense");case 19:return Ac("SuspenseList");case 0:case 2:case 15:return t=b0(t.type,!1),t;case 11:return t=b0(t.type.render,!1),t;case 1:return t=b0(t.type,!0),t;default:return""}}function f1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ll:return"Fragment";case Dl:return"Portal";case c1:return"Profiler";case Bx:return"StrictMode";case h1:return"Suspense";case d1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lk:return(t.displayName||"Context")+".Consumer";case ak:return(t._context.displayName||"Context")+".Provider";case zx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jx:return e=t.displayName||null,e!==null?e:f1(t.type)||"Memo";case io:e=t._payload,t=t._init;try{return f1(t(e))}catch{}}return null}function SD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return f1(e);case 8:return e===Bx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ck(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ED(t){var e=ck(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gf(t){t._valueTracker||(t._valueTracker=ED(t))}function hk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ck(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function jp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function p1(t,e){var r=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function vE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=No(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dk(t,e){e=e.checked,e!=null&&Ux(t,"checked",e,!1)}function m1(t,e){dk(t,e);var r=No(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?g1(t,e.type,r):e.hasOwnProperty("defaultValue")&&g1(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _E(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function g1(t,e,r){(e!=="number"||jp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cc=Array.isArray;function ql(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+No(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function y1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Cc(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:No(r)}}function fk(t,e){var r=No(e.value),n=No(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function wE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yf,mk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yf=yf||document.createElement("div"),yf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ch(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TD=["Webkit","ms","Moz","O"];Object.keys(zc).forEach(function(t){TD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zc[e]=zc[t]})});function gk(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zc.hasOwnProperty(t)&&zc[t]?(""+e).trim():e+"px"}function yk(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=gk(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var AD=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _1(t,e){if(e){if(AD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function x1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w1=null;function $x(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var b1=null,Ql=null,Kl=null;function bE(t){if(t=od(t)){if(typeof b1!="function")throw Error(te(280));var e=t.stateNode;e&&(e=og(e),b1(t.stateNode,t.type,e))}}function vk(t){Ql?Kl?Kl.push(t):Kl=[t]:Ql=t}function _k(){if(Ql){var t=Ql,e=Kl;if(Kl=Ql=null,bE(t),e)for(t=0;t<e.length;t++)bE(e[t])}}function xk(t,e){return t(e)}function wk(){}var S0=!1;function bk(t,e,r){if(S0)return t(e,r);S0=!0;try{return xk(t,e,r)}finally{S0=!1,(Ql!==null||Kl!==null)&&(wk(),_k())}}function hh(t,e){var r=t.stateNode;if(r===null)return null;var n=og(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var S1=!1;if(Es)try{var sc={};Object.defineProperty(sc,"passive",{get:function(){S1=!0}}),window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{S1=!1}function CD(t,e,r,n,i,s,o,a,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(d){this.onError(d)}}var jc=!1,$p=null,Gp=!1,E1=null,RD={onError:function(t){jc=!0,$p=t}};function kD(t,e,r,n,i,s,o,a,c){jc=!1,$p=null,CD.apply(RD,arguments)}function PD(t,e,r,n,i,s,o,a,c){if(kD.apply(this,arguments),jc){if(jc){var h=$p;jc=!1,$p=null}else throw Error(te(198));Gp||(Gp=!0,E1=h)}}function qa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Sk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SE(t){if(qa(t)!==t)throw Error(te(188))}function ID(t){var e=t.alternate;if(!e){if(e=qa(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return SE(i),t;if(s===n)return SE(i),e;s=s.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function Ek(t){return t=ID(t),t!==null?Tk(t):null}function Tk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tk(t);if(e!==null)return e;t=t.sibling}return null}var Ak=dn.unstable_scheduleCallback,EE=dn.unstable_cancelCallback,MD=dn.unstable_shouldYield,ND=dn.unstable_requestPaint,Rt=dn.unstable_now,DD=dn.unstable_getCurrentPriorityLevel,Gx=dn.unstable_ImmediatePriority,Ck=dn.unstable_UserBlockingPriority,Hp=dn.unstable_NormalPriority,LD=dn.unstable_LowPriority,Rk=dn.unstable_IdlePriority,rg=null,ji=null;function OD(t){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(rg,t,void 0,(t.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:BD,FD=Math.log,UD=Math.LN2;function BD(t){return t>>>=0,t===0?32:31-(FD(t)/UD|0)|0}var vf=64,_f=4194304;function Rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Rc(a):(s&=o,s!==0&&(n=Rc(s)))}else o=r&~i,o!==0?n=Rc(o):s!==0&&(n=Rc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-li(e),i=1<<r,n|=t[r],e&=~i;return n}function zD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jD(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-li(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=zD(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function T1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kk(){var t=vf;return vf<<=1,!(vf&4194240)&&(vf=64),t}function E0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function id(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-li(e),t[e]=r}function $D(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-li(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Hx(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-li(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Qe=0;function Pk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ik,Wx,Mk,Nk,Dk,A1=!1,xf=[],bo=null,So=null,Eo=null,dh=new Map,fh=new Map,co=[],GD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TE(t,e){switch(t){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":dh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(e.pointerId)}}function oc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=od(e),e!==null&&Wx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HD(t,e,r,n,i){switch(e){case"focusin":return bo=oc(bo,t,e,r,n,i),!0;case"dragenter":return So=oc(So,t,e,r,n,i),!0;case"mouseover":return Eo=oc(Eo,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return dh.set(s,oc(dh.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,fh.set(s,oc(fh.get(s)||null,t,e,r,n,i)),!0}return!1}function Lk(t){var e=Ea(t.target);if(e!==null){var r=qa(e);if(r!==null){if(e=r.tag,e===13){if(e=Sk(r),e!==null){t.blockedOn=e,Dk(t.priority,function(){Mk(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=C1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);w1=n,r.target.dispatchEvent(n),w1=null}else return e=od(r),e!==null&&Wx(e),t.blockedOn=r,!1;e.shift()}return!0}function AE(t,e,r){vp(t)&&r.delete(e)}function WD(){A1=!1,bo!==null&&vp(bo)&&(bo=null),So!==null&&vp(So)&&(So=null),Eo!==null&&vp(Eo)&&(Eo=null),dh.forEach(AE),fh.forEach(AE)}function ac(t,e){t.blockedOn===e&&(t.blockedOn=null,A1||(A1=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,WD)))}function ph(t){function e(i){return ac(i,t)}if(0<xf.length){ac(xf[0],t);for(var r=1;r<xf.length;r++){var n=xf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(bo!==null&&ac(bo,t),So!==null&&ac(So,t),Eo!==null&&ac(Eo,t),dh.forEach(e),fh.forEach(e),r=0;r<co.length;r++)n=co[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<co.length&&(r=co[0],r.blockedOn===null);)Lk(r),r.blockedOn===null&&co.shift()}var Zl=Ms.ReactCurrentBatchConfig,Vp=!0;function VD(t,e,r,n){var i=Qe,s=Zl.transition;Zl.transition=null;try{Qe=1,Vx(t,e,r,n)}finally{Qe=i,Zl.transition=s}}function XD(t,e,r,n){var i=Qe,s=Zl.transition;Zl.transition=null;try{Qe=4,Vx(t,e,r,n)}finally{Qe=i,Zl.transition=s}}function Vx(t,e,r,n){if(Vp){var i=C1(t,e,r,n);if(i===null)D0(t,e,n,Xp,r),TE(t,n);else if(HD(i,t,e,r,n))n.stopPropagation();else if(TE(t,n),e&4&&-1<GD.indexOf(t)){for(;i!==null;){var s=od(i);if(s!==null&&Ik(s),s=C1(t,e,r,n),s===null&&D0(t,e,n,Xp,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else D0(t,e,n,null,r)}}var Xp=null;function C1(t,e,r,n){if(Xp=null,t=$x(n),t=Ea(t),t!==null)if(e=qa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Sk(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xp=t,null}function Ok(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DD()){case Gx:return 1;case Ck:return 4;case Hp:case LD:return 16;case Rk:return 536870912;default:return 16}default:return 16}}var po=null,Xx=null,_p=null;function Fk(){if(_p)return _p;var t,e=Xx,r=e.length,n,i="value"in po?po.value:po.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return _p=i.slice(t,1<n?1-n:void 0)}function xp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wf(){return!0}function CE(){return!1}function gn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wf:CE,this.isPropagationStopped=CE,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wf)},persist:function(){},isPersistent:wf}),e}var Pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yx=gn(Pu),sd=_t({},Pu,{view:0,detail:0}),YD=gn(sd),T0,A0,lc,ng=_t({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lc&&(lc&&t.type==="mousemove"?(T0=t.screenX-lc.screenX,A0=t.screenY-lc.screenY):A0=T0=0,lc=t),T0)},movementY:function(t){return"movementY"in t?t.movementY:A0}}),RE=gn(ng),qD=_t({},ng,{dataTransfer:0}),QD=gn(qD),KD=_t({},sd,{relatedTarget:0}),C0=gn(KD),ZD=_t({},Pu,{animationName:0,elapsedTime:0,pseudoElement:0}),JD=gn(ZD),eL=_t({},Pu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tL=gn(eL),rL=_t({},Pu,{data:0}),kE=gn(rL),nL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sL[t])?!!e[t]:!1}function qx(){return oL}var aL=_t({},sd,{key:function(t){if(t.key){var e=nL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qx,charCode:function(t){return t.type==="keypress"?xp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lL=gn(aL),uL=_t({},ng,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PE=gn(uL),cL=_t({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qx}),hL=gn(cL),dL=_t({},Pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),fL=gn(dL),pL=_t({},ng,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mL=gn(pL),gL=[9,13,27,32],Qx=Es&&"CompositionEvent"in window,$c=null;Es&&"documentMode"in document&&($c=document.documentMode);var yL=Es&&"TextEvent"in window&&!$c,Uk=Es&&(!Qx||$c&&8<$c&&11>=$c),IE=String.fromCharCode(32),ME=!1;function Bk(t,e){switch(t){case"keyup":return gL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ol=!1;function vL(t,e){switch(t){case"compositionend":return zk(e);case"keypress":return e.which!==32?null:(ME=!0,IE);case"textInput":return t=e.data,t===IE&&ME?null:t;default:return null}}function _L(t,e){if(Ol)return t==="compositionend"||!Qx&&Bk(t,e)?(t=Fk(),_p=Xx=po=null,Ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uk&&e.locale!=="ko"?null:e.data;default:return null}}var xL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xL[t.type]:e==="textarea"}function jk(t,e,r,n){vk(n),e=Yp(e,"onChange"),0<e.length&&(r=new Yx("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Gc=null,mh=null;function wL(t){Zk(t,0)}function ig(t){var e=Bl(t);if(hk(e))return t}function bL(t,e){if(t==="change")return e}var $k=!1;if(Es){var R0;if(Es){var k0="oninput"in document;if(!k0){var DE=document.createElement("div");DE.setAttribute("oninput","return;"),k0=typeof DE.oninput=="function"}R0=k0}else R0=!1;$k=R0&&(!document.documentMode||9<document.documentMode)}function LE(){Gc&&(Gc.detachEvent("onpropertychange",Gk),mh=Gc=null)}function Gk(t){if(t.propertyName==="value"&&ig(mh)){var e=[];jk(e,mh,t,$x(t)),bk(wL,e)}}function SL(t,e,r){t==="focusin"?(LE(),Gc=e,mh=r,Gc.attachEvent("onpropertychange",Gk)):t==="focusout"&&LE()}function EL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ig(mh)}function TL(t,e){if(t==="click")return ig(e)}function AL(t,e){if(t==="input"||t==="change")return ig(e)}function CL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var di=typeof Object.is=="function"?Object.is:CL;function gh(t,e){if(di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!u1.call(e,i)||!di(t[i],e[i]))return!1}return!0}function OE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function FE(t,e){var r=OE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=OE(r)}}function Hk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wk(){for(var t=window,e=jp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=jp(t.document)}return e}function Kx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RL(t){var e=Wk(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Hk(r.ownerDocument.documentElement,r)){if(n!==null&&Kx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=FE(r,s);var o=FE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kL=Es&&"documentMode"in document&&11>=document.documentMode,Fl=null,R1=null,Hc=null,k1=!1;function UE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;k1||Fl==null||Fl!==jp(n)||(n=Fl,"selectionStart"in n&&Kx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hc&&gh(Hc,n)||(Hc=n,n=Yp(R1,"onSelect"),0<n.length&&(e=new Yx("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Fl)))}function bf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ul={animationend:bf("Animation","AnimationEnd"),animationiteration:bf("Animation","AnimationIteration"),animationstart:bf("Animation","AnimationStart"),transitionend:bf("Transition","TransitionEnd")},P0={},Vk={};Es&&(Vk=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function sg(t){if(P0[t])return P0[t];if(!Ul[t])return t;var e=Ul[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Vk)return P0[t]=e[r];return t}var Xk=sg("animationend"),Yk=sg("animationiteration"),qk=sg("animationstart"),Qk=sg("transitionend"),Kk=new Map,BE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(t,e){Kk.set(t,e),Ya(e,[t])}for(var I0=0;I0<BE.length;I0++){var M0=BE[I0],PL=M0.toLowerCase(),IL=M0[0].toUpperCase()+M0.slice(1);zo(PL,"on"+IL)}zo(Xk,"onAnimationEnd");zo(Yk,"onAnimationIteration");zo(qk,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(Qk,"onTransitionEnd");hu("onMouseEnter",["mouseout","mouseover"]);hu("onMouseLeave",["mouseout","mouseover"]);hu("onPointerEnter",["pointerout","pointerover"]);hu("onPointerLeave",["pointerout","pointerover"]);Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ML=new Set("cancel close invalid load scroll toggle".split(" ").concat(kc));function zE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,PD(n,e,void 0,t),t.currentTarget=null}function Zk(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,h=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;zE(i,a,h),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,h=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;zE(i,a,h),s=c}}}if(Gp)throw t=E1,Gp=!1,E1=null,t}function rt(t,e){var r=e[D1];r===void 0&&(r=e[D1]=new Set);var n=t+"__bubble";r.has(n)||(Jk(e,t,2,!1),r.add(n))}function N0(t,e,r){var n=0;e&&(n|=4),Jk(r,t,n,e)}var Sf="_reactListening"+Math.random().toString(36).slice(2);function yh(t){if(!t[Sf]){t[Sf]=!0,ok.forEach(function(r){r!=="selectionchange"&&(ML.has(r)||N0(r,!1,t),N0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sf]||(e[Sf]=!0,N0("selectionchange",!1,e))}}function Jk(t,e,r,n){switch(Ok(e)){case 1:var i=VD;break;case 4:i=XD;break;default:i=Vx}r=i.bind(null,e,r,t),i=void 0,!S1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function D0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ea(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}bk(function(){var h=s,d=$x(r),f=[];e:{var m=Kk.get(t);if(m!==void 0){var g=Yx,_=t;switch(t){case"keypress":if(xp(r)===0)break e;case"keydown":case"keyup":g=lL;break;case"focusin":_="focus",g=C0;break;case"focusout":_="blur",g=C0;break;case"beforeblur":case"afterblur":g=C0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=RE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=QD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=hL;break;case Xk:case Yk:case qk:g=JD;break;case Qk:g=fL;break;case"scroll":g=YD;break;case"wheel":g=mL;break;case"copy":case"cut":case"paste":g=tL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=PE}var x=(e&4)!==0,E=!x&&t==="scroll",w=x?m!==null?m+"Capture":null:m;x=[];for(var b=h,S;b!==null;){S=b;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,w!==null&&(A=hh(b,w),A!=null&&x.push(vh(b,A,S)))),E)break;b=b.return}0<x.length&&(m=new g(m,_,null,r,d),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&r!==w1&&(_=r.relatedTarget||r.fromElement)&&(Ea(_)||_[Ts]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(_=r.relatedTarget||r.toElement,g=h,_=_?Ea(_):null,_!==null&&(E=qa(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=h),g!==_)){if(x=RE,A="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=PE,A="onPointerLeave",w="onPointerEnter",b="pointer"),E=g==null?m:Bl(g),S=_==null?m:Bl(_),m=new x(A,b+"leave",g,r,d),m.target=E,m.relatedTarget=S,A=null,Ea(d)===h&&(x=new x(w,b+"enter",_,r,d),x.target=S,x.relatedTarget=E,A=x),E=A,g&&_)t:{for(x=g,w=_,b=0,S=x;S;S=vl(S))b++;for(S=0,A=w;A;A=vl(A))S++;for(;0<b-S;)x=vl(x),b--;for(;0<S-b;)w=vl(w),S--;for(;b--;){if(x===w||w!==null&&x===w.alternate)break t;x=vl(x),w=vl(w)}x=null}else x=null;g!==null&&jE(f,m,g,x,!1),_!==null&&E!==null&&jE(f,E,_,x,!0)}}e:{if(m=h?Bl(h):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var k=bL;else if(NE(m))if($k)k=AL;else{k=EL;var L=SL}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=TL);if(k&&(k=k(t,h))){jk(f,k,r,d);break e}L&&L(t,m,h),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&g1(m,"number",m.value)}switch(L=h?Bl(h):window,t){case"focusin":(NE(L)||L.contentEditable==="true")&&(Fl=L,R1=h,Hc=null);break;case"focusout":Hc=R1=Fl=null;break;case"mousedown":k1=!0;break;case"contextmenu":case"mouseup":case"dragend":k1=!1,UE(f,r,d);break;case"selectionchange":if(kL)break;case"keydown":case"keyup":UE(f,r,d)}var I;if(Qx)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Ol?Bk(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(Uk&&r.locale!=="ko"&&(Ol||M!=="onCompositionStart"?M==="onCompositionEnd"&&Ol&&(I=Fk()):(po=d,Xx="value"in po?po.value:po.textContent,Ol=!0)),L=Yp(h,M),0<L.length&&(M=new kE(M,t,null,r,d),f.push({event:M,listeners:L}),I?M.data=I:(I=zk(r),I!==null&&(M.data=I)))),(I=yL?vL(t,r):_L(t,r))&&(h=Yp(h,"onBeforeInput"),0<h.length&&(d=new kE("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:h}),d.data=I))}Zk(f,e)})}function vh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Yp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hh(t,r),s!=null&&n.unshift(vh(t,s,i)),s=hh(t,e),s!=null&&n.push(vh(t,s,i))),t=t.return}return n}function vl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jE(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,h=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&h!==null&&(a=h,i?(c=hh(r,s),c!=null&&o.unshift(vh(r,c,a))):i||(c=hh(r,s),c!=null&&o.push(vh(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var NL=/\r\n?/g,DL=/\u0000|\uFFFD/g;function $E(t){return(typeof t=="string"?t:""+t).replace(NL,`
`).replace(DL,"")}function Ef(t,e,r){if(e=$E(e),$E(t)!==e&&r)throw Error(te(425))}function qp(){}var P1=null,I1=null;function M1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var N1=typeof setTimeout=="function"?setTimeout:void 0,LL=typeof clearTimeout=="function"?clearTimeout:void 0,GE=typeof Promise=="function"?Promise:void 0,OL=typeof queueMicrotask=="function"?queueMicrotask:typeof GE<"u"?function(t){return GE.resolve(null).then(t).catch(FL)}:N1;function FL(t){setTimeout(function(){throw t})}function L0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ph(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ph(e)}function To(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function HE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Iu=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Iu,_h="__reactProps$"+Iu,Ts="__reactContainer$"+Iu,D1="__reactEvents$"+Iu,UL="__reactListeners$"+Iu,BL="__reactHandles$"+Iu;function Ea(t){var e=t[Bi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ts]||r[Bi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=HE(t);t!==null;){if(r=t[Bi])return r;t=HE(t)}return e}t=r,r=t.parentNode}return null}function od(t){return t=t[Bi]||t[Ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function og(t){return t[_h]||null}var L1=[],zl=-1;function jo(t){return{current:t}}function it(t){0>zl||(t.current=L1[zl],L1[zl]=null,zl--)}function et(t,e){zl++,L1[zl]=t.current,t.current=e}var Do={},gr=jo(Do),Vr=jo(!1),La=Do;function du(t,e){var r=t.type.contextTypes;if(!r)return Do;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xr(t){return t=t.childContextTypes,t!=null}function Qp(){it(Vr),it(gr)}function WE(t,e,r){if(gr.current!==Do)throw Error(te(168));et(gr,e),et(Vr,r)}function eP(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,SD(t)||"Unknown",i));return _t({},r,n)}function Kp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Do,La=gr.current,et(gr,t),et(Vr,Vr.current),!0}function VE(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=eP(t,e,La),n.__reactInternalMemoizedMergedChildContext=t,it(Vr),it(gr),et(gr,t)):it(Vr),et(Vr,r)}var fs=null,ag=!1,O0=!1;function tP(t){fs===null?fs=[t]:fs.push(t)}function zL(t){ag=!0,tP(t)}function $o(){if(!O0&&fs!==null){O0=!0;var t=0,e=Qe;try{var r=fs;for(Qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}fs=null,ag=!1}catch(i){throw fs!==null&&(fs=fs.slice(t+1)),Ak(Gx,$o),i}finally{Qe=e,O0=!1}}return null}var jl=[],$l=0,Zp=null,Jp=0,kn=[],Pn=0,Oa=null,gs=1,ys="";function da(t,e){jl[$l++]=Jp,jl[$l++]=Zp,Zp=t,Jp=e}function rP(t,e,r){kn[Pn++]=gs,kn[Pn++]=ys,kn[Pn++]=Oa,Oa=t;var n=gs;t=ys;var i=32-li(n)-1;n&=~(1<<i),r+=1;var s=32-li(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,gs=1<<32-li(e)+i|r<<i|n,ys=s+t}else gs=1<<s|r<<i|n,ys=t}function Zx(t){t.return!==null&&(da(t,1),rP(t,1,0))}function Jx(t){for(;t===Zp;)Zp=jl[--$l],jl[$l]=null,Jp=jl[--$l],jl[$l]=null;for(;t===Oa;)Oa=kn[--Pn],kn[Pn]=null,ys=kn[--Pn],kn[Pn]=null,gs=kn[--Pn],kn[Pn]=null}var un=null,on=null,ut=!1,ti=null;function nP(t,e){var r=Nn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function XE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,on=To(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Oa!==null?{id:gs,overflow:ys}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Nn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,un=t,on=null,!0):!1;default:return!1}}function O1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function F1(t){if(ut){var e=on;if(e){var r=e;if(!XE(t,e)){if(O1(t))throw Error(te(418));e=To(r.nextSibling);var n=un;e&&XE(t,e)?nP(n,r):(t.flags=t.flags&-4097|2,ut=!1,un=t)}}else{if(O1(t))throw Error(te(418));t.flags=t.flags&-4097|2,ut=!1,un=t}}}function YE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function Tf(t){if(t!==un)return!1;if(!ut)return YE(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!M1(t.type,t.memoizedProps)),e&&(e=on)){if(O1(t))throw iP(),Error(te(418));for(;e;)nP(t,e),e=To(e.nextSibling)}if(YE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){on=To(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}on=null}}else on=un?To(t.stateNode.nextSibling):null;return!0}function iP(){for(var t=on;t;)t=To(t.nextSibling)}function fu(){on=un=null,ut=!1}function ew(t){ti===null?ti=[t]:ti.push(t)}var jL=Ms.ReactCurrentBatchConfig;function Jn(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var em=jo(null),tm=null,Gl=null,tw=null;function rw(){tw=Gl=tm=null}function nw(t){var e=em.current;it(em),t._currentValue=e}function U1(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Jl(t,e){tm=t,tw=Gl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hr=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(tw!==t)if(t={context:t,memoizedValue:e,next:null},Gl===null){if(tm===null)throw Error(te(308));Gl=t,tm.dependencies={lanes:0,firstContext:t}}else Gl=Gl.next=t;return e}var Ta=null;function iw(t){Ta===null?Ta=[t]:Ta.push(t)}function sP(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,iw(e)):(r.next=i.next,i.next=r),e.interleaved=r,As(t,n)}function As(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var so=!1;function sw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ao(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,As(t,r)}return i=n.interleaved,i===null?(e.next=e,iw(n)):(e.next=i.next,i.next=e),n.interleaved=e,As(t,r)}function wp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Hx(t,r)}}function qE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function rm(t,e,r,n){var i=t.updateQueue;so=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=h:a.next=h,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=h=c=null,a=s;do{var m=a.lane,g=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(m=e,g=r,x.tag){case 1:if(_=x.payload,typeof _=="function"){f=_.call(g,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,m=typeof _=="function"?_.call(g,f,m):_,m==null)break e;f=_t({},f,m);break e;case 2:so=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(h=d=g,c=f):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ua|=o,t.lanes=o,t.memoizedState=f}}function QE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var aP=new sk.Component().refs;function B1(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:_t({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var lg={isMounted:function(t){return(t=t._reactInternals)?qa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ar(),i=Ro(t),s=ws(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ao(t,s,i),e!==null&&(ui(e,t,i,n),wp(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ar(),i=Ro(t),s=ws(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ao(t,s,i),e!==null&&(ui(e,t,i,n),wp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ar(),n=Ro(t),i=ws(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ao(t,i,n),e!==null&&(ui(e,t,n,r),wp(e,t,n))}};function KE(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!gh(r,n)||!gh(i,s):!0}function lP(t,e,r){var n=!1,i=Do,s=e.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=Xr(e)?La:gr.current,n=e.contextTypes,s=(n=n!=null)?du(t,i):Do),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ZE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&lg.enqueueReplaceState(e,e.state,null)}function z1(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=aP,sw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=Xr(e)?La:gr.current,i.context=du(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(B1(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lg.enqueueReplaceState(i,i.state,null),rm(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===aP&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function Af(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JE(t){var e=t._init;return e(t._payload)}function uP(t){function e(w,b){if(t){var S=w.deletions;S===null?(w.deletions=[b],w.flags|=16):S.push(b)}}function r(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=ko(w,b),w.index=0,w.sibling=null,w}function s(w,b,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<b?(w.flags|=2,b):S):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,S,A){return b===null||b.tag!==6?(b=G0(S,w.mode,A),b.return=w,b):(b=i(b,S),b.return=w,b)}function c(w,b,S,A){var k=S.type;return k===Ll?d(w,b,S.props.children,A,S.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===io&&JE(k)===b.type)?(A=i(b,S.props),A.ref=uc(w,b,S),A.return=w,A):(A=Cp(S.type,S.key,S.props,null,w.mode,A),A.ref=uc(w,b,S),A.return=w,A)}function h(w,b,S,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=H0(S,w.mode,A),b.return=w,b):(b=i(b,S.children||[]),b.return=w,b)}function d(w,b,S,A,k){return b===null||b.tag!==7?(b=Ra(S,w.mode,A,k),b.return=w,b):(b=i(b,S),b.return=w,b)}function f(w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=G0(""+b,w.mode,S),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mf:return S=Cp(b.type,b.key,b.props,null,w.mode,S),S.ref=uc(w,null,b),S.return=w,S;case Dl:return b=H0(b,w.mode,S),b.return=w,b;case io:var A=b._init;return f(w,A(b._payload),S)}if(Cc(b)||ic(b))return b=Ra(b,w.mode,S,null),b.return=w,b;Af(w,b)}return null}function m(w,b,S,A){var k=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:a(w,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mf:return S.key===k?c(w,b,S,A):null;case Dl:return S.key===k?h(w,b,S,A):null;case io:return k=S._init,m(w,b,k(S._payload),A)}if(Cc(S)||ic(S))return k!==null?null:d(w,b,S,A,null);Af(w,S)}return null}function g(w,b,S,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(S)||null,a(b,w,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case mf:return w=w.get(A.key===null?S:A.key)||null,c(b,w,A,k);case Dl:return w=w.get(A.key===null?S:A.key)||null,h(b,w,A,k);case io:var L=A._init;return g(w,b,S,L(A._payload),k)}if(Cc(A)||ic(A))return w=w.get(S)||null,d(b,w,A,k,null);Af(b,A)}return null}function _(w,b,S,A){for(var k=null,L=null,I=b,M=b=0,z=null;I!==null&&M<S.length;M++){I.index>M?(z=I,I=null):z=I.sibling;var $=m(w,I,S[M],A);if($===null){I===null&&(I=z);break}t&&I&&$.alternate===null&&e(w,I),b=s($,b,M),L===null?k=$:L.sibling=$,L=$,I=z}if(M===S.length)return r(w,I),ut&&da(w,M),k;if(I===null){for(;M<S.length;M++)I=f(w,S[M],A),I!==null&&(b=s(I,b,M),L===null?k=I:L.sibling=I,L=I);return ut&&da(w,M),k}for(I=n(w,I);M<S.length;M++)z=g(I,w,M,S[M],A),z!==null&&(t&&z.alternate!==null&&I.delete(z.key===null?M:z.key),b=s(z,b,M),L===null?k=z:L.sibling=z,L=z);return t&&I.forEach(function(Z){return e(w,Z)}),ut&&da(w,M),k}function x(w,b,S,A){var k=ic(S);if(typeof k!="function")throw Error(te(150));if(S=k.call(S),S==null)throw Error(te(151));for(var L=k=null,I=b,M=b=0,z=null,$=S.next();I!==null&&!$.done;M++,$=S.next()){I.index>M?(z=I,I=null):z=I.sibling;var Z=m(w,I,$.value,A);if(Z===null){I===null&&(I=z);break}t&&I&&Z.alternate===null&&e(w,I),b=s(Z,b,M),L===null?k=Z:L.sibling=Z,L=Z,I=z}if($.done)return r(w,I),ut&&da(w,M),k;if(I===null){for(;!$.done;M++,$=S.next())$=f(w,$.value,A),$!==null&&(b=s($,b,M),L===null?k=$:L.sibling=$,L=$);return ut&&da(w,M),k}for(I=n(w,I);!$.done;M++,$=S.next())$=g(I,w,M,$.value,A),$!==null&&(t&&$.alternate!==null&&I.delete($.key===null?M:$.key),b=s($,b,M),L===null?k=$:L.sibling=$,L=$);return t&&I.forEach(function(Y){return e(w,Y)}),ut&&da(w,M),k}function E(w,b,S,A){if(typeof S=="object"&&S!==null&&S.type===Ll&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case mf:e:{for(var k=S.key,L=b;L!==null;){if(L.key===k){if(k=S.type,k===Ll){if(L.tag===7){r(w,L.sibling),b=i(L,S.props.children),b.return=w,w=b;break e}}else if(L.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===io&&JE(k)===L.type){r(w,L.sibling),b=i(L,S.props),b.ref=uc(w,L,S),b.return=w,w=b;break e}r(w,L);break}else e(w,L);L=L.sibling}S.type===Ll?(b=Ra(S.props.children,w.mode,A,S.key),b.return=w,w=b):(A=Cp(S.type,S.key,S.props,null,w.mode,A),A.ref=uc(w,b,S),A.return=w,w=A)}return o(w);case Dl:e:{for(L=S.key;b!==null;){if(b.key===L)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(w,b.sibling),b=i(b,S.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else e(w,b);b=b.sibling}b=H0(S,w.mode,A),b.return=w,w=b}return o(w);case io:return L=S._init,E(w,b,L(S._payload),A)}if(Cc(S))return _(w,b,S,A);if(ic(S))return x(w,b,S,A);Af(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(w,b.sibling),b=i(b,S),b.return=w,w=b):(r(w,b),b=G0(S,w.mode,A),b.return=w,w=b),o(w)):r(w,b)}return E}var pu=uP(!0),cP=uP(!1),ad={},$i=jo(ad),xh=jo(ad),wh=jo(ad);function Aa(t){if(t===ad)throw Error(te(174));return t}function ow(t,e){switch(et(wh,e),et(xh,t),et($i,ad),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:v1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=v1(e,t)}it($i),et($i,e)}function mu(){it($i),it(xh),it(wh)}function hP(t){Aa(wh.current);var e=Aa($i.current),r=v1(e,t.type);e!==r&&(et(xh,t),et($i,r))}function aw(t){xh.current===t&&(it($i),it(xh))}var ft=jo(0);function nm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F0=[];function lw(){for(var t=0;t<F0.length;t++)F0[t]._workInProgressVersionPrimary=null;F0.length=0}var bp=Ms.ReactCurrentDispatcher,U0=Ms.ReactCurrentBatchConfig,Fa=0,vt=null,Ft=null,Xt=null,im=!1,Wc=!1,bh=0,$L=0;function hr(){throw Error(te(321))}function uw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!di(t[r],e[r]))return!1;return!0}function cw(t,e,r,n,i,s){if(Fa=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bp.current=t===null||t.memoizedState===null?VL:XL,t=r(n,i),Wc){s=0;do{if(Wc=!1,bh=0,25<=s)throw Error(te(301));s+=1,Xt=Ft=null,e.updateQueue=null,bp.current=YL,t=r(n,i)}while(Wc)}if(bp.current=sm,e=Ft!==null&&Ft.next!==null,Fa=0,Xt=Ft=vt=null,im=!1,e)throw Error(te(300));return t}function hw(){var t=bh!==0;return bh=0,t}function Li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?vt.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Bn(){if(Ft===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Xt===null?vt.memoizedState:Xt.next;if(e!==null)Xt=e,Ft=t;else{if(t===null)throw Error(te(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Xt===null?vt.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Sh(t,e){return typeof e=="function"?e(t):e}function B0(t){var e=Bn(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=Ft,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,h=s;do{var d=h.lane;if((Fa&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var f={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(a=c=f,o=n):c=c.next=f,vt.lanes|=d,Ua|=d}h=h.next}while(h!==null&&h!==s);c===null?o=n:c.next=a,di(n,e.memoizedState)||(Hr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,Ua|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function z0(t){var e=Bn(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);di(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function dP(){}function fP(t,e){var r=vt,n=Bn(),i=e(),s=!di(n.memoizedState,i);if(s&&(n.memoizedState=i,Hr=!0),n=n.queue,dw(gP.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Xt!==null&&Xt.memoizedState.tag&1){if(r.flags|=2048,Eh(9,mP.bind(null,r,n,i,e),void 0,null),Kt===null)throw Error(te(349));Fa&30||pP(r,e,i)}return i}function pP(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function mP(t,e,r,n){e.value=r,e.getSnapshot=n,yP(e)&&vP(t)}function gP(t,e,r){return r(function(){yP(e)&&vP(t)})}function yP(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!di(t,r)}catch{return!0}}function vP(t){var e=As(t,1);e!==null&&ui(e,t,1,-1)}function eT(t){var e=Li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sh,lastRenderedState:t},e.queue=t,t=t.dispatch=WL.bind(null,vt,t),[e.memoizedState,t]}function Eh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _P(){return Bn().memoizedState}function Sp(t,e,r,n){var i=Li();vt.flags|=t,i.memoizedState=Eh(1|e,r,void 0,n===void 0?null:n)}function ug(t,e,r,n){var i=Bn();n=n===void 0?null:n;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,n!==null&&uw(n,o.deps)){i.memoizedState=Eh(e,r,s,n);return}}vt.flags|=t,i.memoizedState=Eh(1|e,r,s,n)}function tT(t,e){return Sp(8390656,8,t,e)}function dw(t,e){return ug(2048,8,t,e)}function xP(t,e){return ug(4,2,t,e)}function wP(t,e){return ug(4,4,t,e)}function bP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SP(t,e,r){return r=r!=null?r.concat([t]):null,ug(4,4,bP.bind(null,e,t),r)}function fw(){}function EP(t,e){var r=Bn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&uw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function TP(t,e){var r=Bn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&uw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function AP(t,e,r){return Fa&21?(di(r,e)||(r=kk(),vt.lanes|=r,Ua|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hr=!0),t.memoizedState=r)}function GL(t,e){var r=Qe;Qe=r!==0&&4>r?r:4,t(!0);var n=U0.transition;U0.transition={};try{t(!1),e()}finally{Qe=r,U0.transition=n}}function CP(){return Bn().memoizedState}function HL(t,e,r){var n=Ro(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RP(t))kP(e,r);else if(r=sP(t,e,r,n),r!==null){var i=Ar();ui(r,t,n,i),PP(r,e,n)}}function WL(t,e,r){var n=Ro(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RP(t))kP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,di(a,o)){var c=e.interleaved;c===null?(i.next=i,iw(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=sP(t,e,i,n),r!==null&&(i=Ar(),ui(r,t,n,i),PP(r,e,n))}}function RP(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function kP(t,e){Wc=im=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function PP(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Hx(t,r)}}var sm={readContext:Un,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},VL={readContext:Un,useCallback:function(t,e){return Li().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:tT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Sp(4194308,4,bP.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Sp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sp(4,2,t,e)},useMemo:function(t,e){var r=Li();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Li();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=HL.bind(null,vt,t),[n.memoizedState,t]},useRef:function(t){var e=Li();return t={current:t},e.memoizedState=t},useState:eT,useDebugValue:fw,useDeferredValue:function(t){return Li().memoizedState=t},useTransition:function(){var t=eT(!1),e=t[0];return t=GL.bind(null,t[1]),Li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=vt,i=Li();if(ut){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Kt===null)throw Error(te(349));Fa&30||pP(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,tT(gP.bind(null,n,s,t),[t]),n.flags|=2048,Eh(9,mP.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Li(),e=Kt.identifierPrefix;if(ut){var r=ys,n=gs;r=(n&~(1<<32-li(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=bh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=$L++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XL={readContext:Un,useCallback:EP,useContext:Un,useEffect:dw,useImperativeHandle:SP,useInsertionEffect:xP,useLayoutEffect:wP,useMemo:TP,useReducer:B0,useRef:_P,useState:function(){return B0(Sh)},useDebugValue:fw,useDeferredValue:function(t){var e=Bn();return AP(e,Ft.memoizedState,t)},useTransition:function(){var t=B0(Sh)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:dP,useSyncExternalStore:fP,useId:CP,unstable_isNewReconciler:!1},YL={readContext:Un,useCallback:EP,useContext:Un,useEffect:dw,useImperativeHandle:SP,useInsertionEffect:xP,useLayoutEffect:wP,useMemo:TP,useReducer:z0,useRef:_P,useState:function(){return z0(Sh)},useDebugValue:fw,useDeferredValue:function(t){var e=Bn();return Ft===null?e.memoizedState=t:AP(e,Ft.memoizedState,t)},useTransition:function(){var t=z0(Sh)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:dP,useSyncExternalStore:fP,useId:CP,unstable_isNewReconciler:!1};function gu(t,e){try{var r="",n=e;do r+=bD(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function j0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function j1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var qL=typeof WeakMap=="function"?WeakMap:Map;function IP(t,e,r){r=ws(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){am||(am=!0,K1=n),j1(t,e)},r}function MP(t,e,r){r=ws(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){j1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){j1(t,e),typeof n!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function rT(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new qL;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=uO.bind(null,t,e,r),e.then(t,t))}function nT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iT(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ws(-1,1),e.tag=2,Ao(r,e,1))),r.lanes|=1),t)}var QL=Ms.ReactCurrentOwner,Hr=!1;function Sr(t,e,r,n){e.child=t===null?cP(e,null,r,n):pu(e,t.child,r,n)}function sT(t,e,r,n,i){r=r.render;var s=e.ref;return Jl(e,i),n=cw(t,e,r,n,s,i),r=hw(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(ut&&r&&Zx(e),e.flags|=1,Sr(t,e,n,i),e.child)}function oT(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!ww(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,NP(t,e,s,n,i)):(t=Cp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:gh,r(o,n)&&t.ref===e.ref)return Cs(t,e,i)}return e.flags|=1,t=ko(s,n),t.ref=e.ref,t.return=e,e.child=t}function NP(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(gh(s,n)&&t.ref===e.ref)if(Hr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Hr=!0);else return e.lanes=t.lanes,Cs(t,e,i)}return $1(t,e,r,n,i)}function DP(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Wl,nn),nn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Wl,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,et(Wl,nn),nn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,et(Wl,nn),nn|=n;return Sr(t,e,i,r),e.child}function LP(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function $1(t,e,r,n,i){var s=Xr(r)?La:gr.current;return s=du(e,s),Jl(e,i),r=cw(t,e,r,n,s,i),n=hw(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(ut&&n&&Zx(e),e.flags|=1,Sr(t,e,r,i),e.child)}function aT(t,e,r,n,i){if(Xr(r)){var s=!0;Kp(e)}else s=!1;if(Jl(e,i),e.stateNode===null)Ep(t,e),lP(e,r,n),z1(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=Un(h):(h=Xr(r)?La:gr.current,h=du(e,h));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==h)&&ZE(e,o,n,h),so=!1;var m=e.memoizedState;o.state=m,rm(e,n,o,i),c=e.memoizedState,a!==n||m!==c||Vr.current||so?(typeof d=="function"&&(B1(e,r,d,n),c=e.memoizedState),(a=so||KE(e,r,a,n,m,c,h))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=h,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,oP(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Jn(e.type,a),o.props=h,f=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Un(c):(c=Xr(r)?La:gr.current,c=du(e,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&ZE(e,o,n,c),so=!1,m=e.memoizedState,o.state=m,rm(e,n,o,i);var _=e.memoizedState;a!==f||m!==_||Vr.current||so?(typeof g=="function"&&(B1(e,r,g,n),_=e.memoizedState),(h=so||KE(e,r,h,n,m,_,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return G1(t,e,r,n,s,i)}function G1(t,e,r,n,i,s){LP(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&VE(e,r,!1),Cs(t,e,s);n=e.stateNode,QL.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=pu(e,t.child,null,s),e.child=pu(e,null,a,s)):Sr(t,e,a,s),e.memoizedState=n.state,i&&VE(e,r,!0),e.child}function OP(t){var e=t.stateNode;e.pendingContext?WE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WE(t,e.context,!1),ow(t,e.containerInfo)}function lT(t,e,r,n,i){return fu(),ew(i),e.flags|=256,Sr(t,e,r,n),e.child}var H1={dehydrated:null,treeContext:null,retryLane:0};function W1(t){return{baseLanes:t,cachePool:null,transitions:null}}function FP(t,e,r){var n=e.pendingProps,i=ft.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ft,i&1),t===null)return F1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dg(o,n,0,null),t=Ra(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=W1(r),e.memoizedState=H1,t):pw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KL(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ko(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ko(a,s):(s=Ra(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?W1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=H1,n}return s=t.child,t=s.sibling,n=ko(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function pw(t,e){return e=dg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cf(t,e,r,n){return n!==null&&ew(n),pu(e,t.child,null,r),t=pw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KL(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=j0(Error(te(422))),Cf(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=dg({mode:"visible",children:n.children},i,0,null),s=Ra(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&pu(e,t.child,null,o),e.child.memoizedState=W1(o),e.memoizedState=H1,s);if(!(e.mode&1))return Cf(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(te(419)),n=j0(s,n,void 0),Cf(t,e,o,n)}if(a=(o&t.childLanes)!==0,Hr||a){if(n=Kt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,As(t,i),ui(n,t,i,-1))}return xw(),n=j0(Error(te(421))),Cf(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,on=To(i.nextSibling),un=e,ut=!0,ti=null,t!==null&&(kn[Pn++]=gs,kn[Pn++]=ys,kn[Pn++]=Oa,gs=t.id,ys=t.overflow,Oa=e),e=pw(e,n.children),e.flags|=4096,e)}function uT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),U1(t.return,e,r)}function $0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function UP(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Sr(t,e,n.children,r),n=ft.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uT(t,r,e);else if(t.tag===19)uT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(et(ft,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&nm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),$0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}$0(e,!0,r,null,s);break;case"together":$0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ep(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ua|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=ko(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ko(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ZL(t,e,r){switch(e.tag){case 3:OP(e),fu();break;case 5:hP(e);break;case 1:Xr(e.type)&&Kp(e);break;case 4:ow(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;et(em,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(et(ft,ft.current&1),e.flags|=128,null):r&e.child.childLanes?FP(t,e,r):(et(ft,ft.current&1),t=Cs(t,e,r),t!==null?t.sibling:null);et(ft,ft.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return UP(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ft,ft.current),n)break;return null;case 22:case 23:return e.lanes=0,DP(t,e,r)}return Cs(t,e,r)}var BP,V1,zP,jP;BP=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};V1=function(){};zP=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Aa($i.current);var s=null;switch(r){case"input":i=p1(t,i),n=p1(t,n),s=[];break;case"select":i=_t({},i,{value:void 0}),n=_t({},n,{value:void 0}),s=[];break;case"textarea":i=y1(t,i),n=y1(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=qp)}_1(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(uh.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(a=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&c!==a&&(c!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(uh.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&rt("scroll",t),s||a===c||(s=[])):(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};jP=function(t,e,r,n){r!==n&&(e.flags|=4)};function cc(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function JL(t,e,r){var n=e.pendingProps;switch(Jx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(e),null;case 1:return Xr(e.type)&&Qp(),dr(e),null;case 3:return n=e.stateNode,mu(),it(Vr),it(gr),lw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Tf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ti!==null&&(e_(ti),ti=null))),V1(t,e),dr(e),null;case 5:aw(e);var i=Aa(wh.current);if(r=e.type,t!==null&&e.stateNode!=null)zP(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return dr(e),null}if(t=Aa($i.current),Tf(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Bi]=e,n[_h]=s,t=(e.mode&1)!==0,r){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(i=0;i<kc.length;i++)rt(kc[i],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":vE(n,s),rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},rt("invalid",n);break;case"textarea":xE(n,s),rt("invalid",n)}_1(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ef(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ef(n.textContent,a,t),i=["children",""+a]):uh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rt("scroll",n)}switch(r){case"input":gf(n),_E(n,s,!0);break;case"textarea":gf(n),wE(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=qp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pk(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Bi]=e,t[_h]=n,BP(t,e,!1,!1),e.stateNode=t;e:{switch(o=x1(r,n),r){case"dialog":rt("cancel",t),rt("close",t),i=n;break;case"iframe":case"object":case"embed":rt("load",t),i=n;break;case"video":case"audio":for(i=0;i<kc.length;i++)rt(kc[i],t);i=n;break;case"source":rt("error",t),i=n;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=n;break;case"details":rt("toggle",t),i=n;break;case"input":vE(t,n),i=p1(t,n),rt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=_t({},n,{value:void 0}),rt("invalid",t);break;case"textarea":xE(t,n),i=y1(t,n),rt("invalid",t);break;default:i=n}_1(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?yk(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mk(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ch(t,c):typeof c=="number"&&ch(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(uh.hasOwnProperty(s)?c!=null&&s==="onScroll"&&rt("scroll",t):c!=null&&Ux(t,s,c,o))}switch(r){case"input":gf(t),_E(t,n,!1);break;case"textarea":gf(t),wE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+No(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ql(t,!!n.multiple,s,!1):n.defaultValue!=null&&ql(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dr(e),null;case 6:if(t&&e.stateNode!=null)jP(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=Aa(wh.current),Aa($i.current),Tf(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bi]=e,(s=n.nodeValue!==r)&&(t=un,t!==null))switch(t.tag){case 3:Ef(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ef(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bi]=e,e.stateNode=n}return dr(e),null;case 13:if(it(ft),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&on!==null&&e.mode&1&&!(e.flags&128))iP(),fu(),e.flags|=98560,s=!1;else if(s=Tf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[Bi]=e}else fu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dr(e),s=!1}else ti!==null&&(e_(ti),ti=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?zt===0&&(zt=3):xw())),e.updateQueue!==null&&(e.flags|=4),dr(e),null);case 4:return mu(),V1(t,e),t===null&&yh(e.stateNode.containerInfo),dr(e),null;case 10:return nw(e.type._context),dr(e),null;case 17:return Xr(e.type)&&Qp(),dr(e),null;case 19:if(it(ft),s=e.memoizedState,s===null)return dr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)cc(s,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nm(t),o!==null){for(e.flags|=128,cc(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return et(ft,ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rt()>yu&&(e.flags|=128,n=!0,cc(s,!1),e.lanes=4194304)}else{if(!n)if(t=nm(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),cc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return dr(e),null}else 2*Rt()-s.renderingStartTime>yu&&r!==1073741824&&(e.flags|=128,n=!0,cc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,r=ft.current,et(ft,n?r&1|2:r&1),e):(dr(e),null);case 22:case 23:return _w(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?nn&1073741824&&(dr(e),e.subtreeFlags&6&&(e.flags|=8192)):dr(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function eO(t,e){switch(Jx(e),e.tag){case 1:return Xr(e.type)&&Qp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mu(),it(Vr),it(gr),lw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return aw(e),null;case 13:if(it(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));fu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ft),null;case 4:return mu(),null;case 10:return nw(e.type._context),null;case 22:case 23:return _w(),null;case 24:return null;default:return null}}var Rf=!1,mr=!1,tO=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Hl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bt(t,e,n)}else r.current=null}function X1(t,e,r){try{r()}catch(n){bt(t,e,n)}}var cT=!1;function rO(t,e){if(P1=Vp,t=Wk(),Kx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,h=0,d=0,f=t,m=null;t:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===r&&++h===i&&(a=o),m===s&&++d===n&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(I1={focusedElem:t,selectionRange:r},Vp=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,E=_.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:Jn(e.type,x),E);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(A){bt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return _=cT,cT=!1,_}function Vc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&X1(e,r,s)}i=i.next}while(i!==n)}}function cg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Y1(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function $P(t){var e=t.alternate;e!==null&&(t.alternate=null,$P(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bi],delete e[_h],delete e[D1],delete e[UL],delete e[BL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GP(t){return t.tag===5||t.tag===3||t.tag===4}function hT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function q1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=qp));else if(n!==4&&(t=t.child,t!==null))for(q1(t,e,r),t=t.sibling;t!==null;)q1(t,e,r),t=t.sibling}function Q1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Q1(t,e,r),t=t.sibling;t!==null;)Q1(t,e,r),t=t.sibling}var rr=null,ei=!1;function qs(t,e,r){for(r=r.child;r!==null;)HP(t,e,r),r=r.sibling}function HP(t,e,r){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(rg,r)}catch{}switch(r.tag){case 5:mr||Hl(r,e);case 6:var n=rr,i=ei;rr=null,qs(t,e,r),rr=n,ei=i,rr!==null&&(ei?(t=rr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):rr.removeChild(r.stateNode));break;case 18:rr!==null&&(ei?(t=rr,r=r.stateNode,t.nodeType===8?L0(t.parentNode,r):t.nodeType===1&&L0(t,r),ph(t)):L0(rr,r.stateNode));break;case 4:n=rr,i=ei,rr=r.stateNode.containerInfo,ei=!0,qs(t,e,r),rr=n,ei=i;break;case 0:case 11:case 14:case 15:if(!mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&X1(r,e,o),i=i.next}while(i!==n)}qs(t,e,r);break;case 1:if(!mr&&(Hl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){bt(r,e,a)}qs(t,e,r);break;case 21:qs(t,e,r);break;case 22:r.mode&1?(mr=(n=mr)||r.memoizedState!==null,qs(t,e,r),mr=n):qs(t,e,r);break;default:qs(t,e,r)}}function dT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new tO),e.forEach(function(n){var i=hO.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rr=a.stateNode,ei=!1;break e;case 3:rr=a.stateNode.containerInfo,ei=!0;break e;case 4:rr=a.stateNode.containerInfo,ei=!0;break e}a=a.return}if(rr===null)throw Error(te(160));HP(s,o,i),rr=null,ei=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){bt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WP(e,t),e=e.sibling}function WP(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),Ri(t),n&4){try{Vc(3,t,t.return),cg(3,t)}catch(x){bt(t,t.return,x)}try{Vc(5,t,t.return)}catch(x){bt(t,t.return,x)}}break;case 1:Xn(e,t),Ri(t),n&512&&r!==null&&Hl(r,r.return);break;case 5:if(Xn(e,t),Ri(t),n&512&&r!==null&&Hl(r,r.return),t.flags&32){var i=t.stateNode;try{ch(i,"")}catch(x){bt(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dk(i,s),x1(a,o);var h=x1(a,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?yk(i,f):d==="dangerouslySetInnerHTML"?mk(i,f):d==="children"?ch(i,f):Ux(i,d,f,h)}switch(a){case"input":m1(i,s);break;case"textarea":fk(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ql(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?ql(i,!!s.multiple,s.defaultValue,!0):ql(i,!!s.multiple,s.multiple?[]:"",!1))}i[_h]=s}catch(x){bt(t,t.return,x)}}break;case 6:if(Xn(e,t),Ri(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){bt(t,t.return,x)}}break;case 3:if(Xn(e,t),Ri(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ph(e.containerInfo)}catch(x){bt(t,t.return,x)}break;case 4:Xn(e,t),Ri(t);break;case 13:Xn(e,t),Ri(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(yw=Rt())),n&4&&dT(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(mr=(h=mr)||d,Xn(e,t),mr=h):Xn(e,t),Ri(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(f=ge=d;ge!==null;){switch(m=ge,g=m.child,m.tag){case 0:case 11:case 14:case 15:Vc(4,m,m.return);break;case 1:Hl(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){bt(n,r,x)}}break;case 5:Hl(m,m.return);break;case 22:if(m.memoizedState!==null){pT(f);continue}}g!==null?(g.return=m,ge=g):pT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=gk("display",o))}catch(x){bt(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(x){bt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xn(e,t),Ri(t),n&4&&dT(t);break;case 21:break;default:Xn(e,t),Ri(t)}}function Ri(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(GP(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ch(i,""),n.flags&=-33);var s=hT(t);Q1(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=hT(t);q1(t,a,o);break;default:throw Error(te(161))}}catch(c){bt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nO(t,e,r){ge=t,VP(t)}function VP(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Rf;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||mr;a=Rf;var h=mr;if(Rf=o,(mr=c)&&!h)for(ge=i;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?mT(i):c!==null?(c.return=o,ge=c):mT(i);for(;s!==null;)ge=s,VP(s),s=s.sibling;ge=i,Rf=a,mr=h}fT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):fT(t)}}function fT(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mr||cg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!mr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Jn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&QE(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}QE(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ph(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}mr||e.flags&512&&Y1(e)}catch(m){bt(e,e.return,m)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function pT(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function mT(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{cg(4,e)}catch(c){bt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){bt(e,i,c)}}var s=e.return;try{Y1(e)}catch(c){bt(e,s,c)}break;case 5:var o=e.return;try{Y1(e)}catch(c){bt(e,o,c)}}}catch(c){bt(e,e.return,c)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var iO=Math.ceil,om=Ms.ReactCurrentDispatcher,mw=Ms.ReactCurrentOwner,On=Ms.ReactCurrentBatchConfig,He=0,Kt=null,Nt=null,ir=0,nn=0,Wl=jo(0),zt=0,Th=null,Ua=0,hg=0,gw=0,Xc=null,Gr=null,yw=0,yu=1/0,hs=null,am=!1,K1=null,Co=null,kf=!1,mo=null,lm=0,Yc=0,Z1=null,Tp=-1,Ap=0;function Ar(){return He&6?Rt():Tp!==-1?Tp:Tp=Rt()}function Ro(t){return t.mode&1?He&2&&ir!==0?ir&-ir:jL.transition!==null?(Ap===0&&(Ap=kk()),Ap):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Ok(t.type)),t):1}function ui(t,e,r,n){if(50<Yc)throw Yc=0,Z1=null,Error(te(185));id(t,r,n),(!(He&2)||t!==Kt)&&(t===Kt&&(!(He&2)&&(hg|=r),zt===4&&ho(t,ir)),Yr(t,n),r===1&&He===0&&!(e.mode&1)&&(yu=Rt()+500,ag&&$o()))}function Yr(t,e){var r=t.callbackNode;jD(t,e);var n=Wp(t,t===Kt?ir:0);if(n===0)r!==null&&EE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&EE(r),e===1)t.tag===0?zL(gT.bind(null,t)):tP(gT.bind(null,t)),OL(function(){!(He&6)&&$o()}),r=null;else{switch(Pk(n)){case 1:r=Gx;break;case 4:r=Ck;break;case 16:r=Hp;break;case 536870912:r=Rk;break;default:r=Hp}r=eI(r,XP.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function XP(t,e){if(Tp=-1,Ap=0,He&6)throw Error(te(327));var r=t.callbackNode;if(eu()&&t.callbackNode!==r)return null;var n=Wp(t,t===Kt?ir:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=um(t,n);else{e=n;var i=He;He|=2;var s=qP();(Kt!==t||ir!==e)&&(hs=null,yu=Rt()+500,Ca(t,e));do try{aO();break}catch(a){YP(t,a)}while(1);rw(),om.current=s,He=i,Nt!==null?e=0:(Kt=null,ir=0,e=zt)}if(e!==0){if(e===2&&(i=T1(t),i!==0&&(n=i,e=J1(t,i))),e===1)throw r=Th,Ca(t,0),ho(t,n),Yr(t,Rt()),r;if(e===6)ho(t,n);else{if(i=t.current.alternate,!(n&30)&&!sO(i)&&(e=um(t,n),e===2&&(s=T1(t),s!==0&&(n=s,e=J1(t,s))),e===1))throw r=Th,Ca(t,0),ho(t,n),Yr(t,Rt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:fa(t,Gr,hs);break;case 3:if(ho(t,n),(n&130023424)===n&&(e=yw+500-Rt(),10<e)){if(Wp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ar(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=N1(fa.bind(null,t,Gr,hs),e);break}fa(t,Gr,hs);break;case 4:if(ho(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-li(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*iO(n/1960))-n,10<n){t.timeoutHandle=N1(fa.bind(null,t,Gr,hs),n);break}fa(t,Gr,hs);break;case 5:fa(t,Gr,hs);break;default:throw Error(te(329))}}}return Yr(t,Rt()),t.callbackNode===r?XP.bind(null,t):null}function J1(t,e){var r=Xc;return t.current.memoizedState.isDehydrated&&(Ca(t,e).flags|=256),t=um(t,e),t!==2&&(e=Gr,Gr=r,e!==null&&e_(e)),t}function e_(t){Gr===null?Gr=t:Gr.push.apply(Gr,t)}function sO(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!di(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ho(t,e){for(e&=~gw,e&=~hg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-li(e),n=1<<r;t[r]=-1,e&=~n}}function gT(t){if(He&6)throw Error(te(327));eu();var e=Wp(t,0);if(!(e&1))return Yr(t,Rt()),null;var r=um(t,e);if(t.tag!==0&&r===2){var n=T1(t);n!==0&&(e=n,r=J1(t,n))}if(r===1)throw r=Th,Ca(t,0),ho(t,e),Yr(t,Rt()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fa(t,Gr,hs),Yr(t,Rt()),null}function vw(t,e){var r=He;He|=1;try{return t(e)}finally{He=r,He===0&&(yu=Rt()+500,ag&&$o())}}function Ba(t){mo!==null&&mo.tag===0&&!(He&6)&&eu();var e=He;He|=1;var r=On.transition,n=Qe;try{if(On.transition=null,Qe=1,t)return t()}finally{Qe=n,On.transition=r,He=e,!(He&6)&&$o()}}function _w(){nn=Wl.current,it(Wl)}function Ca(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,LL(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(Jx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qp();break;case 3:mu(),it(Vr),it(gr),lw();break;case 5:aw(n);break;case 4:mu();break;case 13:it(ft);break;case 19:it(ft);break;case 10:nw(n.type._context);break;case 22:case 23:_w()}r=r.return}if(Kt=t,Nt=t=ko(t.current,null),ir=nn=e,zt=0,Th=null,gw=hg=Ua=0,Gr=Xc=null,Ta!==null){for(e=0;e<Ta.length;e++)if(r=Ta[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Ta=null}return t}function YP(t,e){do{var r=Nt;try{if(rw(),bp.current=sm,im){for(var n=vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}im=!1}if(Fa=0,Xt=Ft=vt=null,Wc=!1,bh=0,mw.current=null,r===null||r.return===null){zt=1,Th=e,Nt=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=ir,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=nT(o);if(g!==null){g.flags&=-257,iT(g,o,a,s,e),g.mode&1&&rT(s,h,e),e=g,c=h;var _=e.updateQueue;if(_===null){var x=new Set;x.add(c),e.updateQueue=x}else _.add(c);break e}else{if(!(e&1)){rT(s,h,e),xw();break e}c=Error(te(426))}}else if(ut&&a.mode&1){var E=nT(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),iT(E,o,a,s,e),ew(gu(c,a));break e}}s=c=gu(c,a),zt!==4&&(zt=2),Xc===null?Xc=[s]:Xc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=IP(s,c,e);qE(s,w);break e;case 1:a=c;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Co===null||!Co.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=MP(s,a,e);qE(s,A);break e}}s=s.return}while(s!==null)}KP(r)}catch(k){e=k,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(1)}function qP(){var t=om.current;return om.current=sm,t===null?sm:t}function xw(){(zt===0||zt===3||zt===2)&&(zt=4),Kt===null||!(Ua&268435455)&&!(hg&268435455)||ho(Kt,ir)}function um(t,e){var r=He;He|=2;var n=qP();(Kt!==t||ir!==e)&&(hs=null,Ca(t,e));do try{oO();break}catch(i){YP(t,i)}while(1);if(rw(),He=r,om.current=n,Nt!==null)throw Error(te(261));return Kt=null,ir=0,zt}function oO(){for(;Nt!==null;)QP(Nt)}function aO(){for(;Nt!==null&&!MD();)QP(Nt)}function QP(t){var e=JP(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?KP(t):Nt=e,mw.current=null}function KP(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=eO(r,e),r!==null){r.flags&=32767,Nt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zt=6,Nt=null;return}}else if(r=JL(r,e,nn),r!==null){Nt=r;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);zt===0&&(zt=5)}function fa(t,e,r){var n=Qe,i=On.transition;try{On.transition=null,Qe=1,lO(t,e,r,n)}finally{On.transition=i,Qe=n}return null}function lO(t,e,r,n){do eu();while(mo!==null);if(He&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if($D(t,s),t===Kt&&(Nt=Kt=null,ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||kf||(kf=!0,eI(Hp,function(){return eu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=On.transition,On.transition=null;var o=Qe;Qe=1;var a=He;He|=4,mw.current=null,rO(t,r),WP(r,t),RL(I1),Vp=!!P1,I1=P1=null,t.current=r,nO(r),ND(),He=a,Qe=o,On.transition=s}else t.current=r;if(kf&&(kf=!1,mo=t,lm=i),s=t.pendingLanes,s===0&&(Co=null),OD(r.stateNode),Yr(t,Rt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(am)throw am=!1,t=K1,K1=null,t;return lm&1&&t.tag!==0&&eu(),s=t.pendingLanes,s&1?t===Z1?Yc++:(Yc=0,Z1=t):Yc=0,$o(),null}function eu(){if(mo!==null){var t=Pk(lm),e=On.transition,r=Qe;try{if(On.transition=null,Qe=16>t?16:t,mo===null)var n=!1;else{if(t=mo,mo=null,lm=0,He&6)throw Error(te(331));var i=He;for(He|=4,ge=t.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var h=a[c];for(ge=h;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:Vc(8,d,s)}var f=d.child;if(f!==null)f.return=d,ge=f;else for(;ge!==null;){d=ge;var m=d.sibling,g=d.return;if($P(d),d===h){ge=null;break}if(m!==null){m.return=g,ge=m;break}ge=g}}}var _=s.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vc(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ge=w;break e}ge=s.return}}var b=t.current;for(ge=b;ge!==null;){o=ge;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ge=S;else e:for(o=b;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cg(9,a)}}catch(k){bt(a,a.return,k)}if(a===o){ge=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ge=A;break e}ge=a.return}}if(He=i,$o(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(rg,t)}catch{}n=!0}return n}finally{Qe=r,On.transition=e}}return!1}function yT(t,e,r){e=gu(r,e),e=IP(t,e,1),t=Ao(t,e,1),e=Ar(),t!==null&&(id(t,1,e),Yr(t,e))}function bt(t,e,r){if(t.tag===3)yT(t,t,r);else for(;e!==null;){if(e.tag===3){yT(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Co===null||!Co.has(n))){t=gu(r,t),t=MP(e,t,1),e=Ao(e,t,1),t=Ar(),e!==null&&(id(e,1,t),Yr(e,t));break}}e=e.return}}function uO(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ar(),t.pingedLanes|=t.suspendedLanes&r,Kt===t&&(ir&r)===r&&(zt===4||zt===3&&(ir&130023424)===ir&&500>Rt()-yw?Ca(t,0):gw|=r),Yr(t,e)}function ZP(t,e){e===0&&(t.mode&1?(e=_f,_f<<=1,!(_f&130023424)&&(_f=4194304)):e=1);var r=Ar();t=As(t,e),t!==null&&(id(t,e,r),Yr(t,r))}function cO(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ZP(t,r)}function hO(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),ZP(t,r)}var JP;JP=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vr.current)Hr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Hr=!1,ZL(t,e,r);Hr=!!(t.flags&131072)}else Hr=!1,ut&&e.flags&1048576&&rP(e,Jp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ep(t,e),t=e.pendingProps;var i=du(e,gr.current);Jl(e,r),i=cw(null,e,n,t,i,r);var s=hw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xr(n)?(s=!0,Kp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sw(e),i.updater=lg,e.stateNode=i,i._reactInternals=e,z1(e,n,t,r),e=G1(null,e,n,!0,s,r)):(e.tag=0,ut&&s&&Zx(e),Sr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ep(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=fO(n),t=Jn(n,t),i){case 0:e=$1(null,e,n,t,r);break e;case 1:e=aT(null,e,n,t,r);break e;case 11:e=sT(null,e,n,t,r);break e;case 14:e=oT(null,e,n,Jn(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),$1(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),aT(t,e,n,i,r);case 3:e:{if(OP(e),t===null)throw Error(te(387));n=e.pendingProps,s=e.memoizedState,i=s.element,oP(t,e),rm(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gu(Error(te(423)),e),e=lT(t,e,n,r,i);break e}else if(n!==i){i=gu(Error(te(424)),e),e=lT(t,e,n,r,i);break e}else for(on=To(e.stateNode.containerInfo.firstChild),un=e,ut=!0,ti=null,r=cP(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fu(),n===i){e=Cs(t,e,r);break e}Sr(t,e,n,r)}e=e.child}return e;case 5:return hP(e),t===null&&F1(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,M1(n,i)?o=null:s!==null&&M1(n,s)&&(e.flags|=32),LP(t,e),Sr(t,e,o,r),e.child;case 6:return t===null&&F1(e),null;case 13:return FP(t,e,r);case 4:return ow(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=pu(e,null,n,r):Sr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),sT(t,e,n,i,r);case 7:return Sr(t,e,e.pendingProps,r),e.child;case 8:return Sr(t,e,e.pendingProps.children,r),e.child;case 12:return Sr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(em,n._currentValue),n._currentValue=o,s!==null)if(di(s.value,o)){if(s.children===i.children&&!Vr.current){e=Cs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ws(-1,r&-r),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),U1(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(te(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),U1(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Sr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Jl(e,r),i=Un(i),n=n(i),e.flags|=1,Sr(t,e,n,r),e.child;case 14:return n=e.type,i=Jn(n,e.pendingProps),i=Jn(n.type,i),oT(t,e,n,i,r);case 15:return NP(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),Ep(t,e),e.tag=1,Xr(n)?(t=!0,Kp(e)):t=!1,Jl(e,r),lP(e,n,i),z1(e,n,i,r),G1(null,e,n,!0,t,r);case 19:return UP(t,e,r);case 22:return DP(t,e,r)}throw Error(te(156,e.tag))};function eI(t,e){return Ak(t,e)}function dO(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,r,n){return new dO(t,e,r,n)}function ww(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fO(t){if(typeof t=="function")return ww(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zx)return 11;if(t===jx)return 14}return 2}function ko(t,e){var r=t.alternate;return r===null?(r=Nn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Cp(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")ww(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ll:return Ra(r.children,i,s,e);case Bx:o=8,i|=8;break;case c1:return t=Nn(12,r,e,i|2),t.elementType=c1,t.lanes=s,t;case h1:return t=Nn(13,r,e,i),t.elementType=h1,t.lanes=s,t;case d1:return t=Nn(19,r,e,i),t.elementType=d1,t.lanes=s,t;case uk:return dg(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ak:o=10;break e;case lk:o=9;break e;case zx:o=11;break e;case jx:o=14;break e;case io:o=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Nn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ra(t,e,r,n){return t=Nn(7,t,n,e),t.lanes=r,t}function dg(t,e,r,n){return t=Nn(22,t,n,e),t.elementType=uk,t.lanes=r,t.stateNode={isHidden:!1},t}function G0(t,e,r){return t=Nn(6,t,null,e),t.lanes=r,t}function H0(t,e,r){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pO(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E0(0),this.expirationTimes=E0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bw(t,e,r,n,i,s,o,a,c){return t=new pO(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sw(s),t}function mO(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function tI(t){if(!t)return Do;t=t._reactInternals;e:{if(qa(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(Xr(r))return eP(t,r,e)}return e}function rI(t,e,r,n,i,s,o,a,c){return t=bw(r,n,!0,t,i,s,o,a,c),t.context=tI(null),r=t.current,n=Ar(),i=Ro(r),s=ws(n,i),s.callback=e??null,Ao(r,s,i),t.current.lanes=i,id(t,i,n),Yr(t,n),t}function fg(t,e,r,n){var i=e.current,s=Ar(),o=Ro(i);return r=tI(r),e.context===null?e.context=r:e.pendingContext=r,e=ws(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ao(i,e,o),t!==null&&(ui(t,i,o,s),wp(t,i,o)),o}function cm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Sw(t,e){vT(t,e),(t=t.alternate)&&vT(t,e)}function gO(){return null}var nI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ew(t){this._internalRoot=t}pg.prototype.render=Ew.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));fg(t,e,null,null)};pg.prototype.unmount=Ew.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ba(function(){fg(null,t,null,null)}),e[Ts]=null}};function pg(t){this._internalRoot=t}pg.prototype.unstable_scheduleHydration=function(t){if(t){var e=Nk();t={blockedOn:null,target:t,priority:e};for(var r=0;r<co.length&&e!==0&&e<co[r].priority;r++);co.splice(r,0,t),r===0&&Lk(t)}};function Tw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _T(){}function yO(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=cm(o);s.call(h)}}var o=rI(e,n,t,0,null,!1,!1,"",_T);return t._reactRootContainer=o,t[Ts]=o.current,yh(t.nodeType===8?t.parentNode:t),Ba(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var h=cm(c);a.call(h)}}var c=bw(t,0,!1,null,null,!1,!1,"",_T);return t._reactRootContainer=c,t[Ts]=c.current,yh(t.nodeType===8?t.parentNode:t),Ba(function(){fg(e,c,r,n)}),c}function gg(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=cm(o);a.call(c)}}fg(e,o,t,i)}else o=yO(r,e,t,i,n);return cm(o)}Ik=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Rc(e.pendingLanes);r!==0&&(Hx(e,r|1),Yr(e,Rt()),!(He&6)&&(yu=Rt()+500,$o()))}break;case 13:Ba(function(){var n=As(t,1);if(n!==null){var i=Ar();ui(n,t,1,i)}}),Sw(t,1)}};Wx=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var r=Ar();ui(e,t,134217728,r)}Sw(t,134217728)}};Mk=function(t){if(t.tag===13){var e=Ro(t),r=As(t,e);if(r!==null){var n=Ar();ui(r,t,e,n)}Sw(t,e)}};Nk=function(){return Qe};Dk=function(t,e){var r=Qe;try{return Qe=t,e()}finally{Qe=r}};b1=function(t,e,r){switch(e){case"input":if(m1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=og(n);if(!i)throw Error(te(90));hk(n),m1(n,i)}}}break;case"textarea":fk(t,r);break;case"select":e=r.value,e!=null&&ql(t,!!r.multiple,e,!1)}};xk=vw;wk=Ba;var vO={usingClientEntryPoint:!1,Events:[od,Bl,og,vk,_k,vw]},hc={findFiberByHostInstance:Ea,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_O={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ek(t),t===null?null:t.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||gO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{rg=Pf.inject(_O),ji=Pf}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vO;mn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tw(e))throw Error(te(200));return mO(t,e,null,r)};mn.createRoot=function(t,e){if(!Tw(t))throw Error(te(299));var r=!1,n="",i=nI;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bw(t,1,!1,null,null,r,!1,n,i),t[Ts]=e.current,yh(t.nodeType===8?t.parentNode:t),new Ew(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=Ek(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return Ba(t)};mn.hydrate=function(t,e,r){if(!mg(e))throw Error(te(200));return gg(null,t,e,!0,r)};mn.hydrateRoot=function(t,e,r){if(!Tw(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=nI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=rI(e,null,t,1,r??null,i,!1,s,o),t[Ts]=e.current,yh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new pg(e)};mn.render=function(t,e,r){if(!mg(e))throw Error(te(200));return gg(null,t,e,!1,r)};mn.unmountComponentAtNode=function(t){if(!mg(t))throw Error(te(40));return t._reactRootContainer?(Ba(function(){gg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ts]=null})}),!0):!1};mn.unstable_batchedUpdates=vw;mn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!mg(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return gg(t,e,r,!1,n)};mn.version="18.2.0-next-9e3b772b8-20220608";function iI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iI)}catch(t){console.error(t)}}iI(),rk.exports=mn;var ms=rk.exports,xT=ms;l1.createRoot=xT.createRoot,l1.hydrateRoot=xT.hydrateRoot;const yg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mu(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Aw(t){return"nodeType"in t}function Mr(t){var e,r;return t?Mu(t)?t:Aw(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function Cw(t){const{Document:e}=Mr(t);return t instanceof e}function ld(t){return Mu(t)?!1:t instanceof Mr(t).HTMLElement}function xO(t){return t instanceof Mr(t).SVGElement}function Nu(t){return t?Mu(t)?t.document:Aw(t)?Cw(t)?t:ld(t)?t.ownerDocument:document:document:document}const Wi=yg?P.useLayoutEffect:P.useEffect;function vg(t){const e=P.useRef(t);return Wi(()=>{e.current=t}),P.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function wO(){const t=P.useRef(null),e=P.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=P.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function Ah(t,e){e===void 0&&(e=[t]);const r=P.useRef(t);return Wi(()=>{r.current!==t&&(r.current=t)},e),r}function ud(t,e){const r=P.useRef();return P.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function hm(t){const e=vg(t),r=P.useRef(null),n=P.useCallback(i=>{i!==r.current&&(e==null||e(i,r.current)),r.current=i},[]);return[r,n]}function dm(t){const e=P.useRef();return P.useEffect(()=>{e.current=t},[t]),e.current}let W0={};function _g(t,e){return P.useMemo(()=>{if(e)return e;const r=W0[t]==null?0:W0[t]+1;return W0[t]=r,t+"-"+r},[t,e])}function sI(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((s,o)=>{const a=Object.entries(o);for(const[c,h]of a){const d=s[c];d!=null&&(s[c]=d+t*h)}return s},{...e})}}const tu=sI(1),fm=sI(-1);function bO(t){return"clientX"in t&&"clientY"in t}function Rw(t){if(!t)return!1;const{KeyboardEvent:e}=Mr(t.target);return e&&t instanceof e}function SO(t){if(!t)return!1;const{TouchEvent:e}=Mr(t.target);return e&&t instanceof e}function pm(t){if(SO(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return bO(t)?{x:t.clientX,y:t.clientY}:null}const Ch=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[Ch.Translate.toString(t),Ch.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),wT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function EO(t){return t.matches(wT)?t:t.querySelector(wT)}const TO={display:"none"};function AO(t){let{id:e,value:r}=t;return qe.createElement("div",{id:e,style:TO},r)}const CO={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function RO(t){let{id:e,announcement:r}=t;return qe.createElement("div",{id:e,style:CO,role:"status","aria-live":"assertive","aria-atomic":!0},r)}function kO(){const[t,e]=P.useState("");return{announce:P.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const oI=P.createContext(null);function kw(t){const e=P.useContext(oI);P.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function PO(){const[t]=P.useState(()=>new Set),e=P.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[P.useCallback(n=>{let{type:i,event:s}=n;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const IO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},MO={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function NO(t){let{announcements:e=MO,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=IO}=t;const{announce:s,announcement:o}=kO(),a=_g("DndLiveRegion"),[c,h]=P.useState(!1);if(P.useEffect(()=>{h(!0)},[]),kw(P.useMemo(()=>({onDragStart(f){let{active:m}=f;s(e.onDragStart({active:m}))},onDragMove(f){let{active:m,over:g}=f;e.onDragMove&&s(e.onDragMove({active:m,over:g}))},onDragOver(f){let{active:m,over:g}=f;s(e.onDragOver({active:m,over:g}))},onDragEnd(f){let{active:m,over:g}=f;s(e.onDragEnd({active:m,over:g}))},onDragCancel(f){let{active:m,over:g}=f;s(e.onDragCancel({active:m,over:g}))}}),[s,e])),!c)return null;const d=qe.createElement(qe.Fragment,null,qe.createElement(AO,{id:n,value:i.draggable}),qe.createElement(RO,{id:a,announcement:o}));return r?ms.createPortal(d,r):d}var Bt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Bt||(Bt={}));function mm(){}const fi=Object.freeze({x:0,y:0});function DO(t,e){const r=pm(t);if(!r)return"0 0";const n={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function LO(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function OO(t,e){if(!t||t.length===0)return null;const[r]=t;return e?r[e]:r}function FO(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-n,a=s-r;if(n<i&&r<s){const c=e.width*e.height,h=t.width*t.height,d=o*a,f=d/(c+h-d);return Number(f.toFixed(4))}return 0}const UO=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const s of n){const{id:o}=s,a=r.get(o);if(a){const c=FO(a,e);c>0&&i.push({id:o,data:{droppableContainer:s,value:c}})}}return i.sort(LO)};function BO(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function aI(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:fi}function zO(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...r})}}const jO=zO(1);function lI(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function $O(t,e,r){const n=lI(e);if(!n)return t;const{scaleX:i,scaleY:s,x:o,y:a}=n,c=t.left-o-(1-i)*parseFloat(r),h=t.top-a-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),d=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:h,right:c+d,bottom:h+f,left:c}}const GO={ignoreTransform:!1};function cd(t,e){e===void 0&&(e=GO);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:d}=Mr(t).getComputedStyle(t);h&&(r=$O(r,h,d))}const{top:n,left:i,width:s,height:o,bottom:a,right:c}=r;return{top:n,left:i,width:s,height:o,bottom:a,right:c}}function bT(t){return cd(t,{ignoreTransform:!0})}function HO(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function WO(t,e){return e===void 0&&(e=Mr(t).getComputedStyle(t)),e.position==="fixed"}function VO(t,e){e===void 0&&(e=Mr(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?r.test(s):!1})}function Pw(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(Cw(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!ld(i)||xO(i)||r.includes(i))return r;const s=Mr(t).getComputedStyle(i);return i!==t&&VO(i,s)&&r.push(i),WO(i,s)?r:n(i.parentNode)}return t?n(t):r}function uI(t){const[e]=Pw(t,1);return e??null}function V0(t){return!yg||!t?null:Mu(t)?t:Aw(t)?Cw(t)||t===Nu(t).scrollingElement?window:ld(t)?t:null:null}function cI(t){return Mu(t)?t.scrollX:t.scrollLeft}function hI(t){return Mu(t)?t.scrollY:t.scrollTop}function t_(t){return{x:cI(t),y:hI(t)}}var Yt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Yt||(Yt={}));function dI(t){return!yg||!t?!1:t===document.scrollingElement}function fI(t){const e={x:0,y:0},r=dI(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=n.y,a=t.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:n,minScroll:e}}const XO={x:.2,y:.2};function YO(t,e,r,n,i){let{top:s,left:o,right:a,bottom:c}=r;n===void 0&&(n=10),i===void 0&&(i=XO);const{isTop:h,isBottom:d,isLeft:f,isRight:m}=fI(t),g={x:0,y:0},_={x:0,y:0},x={height:e.height*i.y,width:e.width*i.x};return!h&&s<=e.top+x.height?(g.y=Yt.Backward,_.y=n*Math.abs((e.top+x.height-s)/x.height)):!d&&c>=e.bottom-x.height&&(g.y=Yt.Forward,_.y=n*Math.abs((e.bottom-x.height-c)/x.height)),!m&&a>=e.right-x.width?(g.x=Yt.Forward,_.x=n*Math.abs((e.right-x.width-a)/x.width)):!f&&o<=e.left+x.width&&(g.x=Yt.Backward,_.x=n*Math.abs((e.left+x.width-o)/x.width)),{direction:g,speed:_}}function qO(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function pI(t){return t.reduce((e,r)=>tu(e,t_(r)),fi)}function QO(t){return t.reduce((e,r)=>e+cI(r),0)}function KO(t){return t.reduce((e,r)=>e+hI(r),0)}function mI(t,e){if(e===void 0&&(e=cd),!t)return;const{top:r,left:n,bottom:i,right:s}=e(t);uI(t)&&(i<=0||s<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const ZO=[["x",["left","right"],QO],["y",["top","bottom"],KO]];class Iw{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Pw(r),i=pI(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of ZO)for(const c of o)Object.defineProperty(this,c,{get:()=>{const h=a(n),d=i[s]-h;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class qc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function JO(t){const{EventTarget:e}=Mr(t);return t instanceof e?t:Nu(t)}function X0(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Rn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Rn||(Rn={}));function ST(t){t.preventDefault()}function e4(t){t.stopPropagation()}var Ze;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(Ze||(Ze={}));const gI={start:[Ze.Space,Ze.Enter],cancel:[Ze.Esc],end:[Ze.Space,Ze.Enter]},t4=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case Ze.Right:return{...r,x:r.x+25};case Ze.Left:return{...r,x:r.x-25};case Ze.Down:return{...r,y:r.y+25};case Ze.Up:return{...r,y:r.y-25}}};class yI{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new qc(Nu(r)),this.windowListeners=new qc(Mr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Rn.Resize,this.handleCancel),this.windowListeners.add(Rn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Rn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&mI(n),r(fi)}handleKeyDown(e){if(Rw(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:s=gI,coordinateGetter:o=t4,scrollBehavior:a="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:h}=n.current,d=h?{x:h.left,y:h.top}:fi;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(e,{active:r,context:n.current,currentCoordinates:d});if(f){const m=fm(f,d),g={x:0,y:0},{scrollableAncestors:_}=n.current;for(const x of _){const E=e.code,{isTop:w,isRight:b,isLeft:S,isBottom:A,maxScroll:k,minScroll:L}=fI(x),I=qO(x),M={x:Math.min(E===Ze.Right?I.right-I.width/2:I.right,Math.max(E===Ze.Right?I.left:I.left+I.width/2,f.x)),y:Math.min(E===Ze.Down?I.bottom-I.height/2:I.bottom,Math.max(E===Ze.Down?I.top:I.top+I.height/2,f.y))},z=E===Ze.Right&&!b||E===Ze.Left&&!S,$=E===Ze.Down&&!A||E===Ze.Up&&!w;if(z&&M.x!==f.x){const Z=x.scrollLeft+m.x,Y=E===Ze.Right&&Z<=k.x||E===Ze.Left&&Z>=L.x;if(Y&&!m.y){x.scrollTo({left:Z,behavior:a});return}Y?g.x=x.scrollLeft-Z:g.x=E===Ze.Right?x.scrollLeft-k.x:x.scrollLeft-L.x,g.x&&x.scrollBy({left:-g.x,behavior:a});break}else if($&&M.y!==f.y){const Z=x.scrollTop+m.y,Y=E===Ze.Down&&Z<=k.y||E===Ze.Up&&Z>=L.y;if(Y&&!m.x){x.scrollTo({top:Z,behavior:a});return}Y?g.y=x.scrollTop-Z:g.y=E===Ze.Down?x.scrollTop-k.y:x.scrollTop-L.y,g.y&&x.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(e,tu(fm(f,this.referenceCoordinates),g))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yI.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=gI,onActivation:i}=e,{active:s}=r;const{code:o}=t.nativeEvent;if(n.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function ET(t){return!!(t&&"distance"in t)}function TT(t){return!!(t&&"delay"in t)}class Mw{constructor(e,r,n){var i;n===void 0&&(n=JO(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:s}=e,{target:o}=s;this.props=e,this.events=r,this.document=Nu(o),this.documentListeners=new qc(this.document),this.listeners=new qc(n),this.windowListeners=new qc(Mr(o)),this.initialCoordinates=(i=pm(s))!=null?i:fi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Rn.Resize,this.handleCancel),this.windowListeners.add(Rn.DragStart,ST),this.windowListeners.add(Rn.VisibilityChange,this.handleCancel),this.windowListeners.add(Rn.ContextMenu,ST),this.documentListeners.add(Rn.Keydown,this.handleKeydown),r){if(ET(r))return;if(TT(r)){this.timeoutId=setTimeout(this.handleStart,r.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Rn.Click,e4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Rn.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const c=(r=pm(e))!=null?r:fi,h=fm(i,c);if(!n&&a){if(TT(a))return X0(h,a.tolerance)?this.handleCancel():void 0;if(ET(a))return a.tolerance!=null&&X0(h,a.tolerance)?this.handleCancel():X0(h,a.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Ze.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const r4={move:{name:"pointermove"},end:{name:"pointerup"}};class vI extends Mw{constructor(e){const{event:r}=e,n=Nu(r.target);super(e,r4,n)}}vI.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const n4={move:{name:"mousemove"},end:{name:"mouseup"}};var r_;(function(t){t[t.RightClick=2]="RightClick"})(r_||(r_={}));class i4 extends Mw{constructor(e){super(e,n4,Nu(e.event.target))}}i4.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===r_.RightClick?!1:(n==null||n({event:r}),!0)}}];const Y0={move:{name:"touchmove"},end:{name:"touchend"}};class s4 extends Mw{constructor(e){super(e,Y0)}static setup(){return window.addEventListener(Y0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Y0.move.name,e)};function e(){}}}s4.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n==null||n({event:r}),!0)}}];var Qc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Qc||(Qc={}));var gm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(gm||(gm={}));function o4(t){let{acceleration:e,activator:r=Qc.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:o=5,order:a=gm.TreeOrder,pointerCoordinates:c,scrollableAncestors:h,scrollableAncestorRects:d,delta:f,threshold:m}=t;const g=l4({delta:f,disabled:!s}),[_,x]=wO(),E=P.useRef({x:0,y:0}),w=P.useRef({x:0,y:0}),b=P.useMemo(()=>{switch(r){case Qc.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Qc.DraggableRect:return i}},[r,i,c]),S=P.useRef(null),A=P.useCallback(()=>{const L=S.current;if(!L)return;const I=E.current.x*w.current.x,M=E.current.y*w.current.y;L.scrollBy(I,M)},[]),k=P.useMemo(()=>a===gm.TreeOrder?[...h].reverse():h,[a,h]);P.useEffect(()=>{if(!s||!h.length||!b){x();return}for(const L of k){if((n==null?void 0:n(L))===!1)continue;const I=h.indexOf(L),M=d[I];if(!M)continue;const{direction:z,speed:$}=YO(L,M,b,e,m);for(const Z of["x","y"])g[Z][z[Z]]||($[Z]=0,z[Z]=0);if($.x>0||$.y>0){x(),S.current=L,_(A,o),E.current=$,w.current=z;return}}E.current={x:0,y:0},w.current={x:0,y:0},x()},[e,A,n,x,s,o,JSON.stringify(b),JSON.stringify(g),_,h,k,d,JSON.stringify(m)])}const a4={x:{[Yt.Backward]:!1,[Yt.Forward]:!1},y:{[Yt.Backward]:!1,[Yt.Forward]:!1}};function l4(t){let{delta:e,disabled:r}=t;const n=dm(e);return ud(i=>{if(r||!n||!i)return a4;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Yt.Backward]:i.x[Yt.Backward]||s.x===-1,[Yt.Forward]:i.x[Yt.Forward]||s.x===1},y:{[Yt.Backward]:i.y[Yt.Backward]||s.y===-1,[Yt.Forward]:i.y[Yt.Forward]||s.y===1}}},[r,e,n])}function u4(t,e){const r=e!==null?t.get(e):void 0,n=r?r.node.current:null;return ud(i=>{var s;return e===null?null:(s=n??i)!=null?s:null},[n,e])}function c4(t,e){return P.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,n)}));return[...r,...s]},[]),[t,e])}var Rh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Rh||(Rh={}));var n_;(function(t){t.Optimized="optimized"})(n_||(n_={}));const AT=new Map;function h4(t,e){let{dragging:r,dependencies:n,config:i}=e;const[s,o]=P.useState(null),{frequency:a,measure:c,strategy:h}=i,d=P.useRef(t),f=E(),m=Ah(f),g=P.useCallback(function(w){w===void 0&&(w=[]),!m.current&&o(b=>b===null?w:b.concat(w.filter(S=>!b.includes(S))))},[m]),_=P.useRef(null),x=ud(w=>{if(f&&!r)return AT;if(!w||w===AT||d.current!==t||s!=null){const b=new Map;for(let S of t){if(!S)continue;if(s&&s.length>0&&!s.includes(S.id)&&S.rect.current){b.set(S.id,S.rect.current);continue}const A=S.node.current,k=A?new Iw(c(A),A):null;S.rect.current=k,k&&b.set(S.id,k)}return b}return w},[t,s,r,f,c]);return P.useEffect(()=>{d.current=t},[t]),P.useEffect(()=>{f||g()},[r,f]),P.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),P.useEffect(()=>{f||typeof a!="number"||_.current!==null||(_.current=setTimeout(()=>{g(),_.current=null},a))},[a,f,g,...n]),{droppableRects:x,measureDroppableContainers:g,measuringScheduled:s!=null};function E(){switch(h){case Rh.Always:return!1;case Rh.BeforeDragging:return r;default:return!r}}}function Nw(t,e){return ud(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function d4(t,e){return Nw(t,e)}function f4(t){let{callback:e,disabled:r}=t;const n=vg(e),i=P.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,r]);return P.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function xg(t){let{callback:e,disabled:r}=t;const n=vg(e),i=P.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[r]);return P.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function p4(t){return new Iw(cd(t),t)}function CT(t,e,r){e===void 0&&(e=p4);const[n,i]=P.useReducer(a,null),s=f4({callback(c){if(t)for(const h of c){const{type:d,target:f}=h;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){i();break}}}}),o=xg({callback:i});return Wi(()=>{i(),t?(o==null||o.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[t]),n;function a(c){if(!t)return null;if(t.isConnected===!1){var h;return(h=c??r)!=null?h:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function m4(t){const e=Nw(t);return aI(t,e)}const RT=[];function g4(t){const e=P.useRef(t),r=ud(n=>t?n&&n!==RT&&t&&e.current&&t.parentNode===e.current.parentNode?n:Pw(t):RT,[t]);return P.useEffect(()=>{e.current=t},[t]),r}function y4(t){const[e,r]=P.useState(null),n=P.useRef(t),i=P.useCallback(s=>{const o=V0(s.target);o&&r(a=>a?(a.set(o,t_(o)),new Map(a)):null)},[]);return P.useEffect(()=>{const s=n.current;if(t!==s){o(s);const a=t.map(c=>{const h=V0(c);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,t_(h)]):null}).filter(c=>c!=null);r(a.length?new Map(a):null),n.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(c=>{const h=V0(c);h==null||h.removeEventListener("scroll",i)})}},[i,t]),P.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>tu(s,o),fi):pI(t):fi,[t,e])}function kT(t,e){e===void 0&&(e=[]);const r=P.useRef(null);return P.useEffect(()=>{r.current=null},e),P.useEffect(()=>{const n=t!==fi;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?fm(t,r.current):fi}function v4(t){P.useEffect(()=>{if(!yg)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function _4(t,e){return P.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:s}=n;return r[i]=o=>{s(o,e)},r},{}),[t,e])}function _I(t){return P.useMemo(()=>t?HO(t):null,[t])}const q0=[];function x4(t,e){e===void 0&&(e=cd);const[r]=t,n=_I(r?Mr(r):null),[i,s]=P.useReducer(a,q0),o=xg({callback:s});return t.length>0&&i===q0&&s(),Wi(()=>{t.length?t.forEach(c=>o==null?void 0:o.observe(c)):(o==null||o.disconnect(),s())},[t]),i;function a(){return t.length?t.map(c=>dI(c)?n:new Iw(e(c),c)):q0}}function xI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return ld(e)?e:t}function w4(t){let{measure:e}=t;const[r,n]=P.useState(null),i=P.useCallback(h=>{for(const{target:d}of h)if(ld(d)){n(f=>{const m=e(d);return f?{...f,width:m.width,height:m.height}:m});break}},[e]),s=xg({callback:i}),o=P.useCallback(h=>{const d=xI(h);s==null||s.disconnect(),d&&(s==null||s.observe(d)),n(d?e(d):null)},[e,s]),[a,c]=hm(o);return P.useMemo(()=>({nodeRef:a,rect:r,setRef:c}),[r,a,c])}const b4=[{sensor:vI,options:{}},{sensor:yI,options:{}}],S4={current:{}},Rp={draggable:{measure:bT},droppable:{measure:bT,strategy:Rh.WhileDragging,frequency:n_.Optimized},dragOverlay:{measure:cd}};class Kc extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const E4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Kc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:mm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Rp,measureDroppableContainers:mm,windowRect:null,measuringScheduled:!1},wI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:mm,draggableNodes:new Map,over:null,measureDroppableContainers:mm},hd=P.createContext(wI),bI=P.createContext(E4);function T4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Kc}}}function A4(t,e){switch(e.type){case Bt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Bt.DragMove:return t.draggable.active?{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}}:t;case Bt.DragEnd:case Bt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Bt.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new Kc(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case Bt.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const o=new Kc(t.droppable.containers);return o.set(r,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Bt.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const s=new Kc(t.droppable.containers);return s.delete(r),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function C4(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=P.useContext(hd),s=dm(n),o=dm(r==null?void 0:r.id);return P.useEffect(()=>{if(!e&&!n&&s&&o!=null){if(!Rw(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:c,node:h}=a;if(!c.current&&!h.current)return;requestAnimationFrame(()=>{for(const d of[c.current,h.current]){if(!d)continue;const f=EO(d);if(f){f.focus();break}}})}},[n,e,i,o,s]),null}function SI(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...n}),r):r}function R4(t){return P.useMemo(()=>({draggable:{...Rp.draggable,...t==null?void 0:t.draggable},droppable:{...Rp.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Rp.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function k4(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const s=P.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Wi(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!n)return;const h=e==null?void 0:e.node.current;if(!h||h.isConnected===!1)return;const d=r(h),f=aI(d,n);if(o||(f.x=0),a||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=uI(h);m&&m.scrollBy({top:f.y,left:f.x})}},[e,o,a,n,r])}const wg=P.createContext({...fi,scaleX:1,scaleY:1});var oo;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(oo||(oo={}));const P4=P.memo(function(e){var r,n,i,s;let{id:o,accessibility:a,autoScroll:c=!0,children:h,sensors:d=b4,collisionDetection:f=UO,measuring:m,modifiers:g,..._}=e;const x=P.useReducer(A4,void 0,T4),[E,w]=x,[b,S]=PO(),[A,k]=P.useState(oo.Uninitialized),L=A===oo.Initialized,{draggable:{active:I,nodes:M,translate:z},droppable:{containers:$}}=E,Z=I?M.get(I):null,Y=P.useRef({initial:null,translated:null}),O=P.useMemo(()=>{var Dt;return I!=null?{id:I,data:(Dt=Z==null?void 0:Z.data)!=null?Dt:S4,rect:Y}:null},[I,Z]),W=P.useRef(null),[de,ae]=P.useState(null),[le,D]=P.useState(null),V=Ah(_,Object.values(_)),U=_g("DndDescribedBy",o),j=P.useMemo(()=>$.getEnabled(),[$]),ie=R4(m),{droppableRects:Se,measureDroppableContainers:we,measuringScheduled:$e}=h4(j,{dragging:L,dependencies:[z.x,z.y],config:ie.droppable}),Te=u4(M,I),ze=P.useMemo(()=>le?pm(le):null,[le]),Et=sy(),kt=d4(Te,ie.draggable.measure);k4({activeNode:I?M.get(I):null,config:Et.layoutShiftCompensation,initialRect:kt,measure:ie.draggable.measure});const je=CT(Te,ie.draggable.measure,kt),Pe=CT(Te?Te.parentElement:null),Ge=P.useRef({activatorEvent:null,active:null,activeNode:Te,collisionRect:null,collisions:null,droppableRects:Se,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:$,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Fe=$.getNodeFor((r=Ge.current.over)==null?void 0:r.id),Pt=w4({measure:ie.dragOverlay.measure}),Zt=(n=Pt.nodeRef.current)!=null?n:Te,Nr=L?(i=Pt.rect)!=null?i:je:null,Za=!!(Pt.nodeRef.current&&Pt.rect),ts=m4(Za?null:je),Fu=_I(Zt?Mr(Zt):null),Dr=g4(L?Fe??Te:null),Ja=x4(Dr),el=SI(g,{transform:{x:z.x-ts.x,y:z.y-ts.y,scaleX:1,scaleY:1},activatorEvent:le,active:O,activeNodeRect:je,containerNodeRect:Pe,draggingNodeRect:Nr,over:Ge.current.over,overlayNodeRect:Pt.rect,scrollableAncestors:Dr,scrollableAncestorRects:Ja,windowRect:Fu}),wd=ze?tu(ze,z):null,Ds=y4(Dr),Zg=kT(Ds),Jg=kT(Ds,[je]),Ls=tu(el,Zg),Os=Nr?jO(Nr,el):null,Vo=O&&Os?f({active:O,collisionRect:Os,droppableRects:Se,droppableContainers:j,pointerCoordinates:wd}):null,bd=OO(Vo,"id"),[yi,Sd]=P.useState(null),ey=Za?el:tu(el,Jg),ty=BO(ey,(s=yi==null?void 0:yi.rect)!=null?s:null,je),Ed=P.useCallback((Dt,vr)=>{let{sensor:_r,options:jn}=vr;if(W.current==null)return;const xr=M.get(W.current);if(!xr)return;const Qr=Dt.nativeEvent,Lr=new _r({active:W.current,activeNode:xr,event:Qr,options:jn,context:Ge,onStart(Or){const Xo=W.current;if(Xo==null)return;const Yo=M.get(Xo);if(!Yo)return;const{onDragStart:tl}=V.current,qo={active:{id:Xo,data:Yo.data,rect:Y}};ms.unstable_batchedUpdates(()=>{tl==null||tl(qo),k(oo.Initializing),w({type:Bt.DragStart,initialCoordinates:Or,active:Xo}),b({type:"onDragStart",event:qo})})},onMove(Or){w({type:Bt.DragMove,coordinates:Or})},onEnd:rs(Bt.DragEnd),onCancel:rs(Bt.DragCancel)});ms.unstable_batchedUpdates(()=>{ae(Lr),D(Dt.nativeEvent)});function rs(Or){return async function(){const{active:Yo,collisions:tl,over:qo,scrollAdjustedTranslate:rl}=Ge.current;let Qo=null;if(Yo&&rl){const{cancelDrop:Ko}=V.current;Qo={activatorEvent:Qr,active:Yo,collisions:tl,delta:rl,over:qo},Or===Bt.DragEnd&&typeof Ko=="function"&&await Promise.resolve(Ko(Qo))&&(Or=Bt.DragCancel)}W.current=null,ms.unstable_batchedUpdates(()=>{w({type:Or}),k(oo.Uninitialized),Sd(null),ae(null),D(null);const Ko=Or===Bt.DragEnd?"onDragEnd":"onDragCancel";if(Qo){const Fs=V.current[Ko];Fs==null||Fs(Qo),b({type:Ko,event:Qo})}})}}},[M]),ry=P.useCallback((Dt,vr)=>(_r,jn)=>{const xr=_r.nativeEvent,Qr=M.get(jn);if(W.current!==null||!Qr||xr.dndKit||xr.defaultPrevented)return;const Lr={active:Qr};Dt(_r,vr.options,Lr)===!0&&(xr.dndKit={capturedBy:vr.sensor},W.current=jn,Ed(_r,vr))},[M,Ed]),Uu=c4(d,ry);v4(d),Wi(()=>{je&&A===oo.Initializing&&k(oo.Initialized)},[je,A]),P.useEffect(()=>{const{onDragMove:Dt}=V.current,{active:vr,activatorEvent:_r,collisions:jn,over:xr}=Ge.current;if(!vr||!_r)return;const Qr={active:vr,activatorEvent:_r,collisions:jn,delta:{x:Ls.x,y:Ls.y},over:xr};ms.unstable_batchedUpdates(()=>{Dt==null||Dt(Qr),b({type:"onDragMove",event:Qr})})},[Ls.x,Ls.y]),P.useEffect(()=>{const{active:Dt,activatorEvent:vr,collisions:_r,droppableContainers:jn,scrollAdjustedTranslate:xr}=Ge.current;if(!Dt||W.current==null||!vr||!xr)return;const{onDragOver:Qr}=V.current,Lr=jn.get(bd),rs=Lr&&Lr.rect.current?{id:Lr.id,rect:Lr.rect.current,data:Lr.data,disabled:Lr.disabled}:null,Or={active:Dt,activatorEvent:vr,collisions:_r,delta:{x:xr.x,y:xr.y},over:rs};ms.unstable_batchedUpdates(()=>{Sd(rs),Qr==null||Qr(Or),b({type:"onDragOver",event:Or})})},[bd]),Wi(()=>{Ge.current={activatorEvent:le,active:O,activeNode:Te,collisionRect:Os,collisions:Vo,droppableRects:Se,draggableNodes:M,draggingNode:Zt,draggingNodeRect:Nr,droppableContainers:$,over:yi,scrollableAncestors:Dr,scrollAdjustedTranslate:Ls},Y.current={initial:Nr,translated:Os}},[O,Te,Vo,Os,M,Zt,Nr,Se,$,yi,Dr,Ls]),o4({...Et,delta:z,draggingRect:Os,pointerCoordinates:wd,scrollableAncestors:Dr,scrollableAncestorRects:Ja});const ny=P.useMemo(()=>({active:O,activeNode:Te,activeNodeRect:je,activatorEvent:le,collisions:Vo,containerNodeRect:Pe,dragOverlay:Pt,draggableNodes:M,droppableContainers:$,droppableRects:Se,over:yi,measureDroppableContainers:we,scrollableAncestors:Dr,scrollableAncestorRects:Ja,measuringConfiguration:ie,measuringScheduled:$e,windowRect:Fu}),[O,Te,je,le,Vo,Pe,Pt,M,$,Se,yi,we,Dr,Ja,ie,$e,Fu]),iy=P.useMemo(()=>({activatorEvent:le,activators:Uu,active:O,activeNodeRect:je,ariaDescribedById:{draggable:U},dispatch:w,draggableNodes:M,over:yi,measureDroppableContainers:we}),[le,Uu,O,je,w,U,M,yi,we]);return qe.createElement(oI.Provider,{value:S},qe.createElement(hd.Provider,{value:iy},qe.createElement(bI.Provider,{value:ny},qe.createElement(wg.Provider,{value:ty},h)),qe.createElement(C4,{disabled:(a==null?void 0:a.restoreFocus)===!1})),qe.createElement(NO,{...a,hiddenTextDescribedById:U}));function sy(){const Dt=(de==null?void 0:de.autoScrollEnabled)===!1,vr=typeof c=="object"?c.enabled===!1:c===!1,_r=L&&!Dt&&!vr;return typeof c=="object"?{...c,enabled:_r}:{enabled:_r}}}),I4=P.createContext(null),PT="button",M4="Droppable";function N4(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const s=_g(M4),{activators:o,activatorEvent:a,active:c,activeNodeRect:h,ariaDescribedById:d,draggableNodes:f,over:m}=P.useContext(hd),{role:g=PT,roleDescription:_="draggable",tabIndex:x=0}=i??{},E=(c==null?void 0:c.id)===e,w=P.useContext(E?wg:I4),[b,S]=hm(),[A,k]=hm(),L=_4(o,e),I=Ah(r);Wi(()=>(f.set(e,{id:e,key:s,node:b,activatorNode:A,data:I}),()=>{const z=f.get(e);z&&z.key===s&&f.delete(e)}),[f,e]);const M=P.useMemo(()=>({role:g,tabIndex:x,"aria-disabled":n,"aria-pressed":E&&g===PT?!0:void 0,"aria-roledescription":_,"aria-describedby":d.draggable}),[n,g,x,E,_,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:h,attributes:M,isDragging:E,listeners:n?void 0:L,node:b,over:m,setNodeRef:S,setActivatorNodeRef:k,transform:w}}function D4(){return P.useContext(bI)}const L4="Droppable",O4={timeout:25};function F4(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const s=_g(L4),{active:o,dispatch:a,over:c,measureDroppableContainers:h}=P.useContext(hd),d=P.useRef({disabled:r}),f=P.useRef(!1),m=P.useRef(null),g=P.useRef(null),{disabled:_,updateMeasurementsFor:x,timeout:E}={...O4,...i},w=Ah(x??n),b=P.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{h(Array.isArray(w.current)?w.current:[w.current]),g.current=null},E)},[E]),S=xg({callback:b,disabled:_||!o}),A=P.useCallback((M,z)=>{S&&(z&&(S.unobserve(z),f.current=!1),M&&S.observe(M))},[S]),[k,L]=hm(A),I=Ah(e);return P.useEffect(()=>{!S||!k.current||(S.disconnect(),f.current=!1,S.observe(k.current))},[k,S]),Wi(()=>(a({type:Bt.RegisterDroppable,element:{id:n,key:s,disabled:r,node:k,rect:m,data:I}}),()=>a({type:Bt.UnregisterDroppable,key:s,id:n})),[n]),P.useEffect(()=>{r!==d.current.disabled&&(a({type:Bt.SetDroppableDisabled,id:n,key:s,disabled:r}),d.current.disabled=r)},[n,s,r,a]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===n,node:k,over:c,setNodeRef:L}}function U4(t){let{animation:e,children:r}=t;const[n,i]=P.useState(null),[s,o]=P.useState(null),a=dm(r);return!r&&!n&&a&&i(a),Wi(()=>{if(!s)return;const c=n==null?void 0:n.key,h=n==null?void 0:n.props.id;if(c==null||h==null){i(null);return}Promise.resolve(e(h,s)).then(()=>{i(null)})},[e,n,s]),qe.createElement(qe.Fragment,null,r,n?P.cloneElement(n,{ref:o}):null)}const B4={x:0,y:0,scaleX:1,scaleY:1};function z4(t){let{children:e}=t;return qe.createElement(hd.Provider,{value:wI},qe.createElement(wg.Provider,{value:B4},e))}const j4={position:"fixed",touchAction:"none"},$4=t=>Rw(t)?"transform 250ms ease":void 0,G4=P.forwardRef((t,e)=>{let{as:r,activatorEvent:n,adjustScale:i,children:s,className:o,rect:a,style:c,transform:h,transition:d=$4}=t;if(!a)return null;const f=i?h:{...h,scaleX:1,scaleY:1},m={...j4,width:a.width,height:a.height,top:a.top,left:a.left,transform:Ch.Transform.toString(f),transformOrigin:i&&n?DO(n,a):void 0,transition:typeof d=="function"?d(n):d,...c};return qe.createElement(r,{className:o,style:m,ref:e},s)}),H4=t=>e=>{let{active:r,dragOverlay:n}=e;const i={},{styles:s,className:o}=t;if(s!=null&&s.active)for(const[a,c]of Object.entries(s.active))c!==void 0&&(i[a]=r.node.style.getPropertyValue(a),r.node.style.setProperty(a,c));if(s!=null&&s.dragOverlay)for(const[a,c]of Object.entries(s.dragOverlay))c!==void 0&&n.node.style.setProperty(a,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,h]of Object.entries(i))r.node.style.setProperty(c,h);o!=null&&o.active&&r.node.classList.remove(o.active)}},W4=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:Ch.Transform.toString(e)},{transform:Ch.Transform.toString(r)}]},V4={duration:250,easing:"ease",keyframes:W4,sideEffects:H4({styles:{active:{opacity:"0"}}})};function X4(t){let{config:e,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=t;return vg((s,o)=>{if(e===null)return;const a=r.get(s);if(!a)return;const c=a.node.current;if(!c)return;const h=xI(o);if(!h)return;const{transform:d}=Mr(o).getComputedStyle(o),f=lI(d);if(!f)return;const m=typeof e=="function"?e:Y4(e);return mI(c,i.draggable.measure),m({active:{id:s,data:a.data,node:c,rect:i.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:i.dragOverlay.measure(h)},droppableContainers:n,measuringConfiguration:i,transform:f})})}function Y4(t){const{duration:e,easing:r,sideEffects:n,keyframes:i}={...V4,...t};return s=>{let{active:o,dragOverlay:a,transform:c,...h}=s;if(!e)return;const d={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/a.rect.height:1},m={x:c.x-d.x,y:c.y-d.y,...f},g=i({...h,active:o,dragOverlay:a,transform:{initial:c,final:m}}),[_]=g,x=g[g.length-1];if(JSON.stringify(_)===JSON.stringify(x))return;const E=n==null?void 0:n({active:o,dragOverlay:a,...h}),w=a.node.animate(g,{duration:e,easing:r,fill:"forwards"});return new Promise(b=>{w.onfinish=()=>{E==null||E(),b()}})}}let IT=0;function q4(t){return P.useMemo(()=>{if(t!=null)return IT++,IT},[t])}const Q4=qe.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:n,style:i,transition:s,modifiers:o,wrapperElement:a="div",className:c,zIndex:h=999}=t;const{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:g,draggableNodes:_,droppableContainers:x,dragOverlay:E,over:w,measuringConfiguration:b,scrollableAncestors:S,scrollableAncestorRects:A,windowRect:k}=D4(),L=P.useContext(wg),I=q4(f==null?void 0:f.id),M=SI(o,{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:g,draggingNodeRect:E.rect,over:w,overlayNodeRect:E.rect,scrollableAncestors:S,scrollableAncestorRects:A,transform:L,windowRect:k}),z=Nw(m),$=X4({config:n,draggableNodes:_,droppableContainers:x,measuringConfiguration:b}),Z=z?E.setRef:void 0;return qe.createElement(z4,null,qe.createElement(U4,{animation:$},f&&I?qe.createElement(G4,{key:I,id:f.id,ref:Z,as:a,activatorEvent:d,adjustScale:e,className:c,transition:s,rect:z,style:{zIndex:h,...i},transform:M},r):null))}),MT=t=>{let e;const r=new Set,n=(c,h)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=h??typeof d!="object"?d:Object.assign({},e,d),r.forEach(m=>m(e,f))}},i=()=>e,a={setState:n,getState:i,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{r.clear()}};return e=t(n,i,a),a},K4=t=>t?MT(t):MT;var EI={exports:{}},TI={},AI={exports:{}},CI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=P;function Z4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var J4=typeof Object.is=="function"?Object.is:Z4,eF=vu.useState,tF=vu.useEffect,rF=vu.useLayoutEffect,nF=vu.useDebugValue;function iF(t,e){var r=e(),n=eF({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return rF(function(){i.value=r,i.getSnapshot=e,Q0(i)&&s({inst:i})},[t,r,e]),tF(function(){return Q0(i)&&s({inst:i}),t(function(){Q0(i)&&s({inst:i})})},[t]),nF(r),r}function Q0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!J4(t,r)}catch{return!0}}function sF(t,e){return e()}var oF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sF:iF;CI.useSyncExternalStore=vu.useSyncExternalStore!==void 0?vu.useSyncExternalStore:oF;AI.exports=CI;var aF=AI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=P,lF=aF;function uF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cF=typeof Object.is=="function"?Object.is:uF,hF=lF.useSyncExternalStore,dF=bg.useRef,fF=bg.useEffect,pF=bg.useMemo,mF=bg.useDebugValue;TI.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=dF(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=pF(function(){function c(g){if(!h){if(h=!0,d=g,g=n(g),i!==void 0&&o.hasValue){var _=o.value;if(i(_,g))return f=_}return f=g}if(_=f,cF(d,g))return _;var x=n(g);return i!==void 0&&i(_,x)?_:(d=g,f=x)}var h=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,i]);var a=hF(t,s[0],s[1]);return fF(function(){o.hasValue=!0,o.value=a},[a]),mF(a),a};EI.exports=TI;var gF=EI.exports;const yF=rd(gF),{useSyncExternalStoreWithSelector:vF}=yF;function _F(t,e=t.getState,r){const n=vF(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return P.useDebugValue(n),n}const NT=t=>{const e=typeof t=="function"?K4(t):t,r=(n,i)=>_F(e,n,i);return Object.assign(r,e),r},RI=t=>t?NT(t):NT,i_=new Map,If=t=>{const e=i_.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},xF=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=i_.get(r.name);if(n)return{type:"tracked",store:t,...n};const i={connection:e.connect(r),stores:{}};return i_.set(r.name,i),{type:"tracked",store:t,...i}},wF=(t,e={})=>(r,n,i)=>{const{enabled:s,anonymousActionType:o,store:a,...c}=e;let h;try{h=(s??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return t(r,n,i);const{connection:d,...f}=xF(a,h,c);let m=!0;i.setState=(x,E,w)=>{const b=r(x,E);if(!m)return b;const S=w===void 0?{type:o||"anonymous"}:typeof w=="string"?{type:w}:w;return a===void 0?(d==null||d.send(S,n()),b):(d==null||d.send({...S,type:`${a}/${S.type}`},{...If(c.name),[a]:i.getState()}),b)};const g=(...x)=>{const E=m;m=!1,r(...x),m=E},_=t(i.setState,n,i);if(f.type==="untracked"?d==null||d.init(_):(f.stores[f.store]=i,d==null||d.init(Object.fromEntries(Object.entries(f.stores).map(([x,E])=>[x,x===f.store?_:E.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let x=!1;const E=i.dispatch;i.dispatch=(...w)=>{E(...w)}}return d.subscribe(x=>{var E;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return K0(x.payload,w=>{if(w.type==="__setState"){if(a===void 0){g(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const b=w.state[a];if(b==null)return;JSON.stringify(i.getState())!==JSON.stringify(b)&&g(b);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(w)});case"DISPATCH":switch(x.payload.type){case"RESET":return g(_),a===void 0?d==null?void 0:d.init(i.getState()):d==null?void 0:d.init(If(c.name));case"COMMIT":if(a===void 0){d==null||d.init(i.getState());return}return d==null?void 0:d.init(If(c.name));case"ROLLBACK":return K0(x.state,w=>{if(a===void 0){g(w),d==null||d.init(i.getState());return}g(w[a]),d==null||d.init(If(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return K0(x.state,w=>{if(a===void 0){g(w);return}JSON.stringify(i.getState())!==JSON.stringify(w[a])&&g(w[a])});case"IMPORT_STATE":{const{nextLiftedState:w}=x.payload,b=(E=w.computedStates.slice(-1)[0])==null?void 0:E.state;if(!b)return;g(a===void 0?b:b[a]),d==null||d.send(null,w);return}case"PAUSE_RECORDING":return m=!m}return}}),_},kI=wF,K0=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function Dw(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:i=>r.removeItem(i)}}const kh=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return kh(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return kh(n)(r)}}}},bF=(t,e)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,w)=>({...w,...E}),...e},o=!1;const a=new Set,c=new Set;let h;try{h=s.getStorage()}catch{}if(!h)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...E)},n,i);const d=kh(s.serialize),f=()=>{const E=s.partialize({...n()});let w;const b=d({state:E,version:s.version}).then(S=>h.setItem(s.name,S)).catch(S=>{w=S});if(w)throw w;return b},m=i.setState;i.setState=(E,w)=>{m(E,w),f()};const g=t((...E)=>{r(...E),f()},n,i);let _;const x=()=>{var E;if(!h)return;o=!1,a.forEach(b=>b(n()));const w=((E=s.onRehydrateStorage)==null?void 0:E.call(s,n()))||void 0;return kh(h.getItem.bind(h))(s.name).then(b=>{if(b)return s.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var S;return _=s.merge(b,(S=n())!=null?S:g),r(_,!0),f()}).then(()=>{w==null||w(_,void 0),o=!0,c.forEach(b=>b(_))}).catch(b=>{w==null||w(void 0,b)})};return i.persist={setOptions:E=>{s={...s,...E},E.getStorage&&(h=E.getStorage())},clearStorage:()=>{h==null||h.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(c.add(E),()=>{c.delete(E)})},x(),_||g},SF=(t,e)=>(r,n,i)=>{let s={storage:Dw(()=>localStorage),partialize:x=>x,version:0,merge:(x,E)=>({...E,...x}),...e},o=!1;const a=new Set,c=new Set;let h=s.storage;if(!h)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...x)},n,i);const d=()=>{const x=s.partialize({...n()});return h.setItem(s.name,{state:x,version:s.version})},f=i.setState;i.setState=(x,E)=>{f(x,E),d()};const m=t((...x)=>{r(...x),d()},n,i);let g;const _=()=>{var x,E;if(!h)return;o=!1,a.forEach(b=>{var S;return b((S=n())!=null?S:m)});const w=((E=s.onRehydrateStorage)==null?void 0:E.call(s,(x=n())!=null?x:m))||void 0;return kh(h.getItem.bind(h))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var S;return g=s.merge(b,(S=n())!=null?S:m),r(g,!0),d()}).then(()=>{w==null||w(g,void 0),g=n(),o=!0,c.forEach(b=>b(g))}).catch(b=>{w==null||w(void 0,b)})};return i.persist={setOptions:x=>{s={...s,...x},x.storage&&(h=x.storage)},clearStorage:()=>{h==null||h.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},s.skipHydration||_(),g||m},EF=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?bF(t,e):SF(t,e),PI=EF;var II=Symbol.for("immer-nothing"),DT=Symbol.for("immer-draftable"),fn=Symbol.for("immer-state");function ni(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var _u=Object.getPrototypeOf;function xu(t){return!!t&&!!t[fn]}function za(t){var e;return t?MI(t)||Array.isArray(t)||!!t[DT]||!!((e=t.constructor)!=null&&e[DT])||Eg(t)||Tg(t):!1}var TF=Object.prototype.constructor.toString();function MI(t){if(!t||typeof t!="object")return!1;const e=_u(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===TF}function Ph(t,e){Sg(t)===0?Object.entries(t).forEach(([r,n])=>{e(r,n,t)}):t.forEach((r,n)=>e(n,r,t))}function Sg(t){const e=t[fn];return e?e.type_:Array.isArray(t)?1:Eg(t)?2:Tg(t)?3:0}function s_(t,e){return Sg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NI(t,e,r){const n=Sg(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function AF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Eg(t){return t instanceof Map}function Tg(t){return t instanceof Set}function pa(t){return t.copy_||t.base_}function o_(t,e){if(Eg(t))return new Map(t);if(Tg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&MI(t))return _u(t)?{...t}:Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[fn];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const s=n[i],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(_u(t),r)}function Lw(t,e=!1){return Ag(t)||xu(t)||!za(t)||(Sg(t)>1&&(t.set=t.add=t.clear=t.delete=CF),Object.freeze(t),e&&Ph(t,(r,n)=>Lw(n,!0))),t}function CF(){ni(2)}function Ag(t){return Object.isFrozen(t)}var RF={};function ja(t){const e=RF[t];return e||ni(0,t),e}var Ih;function DI(){return Ih}function kF(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function LT(t,e){e&&(ja("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function a_(t){l_(t),t.drafts_.forEach(PF),t.drafts_=null}function l_(t){t===Ih&&(Ih=t.parent_)}function OT(t){return Ih=kF(Ih,t)}function PF(t){const e=t[fn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function FT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[fn].modified_&&(a_(e),ni(4)),za(t)&&(t=ym(e,t),e.parent_||vm(e,t)),e.patches_&&ja("Patches").generateReplacementPatches_(r[fn].base_,t,e.patches_,e.inversePatches_)):t=ym(e,r,[]),a_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==II?t:void 0}function ym(t,e,r){if(Ag(e))return e;const n=e[fn];if(!n)return Ph(e,(i,s)=>UT(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return vm(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),Ph(s,(a,c)=>UT(t,n,i,a,c,r,o)),vm(t,i,!1),r&&t.patches_&&ja("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function UT(t,e,r,n,i,s,o){if(xu(i)){const a=s&&e&&e.type_!==3&&!s_(e.assigned_,n)?s.concat(n):void 0,c=ym(t,i,a);if(NI(r,n,c),xu(c))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(za(i)&&!Ag(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ym(t,i),(!e||!e.scope_.parent_)&&vm(t,i)}}function vm(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Lw(e,r)}function IF(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:DI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Ow;r&&(i=[n],s=Mh);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return n.draft_=a,n.revoke_=o,a}var Ow={get(t,e){if(e===fn)return t;const r=pa(t);if(!s_(r,e))return MF(t,r,e);const n=r[e];return t.finalized_||!za(n)?n:n===Z0(t.base_,e)?(J0(t),t.copy_[e]=c_(n,t)):n},has(t,e){return e in pa(t)},ownKeys(t){return Reflect.ownKeys(pa(t))},set(t,e,r){const n=LI(pa(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Z0(pa(t),e),s=i==null?void 0:i[fn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(AF(r,i)&&(r!==void 0||s_(t.base_,e)))return!0;J0(t),u_(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Z0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,J0(t),u_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=pa(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ni(11)},getPrototypeOf(t){return _u(t.base_)},setPrototypeOf(){ni(12)}},Mh={};Ph(Ow,(t,e)=>{Mh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Mh.deleteProperty=function(t,e){return Mh.set.call(this,t,e,void 0)};Mh.set=function(t,e,r){return Ow.set.call(this,t[0],e,r,t[0])};function Z0(t,e){const r=t[fn];return(r?pa(r):t)[e]}function MF(t,e,r){var i;const n=LI(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function LI(t,e){if(!(e in t))return;let r=_u(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=_u(r)}}function u_(t){t.modified_||(t.modified_=!0,t.parent_&&u_(t.parent_))}function J0(t){t.copy_||(t.copy_=o_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var NF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const o=this;return function(c=s,...h){return o.produce(c,d=>r.call(this,d,...h))}}typeof r!="function"&&ni(6),n!==void 0&&typeof n!="function"&&ni(7);let i;if(za(e)){const s=OT(this),o=c_(e,void 0);let a=!0;try{i=r(o),a=!1}finally{a?a_(s):l_(s)}return LT(s,n),FT(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===II&&(i=void 0),this.autoFreeze_&&Lw(i,!0),n){const s=[],o=[];ja("Patches").generateReplacementPatches_(e,i,s,o),n(s,o)}return i}else ni(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,c=>e(c,...a));let n,i;return[this.produce(e,r,(o,a)=>{n=o,i=a}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){za(t)||ni(8),xu(t)&&(t=DF(t));const e=OT(this),r=c_(t,void 0);return r[fn].isManual_=!0,l_(e),r}finishDraft(t,e){const r=t&&t[fn];(!r||!r.isManual_)&&ni(9);const{scope_:n}=r;return LT(n,e),FT(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=ja("Patches").applyPatches_;return xu(t)?n(t,e):this.produce(t,i=>n(i,e))}};function c_(t,e){const r=Eg(t)?ja("MapSet").proxyMap_(t,e):Tg(t)?ja("MapSet").proxySet_(t,e):IF(t,e);return(e?e.scope_:DI()).drafts_.push(r),r}function DF(t){return xu(t)||ni(10,t),OI(t)}function OI(t){if(!za(t)||Ag(t))return t;const e=t[fn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=o_(t,e.scope_.immer_.useStrictShallowCopy_)}else r=o_(t,!0);return Ph(r,(n,i)=>{NI(r,n,OI(i))}),e&&(e.finalized_=!1),r}var pn=new NF,pt=pn.produce;pn.produceWithPatches.bind(pn);pn.setAutoFreeze.bind(pn);pn.setUseStrictShallowCopy.bind(pn);pn.applyPatches.bind(pn);pn.createDraft.bind(pn);pn.finishDraft.bind(pn);const Vi=[],LF=""+new URL("fuyonade_dreams_ver2-ebbc596b.mp3",import.meta.url).href,OF=""+new URL("Coin_Sound_3-2a9ca9a1.mp3",import.meta.url).href,FF=""+new URL("Coin_Sound_1-3-a4185069.mp3",import.meta.url).href,UF=""+new URL("fuyonade-full-75b88724.mp3",import.meta.url).href,BF=""+new URL("fuyo_a-dad71d84.mp3",import.meta.url).href,zF=""+new URL("fuyo_ah-e21c4ee7.mp3",import.meta.url).href,jF=""+new URL("fuyo_ahn_1-c9713b6c.mp3",import.meta.url).href,$F=""+new URL("fuyo_ahn_2-5e38af00.mp3",import.meta.url).href,GF=""+new URL("fuyo_ahn_3-f77ef987.mp3",import.meta.url).href,HF=""+new URL("fuyo_ahn_4-23680552.mp3",import.meta.url).href,WF=""+new URL("fuyo_ahn_5-d540c6b9.mp3",import.meta.url).href,VF=""+new URL("fuyo_ahn_6-6ca2c509.mp3",import.meta.url).href,XF=""+new URL("fuyo_ahn_7-7319cee2.mp3",import.meta.url).href,YF=""+new URL("fuyo_ahn_8-b07b3d69.mp3",import.meta.url).href,qF=""+new URL("fuyo_haa_1-fb7687f5.mp3",import.meta.url).href,QF=""+new URL("fuyo_weirdchamp_1-d4230237.mp3",import.meta.url).href,KF=""+new URL("gulp-3ed643ee.mp3",import.meta.url).href,ZF=""+new URL("slurp_1-563aafb7.mp3",import.meta.url).href,JF=""+new URL("slurp_2-534e0324.mp3",import.meta.url).href,eU=""+new URL("slurp_3-78e9794f.mp3",import.meta.url).href,tU=""+new URL("thirst_quenched-8cf70cda.mp3",import.meta.url).href,rU=""+new URL("kachingNotReally-33c5d736.wav",import.meta.url).href,nU=""+new URL("Smooch_2-ffab6826.mp3",import.meta.url).href,iU=""+new URL("Smooch_3-36538cea.mp3",import.meta.url).href,sU=""+new URL("Smooch_4-2-0ed3de59.mp3",import.meta.url).href,oU=""+new URL("Smooch_4-4-ba927115.mp3",import.meta.url).href,aU=""+new URL("Smooch_4-2bb54cd7.mp3",import.meta.url).href,lU=""+new URL("Fyyou_smooch-40bde343.mp3",import.meta.url).href,uU=""+new URL("alien1-d823eb83.mp3",import.meta.url).href,cU=""+new URL("alien2-18351a90.mp3",import.meta.url).href,hU=""+new URL("alien3-38c59355.mp3",import.meta.url).href,dU=""+new URL("astronaut1-e077bc4b.mp3",import.meta.url).href,fU=""+new URL("astronaut2-456931e6.mp3",import.meta.url).href,pU=""+new URL("astronaut3-7dfd3386.mp3",import.meta.url).href,mU=""+new URL("astronaut4-21868ffc.mp3",import.meta.url).href,gU=""+new URL("auto-clicker1-a9918566.mp3",import.meta.url).href,yU=""+new URL("blacksmith1-58271577.mp3",import.meta.url).href,vU=""+new URL("cultist1-00c31bdd.mp3",import.meta.url).href,_U=""+new URL("diver1-0551add9.mp3",import.meta.url).href,xU=""+new URL("diver2-c0bc2ee1.mp3",import.meta.url).href,wU=""+new URL("diver3-53af8ab4.mp3",import.meta.url).href,bU=""+new URL("engineer1-4765e1ec.mp3",import.meta.url).href,SU=""+new URL("generico1-14521ac6.mp3",import.meta.url).href,EU=""+new URL("hazmat1-38f1620b.mp3",import.meta.url).href,TU=""+new URL("investor1-50bce4be.mp3",import.meta.url).href,AU=""+new URL("knight1-05155712.mp3",import.meta.url).href,CU=""+new URL("lumberjack1-a353af00.mp3",import.meta.url).href,RU=""+new URL("mechanic1-5fb4325b.mp3",import.meta.url).href,kU=""+new URL("miner1-929b6658.mp3",import.meta.url).href,PU=""+new URL("peak1-718cf5a6.mp3",import.meta.url).href,IU=""+new URL("scientist1-b3fb16b6.mp3",import.meta.url).href,MU=""+new URL("wizard1-8a78aee5.mp3",import.meta.url).href,NU=""+new URL("scream1-a6a1871c.mp3",import.meta.url).href,DU=""+new URL("scream2-66636689.mp3",import.meta.url).href,LU=""+new URL("scream3-337f1f38.mp3",import.meta.url).href,OU=""+new URL("scream4-cec69d9e.mp3",import.meta.url).href,FU=""+new URL("scream5-bed68681.mp3",import.meta.url).href,UU=""+new URL("scream6-8f97f0b0.mp3",import.meta.url).href,BU=""+new URL("scream7-f52d7490.mp3",import.meta.url).href,zU=""+new URL("scream8-84c67761.mp3",import.meta.url).href;var oe=(t=>(t[t.BGM=0]="BGM",t[t.Coin1=1]="Coin1",t[t.Coin2=2]="Coin2",t[t.FuyonadeFull=3]="FuyonadeFull",t[t.Kaching=4]="Kaching",t[t.Smooch1=5]="Smooch1",t[t.Smooch2=6]="Smooch2",t[t.Smooch3=7]="Smooch3",t[t.Smooch4=8]="Smooch4",t[t.Smooch5=9]="Smooch5",t[t.Smooch6=10]="Smooch6",t[t.Alien1=11]="Alien1",t[t.Alien2=12]="Alien2",t[t.Alien3=13]="Alien3",t[t.Astronaut1=14]="Astronaut1",t[t.Astronaut2=15]="Astronaut2",t[t.Astronaut3=16]="Astronaut3",t[t.Astronaut4=17]="Astronaut4",t[t.AutoClicker1=18]="AutoClicker1",t[t.Blacksmith1=19]="Blacksmith1",t[t.Cultist1=20]="Cultist1",t[t.Diver1=21]="Diver1",t[t.Diver2=22]="Diver2",t[t.Diver3=23]="Diver3",t[t.Engineer1=24]="Engineer1",t[t.Generico1=25]="Generico1",t[t.Hazmat1=26]="Hazmat1",t[t.Investor1=27]="Investor1",t[t.Knight1=28]="Knight1",t[t.Lumberjack1=29]="Lumberjack1",t[t.Mechanic1=30]="Mechanic1",t[t.Miner1=31]="Miner1",t[t.Peak1=32]="Peak1",t[t.Scientist1=33]="Scientist1",t[t.Wizard1=34]="Wizard1",t[t.Ahh1=35]="Ahh1",t[t.Ahh2=36]="Ahh2",t[t.Ahh3=37]="Ahh3",t[t.Ahh4=38]="Ahh4",t[t.Ahh5=39]="Ahh5",t[t.Ahh6=40]="Ahh6",t[t.Ahh7=41]="Ahh7",t[t.Ahh8=42]="Ahh8",t[t.Ahh9=43]="Ahh9",t[t.Ahh10=44]="Ahh10",t[t.Haa1=45]="Haa1",t[t.Weirdchamp=46]="Weirdchamp",t[t.Scream1=47]="Scream1",t[t.Scream2=48]="Scream2",t[t.Scream3=49]="Scream3",t[t.Scream4=50]="Scream4",t[t.Scream5=51]="Scream5",t[t.Scream6=52]="Scream6",t[t.Scream7=53]="Scream7",t[t.Scream8=54]="Scream8",t[t.Gulp=55]="Gulp",t[t.Slurp1=56]="Slurp1",t[t.Slurp2=57]="Slurp2",t[t.Slurp3=58]="Slurp3",t[t.ThirstQuenched=59]="ThirstQuenched",t))(oe||{}),Nh=(t=>(t[t.Music=0]="Music",t[t.SFX=1]="SFX",t))(Nh||{});const Mf={0:{src:LF,type:0,persistent:!0,options:{loop:!0}},1:{src:OF,type:1,options:{volume:.25}},2:{src:FF,type:1,options:{volume:.25}},3:{src:UF,type:1,options:{volume:1}},4:{src:rU,type:1,options:{volume:.2}},5:{src:nU,type:1,options:{volume:.2}},6:{src:iU,type:1,options:{volume:.2}},7:{src:sU,type:1,options:{volume:.2}},8:{src:oU,type:1,options:{volume:.2}},9:{src:aU,type:1,options:{volume:.2}},10:{src:lU,type:1,options:{volume:.6}},11:{src:uU,type:1,options:{volume:.2}},12:{src:cU,type:1,options:{volume:.1}},13:{src:hU,type:1,options:{volume:.05}},14:{src:dU,type:1,options:{volume:.3}},15:{src:fU,type:1,options:{volume:.5}},16:{src:pU,type:1,options:{volume:.5}},17:{src:mU,type:1,options:{volume:.5}},18:{src:gU,type:1,options:{volume:.2}},19:{src:yU,type:1,options:{volume:.2}},20:{src:vU,type:1,options:{volume:.2}},21:{src:_U,type:1,options:{volume:.2}},22:{src:xU,type:1,options:{volume:.2}},23:{src:wU,type:1,options:{volume:.2}},24:{src:bU,type:1,options:{volume:.2}},25:{src:SU,type:1,options:{volume:.2}},26:{src:EU,type:1,options:{volume:.2}},27:{src:TU,type:1,options:{volume:.2}},28:{src:AU,type:1,options:{volume:.2}},29:{src:CU,type:1,options:{volume:.2}},30:{src:RU,type:1,options:{volume:.2}},31:{src:kU,type:1,options:{volume:.2}},32:{src:PU,type:1,options:{volume:.2}},33:{src:IU,type:1,options:{volume:.2}},34:{src:MU,type:1,options:{volume:.2}},35:{src:BF,type:1,options:{volume:1}},36:{src:zF,type:1,options:{volume:1}},37:{src:jF,type:1,options:{volume:1}},38:{src:$F,type:1,options:{volume:1}},39:{src:GF,type:1,options:{volume:1}},40:{src:HF,type:1,options:{volume:1}},41:{src:WF,type:1,options:{volume:1}},42:{src:VF,type:1,options:{volume:1}},43:{src:XF,type:1,options:{volume:1}},44:{src:YF,type:1,options:{volume:1}},45:{src:qF,type:1,options:{volume:1}},46:{src:QF,type:1,options:{volume:1}},47:{src:NU,type:1,options:{volume:1}},48:{src:DU,type:1,options:{volume:1}},49:{src:LU,type:1,options:{volume:1}},50:{src:OU,type:1,options:{volume:1}},51:{src:FU,type:1,options:{volume:1}},52:{src:UU,type:1,options:{volume:1}},53:{src:BU,type:1,options:{volume:1}},54:{src:zU,type:1,options:{volume:1}},55:{src:KF,type:1,options:{volume:1}},56:{src:ZF,type:1,options:{volume:1}},57:{src:JF,type:1,options:{volume:1}},58:{src:eU,type:1,options:{volume:1}},59:{src:tU,type:1,options:{volume:1}}},jU=""+new URL("construction-site-6a38ecf6.png",import.meta.url).href,$U=""+new URL("forgeforge-ddfdf3a9.png",import.meta.url).href,GU=""+new URL("garage-c096fba2.png",import.meta.url).href,HU=""+new URL("lab-6a2090ca.png",import.meta.url).href,WU=""+new URL("minemine-84372500.png",import.meta.url).href,VU=""+new URL("seasea-4f1e966b.png",import.meta.url).href,XU=""+new URL("power-plant-ba7c6155.png",import.meta.url).href,YU=""+new URL("sketch-5a152aac.png",import.meta.url).href,qU=""+new URL("space01-4db7e617.png",import.meta.url).href,QU=""+new URL("space02-28b485b2.png",import.meta.url).href,KU=""+new URL("void-8ab560ba.png",import.meta.url).href,ZU=""+new URL("plainsday-94c69829.png",import.meta.url).href,JU=""+new URL("plainseve-57cc0df2.png",import.meta.url).href,e5=""+new URL("plainsnight-c434cd0a.png",import.meta.url).href,t5=""+new URL("dungeon-94df7fe2.png",import.meta.url).href,r5=""+new URL("city-6f4ccd97.png",import.meta.url).href,n5=""+new URL("forge-e78f2342.png",import.meta.url).href,i5=""+new URL("mine-52d75f15.png",import.meta.url).href,s5=""+new URL("sub-c5a7da0c.png",import.meta.url).href,o5=""+new URL("science-desk-0a356b00.png",import.meta.url).href,a5=""+new URL("chemtoilet-613dc03b.png",import.meta.url).href,l5=""+new URL("rack-a7adfb4a.png",import.meta.url).href,u5=""+new URL("altar-faf64e7c.png",import.meta.url).href,c5=""+new URL("bank-0bd0f0bc.png",import.meta.url).href,h5=""+new URL("castle-c2319d7e.png",import.meta.url).href,d5=""+new URL("rocket-d71e2058.png",import.meta.url).href,f5=""+new URL("sketch-house-7774f15a.png",import.meta.url).href,p5=""+new URL("ufo-d8cec8f4.png",import.meta.url).href,m5=""+new URL("wizard-tower-82c35a84.png",import.meta.url).href,g5=""+new URL("power-plant-ef4f72c0.png",import.meta.url).href,y5=""+new URL("wood-81468355.png",import.meta.url).href,v5=""+new URL("tentacles-8e9690fe.png",import.meta.url).href,FI=""+new URL("regular-6e631632.png",import.meta.url).href,Al=""+new URL("kiss-4ba36865.png",import.meta.url).href,_5=""+new URL("sketch1-3c0faba6.png",import.meta.url).href,x5=""+new URL("sketch2-f6ef5e2b.png",import.meta.url).href,w5=""+new URL("alien-5dd83a84.png",import.meta.url).href,b5=""+new URL("hazmat-985aa0d0.png",import.meta.url).href,S5=""+new URL("peak-61339ef8.png",import.meta.url).href,UI=""+new URL("hero-b6e46671.png",import.meta.url).href,E5=""+new URL("hazmat-19aad7df.png",import.meta.url).href,T5=""+new URL("alien-9f672109.png",import.meta.url).href,A5=""+new URL("sketch1-587f7494.png",import.meta.url).href,C5=""+new URL("sketch2-08654c61.png",import.meta.url).href,R5=""+new URL("peak-5ef786cd.png",import.meta.url).href,fr={regular:{0:[FI],1:[UI]},hazmat:{0:[b5],1:[E5]},alien:{0:[w5],1:[T5]},sketch:{0:[_5,x5],1:[A5,C5]},peak:{0:[S5],1:[R5]}},k5=""+new URL("blacksmith-1e684129.png",import.meta.url).href,P5=""+new URL("factory_worker-2f746fbc.png",import.meta.url).href,I5=""+new URL("mechanic-4d8319e5.png",import.meta.url).href,M5=""+new URL("miner-8f369cfe.png",import.meta.url).href,N5=""+new URL("lumberjack-18a6b365.png",import.meta.url).href,D5=""+new URL("scientist-4d7c50a4.png",import.meta.url).href,L5=""+new URL("scuba-acd83c64.png",import.meta.url).href,O5=""+new URL("astronaut-15c984b9.png",import.meta.url).href,F5=""+new URL("cultist-4fe618fe.png",import.meta.url).href,U5=""+new URL("knight-0c48077d.png",import.meta.url).href,B5=""+new URL("lucky_coin_investor-72e65034.png",import.meta.url).href,z5=""+new URL("wizard-d137e202.png",import.meta.url).href,la=""+new URL("lips-0296eee5.png",import.meta.url).href;var Xi=(t=>(t[t.Regular=0]="Regular",t[t.Hero=1]="Hero",t))(Xi||{}),tr=(t=>(t[t.Blacksmith=0]="Blacksmith",t[t.FactoryWorker=1]="FactoryWorker",t[t.Mechanic=2]="Mechanic",t[t.Miner=3]="Miner",t[t.Lumberjack=4]="Lumberjack",t[t.Scientist=5]="Scientist",t[t.Diver=6]="Diver",t[t.Astronaut=7]="Astronaut",t[t.Cultist=8]="Cultist",t[t.Investor=9]="Investor",t[t.Alien=10]="Alien",t[t.Hazmat=11]="Hazmat",t[t.Wizard=12]="Wizard",t[t.Knight=13]="Knight",t[t.Sketch=14]="Sketch",t[t.Peak=15]="Peak",t))(tr||{});const dc={3:{bases:fr.regular,extras:[la],cosmetics:[M5]},4:{bases:fr.regular,cosmetics:[N5]},0:{bases:fr.regular,cosmetics:[k5]},2:{bases:fr.regular,extras:[la],cosmetics:[I5]},1:{bases:fr.regular,extras:[la],cosmetics:[P5]},6:{bases:fr.regular,extras:[la],cosmetics:[L5]},5:{bases:fr.regular,extras:[la],cosmetics:[D5]},9:{bases:fr.regular,cosmetics:[B5]},11:{bases:fr.hazmat},13:{bases:fr.regular,cosmetics:[U5]},8:{bases:fr.regular,extras:[la],cosmetics:[F5]},12:{bases:fr.regular,cosmetics:[z5]},7:{bases:fr.regular,extras:[la],cosmetics:[O5]},10:{bases:fr.alien},14:{bases:fr.sketch},15:{bases:fr.peak}},BT=["Kuriimu","Aldi","Xander","Boyong","Bannana Bread","Doomei","EcchiArtistIdk","ISneeze","Khris","Leno","Matze","Nekomimi","Nilok","Nutman","Endor","Pluto","Robotic","Skumm","TsunekoFuwakage","frammie","VDruid0","Firebreath","Nova Dysnomia","Awysu","Sway Nay","Hydrattler","Necrozma","ArchiveAnon","EB","MiiMoo","GhostClown","Sate","Hidrogenario","Yann","Shiru kazuki","samRye","DWraith23","SleepingSlime","Lion","Koudelka","Lifeline","Messed Up Brainspike","Nutella","Dani","CloneofShade","Emilia","Tsuneko Fuwakage","Akuneko Zero","Liam Nii-san","Rellikai","Kuteko","jake","npc_igarashi","6thMagic","Aekrid","Alcachofa","Alice C. Alucard","Andre Scarlet","Angry Sandwich","Archive Anon","Ardamax","Awing","Babbel","Balthros","Based Department","Big Kusa","Bobby Nash","Bruh Dude man","Carlos","Cat🔑","Cement Pinata","ChainDuel","Cilli 02","Claymore 155","Colson M","Cosmic Explode","Cturne","Daniel Palmqvist","Dante Lenister","DayLightKnight","Delicious Sandwich","DepudeeRLD","Diego Flores Gajardo","Dkimm 233","Doctor Bob","Doctor P","Doodler","Empathy","Everfall","FATDADDYSACK","FireballStarfish","Flojo","Floran🧚🌱","FranklyAstounded","Frobledo","Frosty-","Gabriel Luthien","Gerardo Sánchez","Ghost Clown🎉","GoddessNepgear","Gotz the Ironhand","GraMMa","GreyDeity","Hammerchuckery","Helius Universe","Herbie Cucumber 🎉","HorrorMoose","Hrotriks (Mumu's soul meal)","ImmortalInflames","Isaac","ItsAhelbitz","ItsCase","JTsoppy137","James Beans","Jeffrojeff","Jordan Grange","Kaato カアト","Kaigai Aniki","Kamori Asani","Kek I. Stan","Kevin Bacon","Kexos🍀🔑","Kiran bob","Kiyo","Kjeld","Koudellka","Kurt Hutchison","Kyle G","Kyomu","Lazm","Lion of the Mist","Lu2304","Luis Medina","Macman71299","Mad Angry","Maedara","Mehscope","Mero Nya Ch.","Mochi Mochi","MonsterL","Mr.Mc.spliff","MrObby","Mrmctrustyguy","Nark101","Neia","NekoMyraMia","Nihilist","Norberto Martin","NotoriousBSG82","OGcthulhu","Oleksandr Tarasov","PW","Panda","Pokosaur Rising 🔑","Poncho","Professor Guapo","PunishedToki","Restlezz","Ryechu","SA 👻🎉","SCJ","Sable Silly","Sander","Saul","ShadowsCrow","Sharamper","Sketch-Lion","SofaKing1337","Some Body","Spudlyman","Straps","Tama Mochi","Taz 💪🪄","Tempie","Teto V","That Guy Raz","That Rheeve Guy","The Best badness420k","The McGrizzle","TheGrassay","ThebesthitsCD","ThermalGeist","ThomasPrime","Toucan Pam","Tyler Von Mehz","Urso Metamorfo","Ven","XTEcchi","Xiazee","Yalla Jalla","Yono Kino","acertainsomeone","bob oboz","boyong","entropy","epigeios","gavinfree none","generalha","heyheyalaska","holystars","iamwinter17","imnutass","johny","johnzero7","kari","kawaatime","kirakira same🤍","lauza","løu","m2x2 P","neyyko","niyo1j39","peppament","rubyruby","sahelanthropus","shua🔑","tacticalelf","xXInkLeeXx","zipli","🎉Design&Conker🎉"],zT=2;var X=(t=>(t[t.Miners=0]="Miners",t[t.Lumberjacks=1]="Lumberjacks",t[t.Blacksmiths=2]="Blacksmiths",t[t.Mechanics=3]="Mechanics",t[t.FactoryWorkers=4]="FactoryWorkers",t[t.Divers=5]="Divers",t[t.Scientists=6]="Scientists",t[t.Investors=7]="Investors",t[t.Hazmats=8]="Hazmats",t[t.Knights=9]="Knights",t[t.Cultists=10]="Cultists",t[t.Wizards=11]="Wizards",t[t.Astronauts=12]="Astronauts",t[t.Aliens=13]="Aliens",t[t.Sketches=14]="Sketches",t[t.Peak=15]="Peak",t))(X||{});const An={0:{job:tr.Miner,background:WU,building:i5,rateMs:1/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Miner1]},1:{job:tr.Lumberjack,background:ZU,building:y5,rateMs:11/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Lumberjack1]},2:{job:tr.Blacksmith,background:$U,building:n5,rateMs:130/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Blacksmith1]},3:{job:tr.Mechanic,background:GU,building:l5,rateMs:1400/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Mechanic1]},4:{job:tr.FactoryWorker,background:jU,building:a5,rateMs:15100/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Engineer1]},5:{job:tr.Diver,background:VU,building:s5,flying:!0,rateMs:162e3/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Diver1,oe.Diver3]},6:{job:tr.Scientist,background:HU,building:o5,rateMs:174e4/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Scientist1]},7:{job:tr.Investor,background:r5,building:c5,rateMs:187e5/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Investor1]},8:{job:tr.Hazmat,background:XU,building:g5,rateMs:201e6/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Hazmat1]},9:{job:tr.Knight,background:JU,building:h5,rateMs:216e7/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Knight1]},10:{job:tr.Cultist,background:t5,building:u5,rateMs:233e8/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Cultist1]},11:{job:tr.Wizard,background:e5,building:m5,rateMs:251e9/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Wizard1]},12:{job:tr.Astronaut,background:qU,building:d5,flying:!0,rateMs:27e11/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Astronaut1,oe.Astronaut2,oe.Astronaut3,oe.Astronaut4]},13:{job:tr.Alien,background:QU,building:p5,flying:!0,rateMs:291e11/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Alien2,oe.Alien3]},14:{job:tr.Sketch,background:YU,building:f5,rateMs:314e12/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Generico1]},15:{job:tr.Peak,background:KU,building:v5,rateMs:339e13/1e3,clovers:{regular:[],heroes:[]},sounds:[oe.Peak1]}},j5=1.2;function $5(t,e,r,n){return e*An[t].rateMs*j5**n*2**r}const G5=""+new URL("fuyo-2f47256c.jpg",import.meta.url).href,BI=""+new URL("pablo-5cc76045.png",import.meta.url).href,H5="_tutorial_128ko_10",W5="_floating_128ko_17",V5="_border_128ko_21",X5="_container_128ko_28",Y5="_controls_128ko_82",Je={tutorial:H5,floating:W5,border:V5,container:X5,"lime-text":"_lime-text_128ko_35","violet-text":"_violet-text_128ko_39","crimson-text":"_crimson-text_128ko_43","yellow-text":"_yellow-text_128ko_48","gold-text":"_gold-text_128ko_52","background-scroll":"_background-scroll_128ko_1","rainbow-text":"_rainbow-text_128ko_65",controls:Y5};function q5(){return R.jsxs("article",{children:[R.jsx("h1",{children:"Welcome to Fuyo Clicker!"}),R.jsxs("div",{className:Je.container,children:[R.jsx("div",{className:Je.border,children:R.jsx("img",{src:G5,style:{width:128,height:128}})}),R.jsxs("div",{children:[R.jsx("h2",{children:"Objective"}),R.jsxs("p",{children:["Your"," ",R.jsx("span",{className:Je["lime-text"],children:"goal"})," ","is to mischievously get (steal) as many wallets and coins as you can!"]})]})]}),R.jsxs("div",{className:Je.container,children:[R.jsx("img",{src:BI,style:{width:80}}),R.jsxs("div",{children:[R.jsx("h2",{children:"Reward"}),R.jsxs("p",{children:["Upon reaching the end, theres a little"," ",R.jsx("span",{className:Je["violet-text"],children:"special suprise"}),", So keep stealing!"]})]})]})]})}const Q5=""+new URL("clicker-4df6a071.png",import.meta.url).href,K5=""+new URL("spill-5e7756f9.png",import.meta.url).href,Z5="_clicker_q5saj_10",J5="_coin_q5saj_11",eB="_spill_q5saj_15",ev={clicker:Z5,coin:J5,spill:eB,"background-scroll":"_background-scroll_q5saj_1"};function tB(){return R.jsxs("article",{className:ev.clicker,children:[R.jsx("h1",{children:"Fuyo Coin"}),R.jsxs("div",{className:Je.container,children:[R.jsx("div",{className:Je.border,children:R.jsx("img",{src:Q5,className:ev.coin})}),R.jsxs("div",{children:[R.jsx("h2",{children:"Collecting Coins"}),R.jsxs("p",{children:["Click on the"," ",R.jsx("span",{className:Je["gold-text"],children:"Fuyo Coin"})," ","repeatedly to steal coins. Depending on upgrades, this can be quite powerful!"]}),R.jsx("h2",{children:"Fuyonade"}),R.jsxs("p",{children:["A"," ",R.jsx("span",{className:Je["rainbow-text"],children:"certain liquid"})," ","will fill up over time, granting a short bonus to production. Whenever it fills up, be sure to spill it!"]}),R.jsx("img",{src:K5,className:ev.spill})]})]})]})}const rB=""+new URL("repro-e92ee9f4.png",import.meta.url).href,nB="_repro_14nb7_10",iB="_image_14nb7_11",sB="_hero_14nb7_21",oB="_spin_14nb7_1",fc={repro:nB,image:iB,"kiss-clover":"_kiss-clover_14nb7_15",hero:sB,spin:oB};function aB(){return R.jsxs("article",{className:fc.repro,children:[R.jsx("h1",{children:"Reproduction Room"}),R.jsxs("div",{className:Je.container,children:[R.jsxs("div",{children:[R.jsx("h2",{children:"Reproduction"}),R.jsxs("p",{children:["In order to get clovers to work for free, clovers need to get together and"," ",R.jsx("span",{className:Je["crimson-text"],children:"smooch"}),R.jsx("img",{src:Al,className:fc["kiss-clover"]}),"together to produce offspring."]}),R.jsxs("p",{children:["You can either"," ",R.jsx("span",{className:Je["crimson-text"],children:"kiss"})," ","the clover or"," ",R.jsx("span",{className:fc["lime-text"],children:"upgrade"})," to produce more clovers."]})]}),R.jsx("div",{className:Je.border,children:R.jsx("img",{src:rB,className:fc.image})})]}),R.jsxs("div",{className:Je.container,children:[R.jsxs("div",{children:[R.jsx("h2",{children:"Hero Clovers"}),R.jsxs("p",{children:["When clovers feel extra special, they produce something called a"," ",R.jsx("span",{className:Je["gold-text"],children:"Hero Clover"})," ","to boost production."]}),R.jsxs("p",{children:["Drag this"," ",R.jsx("span",{className:Je["gold-text"],children:"Hero Clover"})," ","to their specific job to make them start working hard!"]})]}),R.jsx("img",{src:UI,className:fc.hero})]})]})}const lB=""+new URL("shop-7e10baf7.png",import.meta.url).href,zI=""+new URL("pickaxe-1-dafc6e9c.png",import.meta.url).href,uB="_shop_1960q_13",cB="_image_1960q_14",hB="_pickaxe_1960q_17",dB="_swing_1960q_1",tv={shop:uB,image:cB,pickaxe:hB,swing:dB};function fB(){return R.jsxs("article",{className:tv.shop,children:[R.jsx("h1",{children:"Shop"}),R.jsxs("div",{className:Je.container,children:[R.jsxs("div",{children:[R.jsx("h2",{children:"Upgrades"}),R.jsxs("p",{children:["For every kind of job, theres different"," ",R.jsx("span",{className:Je["yellow-text"],children:"upgrades"})," ","that DOUBLE the production of that specific job."]}),R.jsx("h2",{children:"Buildings"}),R.jsxs("p",{children:[R.jsx("span",{className:Je["lime-text"],children:"Buildings"})," ","are what hold clovers to do their job. The more"," ",R.jsx("span",{className:Je["lime-text"],children:"buildings"}),", more clovers working, more production!"]})]}),R.jsx("div",{className:Je.border,children:R.jsx("img",{src:lB,className:tv.image})})]}),R.jsxs("div",{className:Je.container,children:[R.jsxs("div",{children:[R.jsx("h2",{children:"Unlocks"}),R.jsxs("p",{children:["Based on the amount of buildings and production,"," ",R.jsx("span",{className:Je["violet-text"],children:"new upgrades and buildings"})," ","might be unlocked. So keep at it, and good luck!"]})]}),R.jsx("img",{src:zI,className:tv.pickaxe})]})]})}var ao=(t=>(t[t.START=0]="START",t[t.CLICKER=1]="CLICKER",t[t.REPRO=2]="REPRO",t[t.SHOP=3]="SHOP",t[t.END=4]="END",t))(ao||{});const rv={0:{component:q5},1:{component:tB,position:{reference:"clicker",placement:"right"}},2:{component:aB,position:{reference:"repro",placement:"left"}},3:{component:fB,position:{reference:"shop",placement:"left"}}},jT=()=>({step:ao.START}),$T=()=>({reached:!1}),GT=(t,e)=>(Vi.push(()=>({popups:{...e().popups,tutorial:{...e().popups.tutorial,...jT()},ending:{...e().popups.ending,...$T()}}})),{popups:{tutorial:{...jT(),setStep:r=>{t(pt(n=>{n.popups.tutorial.step=r}),!1,"Action - Tutorial - Set Step")}},ending:{...$T()},tick:()=>{!e().popups.ending.reached&&pB(e())&&t(pt(r=>{r.popups.ending.reached=!0}),!1,"Tick - Popups - Ending Reached")}}});function pB(t){return t.lanes.types[X.Peak].buildings>0}function Fw(t,e){return Math.max(0,Date.now()-Math.max(t,e))}const mB=""+new URL("axe-0-e8596a60.png",import.meta.url).href,gB=""+new URL("axe-1-fb7a0693.png",import.meta.url).href,yB=""+new URL("axe-2-3ff97c73.png",import.meta.url).href,vB=""+new URL("axe-3-8a5567da.png",import.meta.url).href,_B=""+new URL("axe-4-e28774ce.png",import.meta.url).href,xB=[mB,gB,yB,vB,_B],wB=""+new URL("barrel-0-cdb40e52.png",import.meta.url).href,bB=""+new URL("barrel-1-11833163.png",import.meta.url).href,SB=""+new URL("barrel-2-d7784a55.png",import.meta.url).href,EB=""+new URL("barrel-3-c10d75cb.png",import.meta.url).href,TB=""+new URL("barrel-4-7c0e6741.png",import.meta.url).href,AB=[wB,bB,SB,EB,TB],CB=""+new URL("bible-0-224cb2e4.png",import.meta.url).href,RB=""+new URL("bible-1-d6745ea1.png",import.meta.url).href,kB=""+new URL("bible-2-5e500363.png",import.meta.url).href,PB=""+new URL("bible-3-8cca3a8c.png",import.meta.url).href,IB=""+new URL("bible-4-30810605.png",import.meta.url).href,MB=[CB,RB,kB,PB,IB],NB=""+new URL("cursor-0-489f55b9.png",import.meta.url).href,DB=""+new URL("cursor-1-2d630e28.png",import.meta.url).href,LB=""+new URL("cursor-2-f58a987a.png",import.meta.url).href,OB=""+new URL("cursor-3-c9764ec3.png",import.meta.url).href,FB=""+new URL("cursor-4-aeec10da.png",import.meta.url).href,HT=[NB,DB,LB,OB,FB],UB=""+new URL("drill-0-90c54ec6.png",import.meta.url).href,BB=""+new URL("drill-1-56c4dfa3.png",import.meta.url).href,zB=""+new URL("drill-2-ae77c549.png",import.meta.url).href,jB=""+new URL("drill-3-80ed80d8.png",import.meta.url).href,$B=""+new URL("drill-4-4c5161ad.png",import.meta.url).href,GB=[UB,BB,zB,jB,$B],HB=""+new URL("hammer-0-9162d78d.png",import.meta.url).href,WB=""+new URL("hammer-1-b06de74c.png",import.meta.url).href,VB=""+new URL("hammer-2-1d675d51.png",import.meta.url).href,XB=""+new URL("hammer-3-82effa9d.png",import.meta.url).href,YB=""+new URL("hammer-4-c93c1cb8.png",import.meta.url).href,qB=[HB,WB,VB,XB,YB],QB=""+new URL("flag-0-ae6f1df5.png",import.meta.url).href,KB=""+new URL("flag-1-6f41e2fc.png",import.meta.url).href,ZB=""+new URL("flag-2-dddd41dd.png",import.meta.url).href,JB=""+new URL("flag-3-0e3694a7.png",import.meta.url).href,e6=""+new URL("flag-4-dd6c5c27.png",import.meta.url).href,t6=[QB,KB,ZB,JB,e6],r6=""+new URL("potion-0-187c90f4.png",import.meta.url).href,n6=""+new URL("potion-1-1325bf60.png",import.meta.url).href,i6=""+new URL("potion-2-854db8b2.png",import.meta.url).href,s6=""+new URL("potion-3-2e91bca6.png",import.meta.url).href,o6=""+new URL("potion-4-28533a5c.png",import.meta.url).href,a6=[r6,n6,i6,s6,o6],l6=""+new URL("pickaxe-0-4ccce180.png",import.meta.url).href,u6=""+new URL("pickaxe-2-8db166ca.png",import.meta.url).href,c6=""+new URL("pickaxe-3-5a65ca76.png",import.meta.url).href,h6=""+new URL("pickaxe-4-a253fe88.png",import.meta.url).href,d6=[l6,zI,u6,c6,h6],f6=""+new URL("moneybag-0-3c1722c6.png",import.meta.url).href,p6=""+new URL("moneybag-1-ea79324a.png",import.meta.url).href,m6=""+new URL("moneybag-2-f305ca3c.png",import.meta.url).href,g6=""+new URL("moneybag-3-81dd1107.png",import.meta.url).href,y6=""+new URL("moneybag-4-45e6513e.png",import.meta.url).href,v6=[f6,p6,m6,g6,y6],_6=""+new URL("oxytank-0-ba7b67c3.png",import.meta.url).href,x6=""+new URL("oxytank-1-f9e552fd.png",import.meta.url).href,w6=""+new URL("oxytank-2-25980009.png",import.meta.url).href,b6=""+new URL("oxytank-3-ba957151.png",import.meta.url).href,S6=""+new URL("oxytank-4-4a47c3a1.png",import.meta.url).href,E6=[_6,x6,w6,b6,S6],T6=""+new URL("pencil-0-981ae1ab.png",import.meta.url).href,A6=""+new URL("pencil-1-ded7f2f4.png",import.meta.url).href,C6=""+new URL("pencil-2-337e3c16.png",import.meta.url).href,R6=""+new URL("pencil-3-ab5aa507.png",import.meta.url).href,k6=""+new URL("pencil-4-5dc84489.png",import.meta.url).href,P6=[T6,A6,C6,R6,k6],I6=""+new URL("spacegun-0-6b4384c5.png",import.meta.url).href,M6=""+new URL("spacegun-1-9968562c.png",import.meta.url).href,N6=""+new URL("spacegun-2-7e118db1.png",import.meta.url).href,D6=""+new URL("spacegun-3-8441d618.png",import.meta.url).href,L6=""+new URL("spacegun-4-d4c33958.png",import.meta.url).href,O6=[I6,M6,N6,D6,L6],F6=""+new URL("suword-0-49769024.png",import.meta.url).href,U6=""+new URL("suword-1-638e3577.png",import.meta.url).href,B6=""+new URL("suword-2-177f299d.png",import.meta.url).href,z6=""+new URL("suword-3-e12e5406.png",import.meta.url).href,j6=""+new URL("suword-4-140697d9.png",import.meta.url).href,$6=[F6,U6,B6,z6,j6],G6=""+new URL("tentacle-0-3d5607dc.png",import.meta.url).href,H6=""+new URL("tentacle-1-a2fa9d34.png",import.meta.url).href,W6=""+new URL("tentacle-2-740d7a0e.png",import.meta.url).href,V6=""+new URL("tentacle-3-d8ea0017.png",import.meta.url).href,X6=""+new URL("tentacle-4-5e0dab86.png",import.meta.url).href,Y6=[G6,H6,W6,V6,X6],q6=""+new URL("wand-0-40ee7e21.png",import.meta.url).href,Q6=""+new URL("wand-1-d8e3ec0b.png",import.meta.url).href,K6=""+new URL("wand-2-0350edf3.png",import.meta.url).href,Z6=""+new URL("wand-3-bb33ad23.png",import.meta.url).href,J6=""+new URL("wand-4-c9827221.png",import.meta.url).href,e8=[q6,Q6,K6,Z6,J6],t8=""+new URL("wrench-0-b60b7480.png",import.meta.url).href,r8=""+new URL("wrench-1-c25c8500.png",import.meta.url).href,n8=""+new URL("wrench-2-3a1d5557.png",import.meta.url).href,i8=""+new URL("wrench-3-c16c0600.png",import.meta.url).href,s8=""+new URL("wrench-4-40fbb19f.png",import.meta.url).href,o8=[t8,r8,n8,i8,s8],ee={0:HT,1:HT,2:d6,3:xB,4:qB,5:o8,6:GB,7:E6,8:a6,9:v6,10:AB,11:$6,12:MB,13:e8,14:t6,15:O6,16:P6,17:Y6};var go=(t=>(t[t.Clicker=0]="Clicker",t[t.Cursor=1]="Cursor",t[t.Miners=2]="Miners",t[t.Lumberjacks=3]="Lumberjacks",t[t.Blacksmiths=4]="Blacksmiths",t[t.Mechanics=5]="Mechanics",t[t.FactoryWorkers=6]="FactoryWorkers",t[t.Divers=7]="Divers",t[t.Scientists=8]="Scientists",t[t.Investors=9]="Investors",t[t.Hazmats=10]="Hazmats",t[t.Knights=11]="Knights",t[t.Cultists=12]="Cultists",t[t.Wizards=13]="Wizards",t[t.Astronauts=14]="Astronauts",t[t.Aliens=15]="Aliens",t[t.Sketches=16]="Sketches",t[t.Peak=17]="Peak",t))(go||{});const a8={[X.Miners]:2,[X.Lumberjacks]:3,[X.Blacksmiths]:4,[X.FactoryWorkers]:6,[X.Mechanics]:5,[X.Scientists]:8,[X.Divers]:7,[X.Astronauts]:14,[X.Cultists]:12,[X.Investors]:9,[X.Aliens]:15,[X.Hazmats]:10,[X.Wizards]:13,[X.Knights]:11,[X.Sketches]:16,[X.Peak]:17},ka={0:{0:{name:"Reinforced index finger",description:'The mouse and cursors are twice as efficient. "prod prod"',price:100,image:ee[0][0],condition:t=>t.coins.clickers>0},1:{name:"Carpal tunnel prevention cream",description:'The mouse and cursors are twice as efficient. "it... it hurts to click..."',price:500,image:ee[0][1],condition:t=>t.coins.clickers>0},2:{name:"Ambidextrous",description:'The mouse and cursors are twice as efficient. "Look ma, both hands!"',price:1e4,image:ee[0][2],condition:t=>t.coins.clickers>=10},3:{name:"Thousand fingers",description:'The mouse and cursors gain +1 coins for each non-cursor object owned. "clickity"',price:1e5,image:ee[0][3],condition:t=>t.coins.clickers>=25},4:{name:"Million fingers",description:'Multiplies the gain from Thousand fingers by 5. "clickityclickity"',price:1e7,image:ee[0][4],condition:t=>t.coins.clickers>=50},5:{name:"Billion fingers",description:'Multiplies the gain from Thousand fingers by 10. "clickityclickityclickity"',price:1e8,image:ee[0][4],condition:t=>t.coins.clickers>=100},6:{name:"Trillion fingers",description:'Multiplies the gain from Thousand fingers by 20. "clickityclickityclickityclickity"',price:1e9,image:ee[0][4],condition:t=>t.coins.clickers>=150},7:{name:"Quadrillion fingers",description:'Multiplies the gain from Thousand fingers by 20. "clickityclickityclickityclickityclick"',price:1e10,image:ee[0][4],condition:t=>t.coins.clickers>=200},8:{name:"Quintillion fingers",description:`Multiplies the gain from Thousand fingers by 20. "man, just go click click click click click, it's real easy, man."`,price:1e13,image:ee[0][4],condition:t=>t.coins.clickers>=250},9:{name:"Sextillion fingers",description:'Multiplies the gain from Thousand fingers by 20. "sometimes things just click"',price:1e16,image:ee[0][4],condition:t=>t.coins.clickers>=300}},1:{0:{name:"Plastic mouse",description:'Clicking gains 30% of your CpS. "Slightly squeaky."',price:5e4,image:ee[0][0],condition:t=>t.coins.manualAmount>=1e3},1:{name:"Iron mouse",description:`Clicking gains +10% of your CpS. "Click like it's 1,349!"`,price:5e6,image:ee[0][0],condition:t=>t.coins.manualAmount>=1e5},2:{name:"Titanium mouse",description:'Clicking gains +10% of your CpS. "Heavy, but powerful."',price:5e8,image:ee[0][0],condition:t=>t.coins.manualAmount>=1e7},3:{name:"Adamantium mouse",description:"Clicking gains +10% of your CpS.",price:5e10,image:ee[0][0],condition:t=>t.coins.manualAmount>=1e9},4:{name:"Unobtainium mouse",description:'Clicking gains +10% of your CpS. "You could cut diamond with these."',price:5e12,image:ee[0][0],condition:t=>t.coins.manualAmount>=1e11},5:{name:"Eludium mouse",description:'Clicking gains +10% of your CpS. "These nice mice should suffice."',price:5e14,image:ee[0][0],condition:t=>t.coins.manualAmount>=1e13}},2:{0:{name:"Clover gas",description:"A green, volatile gas, found in the depths of some gold mines.",price:1e3,image:ee[2][0],condition:t=>t.lanes.types[X.Miners].buildings>=1},1:{name:"Megadrill",description:"You're in deep.",price:5e3,image:ee[2][1],condition:t=>t.lanes.types[X.Miners].buildings>=5},2:{name:"Ultradrill",description:"Finally caved in?",price:25e3,image:ee[2][2],condition:t=>t.lanes.types[X.Miners].buildings>=25},3:{name:"Ultimadrill",description:"Pierce the heavens, etc.",price:125e3,image:ee[2][3],condition:t=>t.lanes.types[X.Miners].buildings>=50},4:{name:"H-bomb mining",description:"Questionable efficiency, but spectacular nonetheless.",price:625e3,image:ee[2][4],condition:t=>t.lanes.types[X.Miners].buildings>=100}},3:{0:{name:"Red Flannel Shirt",description:"Can you even call yourself a lumberjack if you don't have one of these?",price:11e3,image:ee[3][0],condition:t=>t.lanes.types[X.Lumberjacks].buildings>=1},1:{name:"Bigger Axes",description:"Size matters.",price:55e3,image:ee[3][1],condition:t=>t.lanes.types[X.Lumberjacks].buildings>=5},2:{name:"Axe dual wielding",description:"Two is better than one.",price:275e3,image:ee[3][2],condition:t=>t.lanes.types[X.Lumberjacks].buildings>=25},3:{name:"Suspenders",description:"For a complete look.",price:1375e3,image:ee[3][3],condition:t=>t.lanes.types[X.Lumberjacks].buildings>=50},4:{name:"Dad Bod",description:"This is what peak performance looks like.",price:6875e3,image:ee[3][4],condition:t=>t.lanes.types[X.Lumberjacks].buildings>=100}},4:{0:{name:"Bigger hammer",description:"Has to be larger than 3 inches.",price:12e4,image:ee[4][0],condition:t=>t.lanes.types[X.Blacksmiths].buildings>=1},1:{name:"Titanium anvil",description:`Modeled after a leprechaun's "assets".`,price:6e5,image:ee[4][1],condition:t=>t.lanes.types[X.Blacksmiths].buildings>=5},2:{name:"Electric forge",description:"Shocking, I know.",price:3e6,image:ee[4][2],condition:t=>t.lanes.types[X.Blacksmiths].buildings>=25},3:{name:"Majestic braided beard",description:"It gets in the way but improves morale. It's also very attractive.",price:15e6,image:ee[4][3],condition:t=>t.lanes.types[X.Blacksmiths].buildings>=50},4:{name:"Mjolnir",description:"Step aside Thor, I need it to make this suword.",price:75e6,image:ee[4][4],condition:t=>t.lanes.types[X.Blacksmiths].buildings>=100}},5:{0:{name:"Magical Wrenches",description:"Tiny magical wrenches that can change shape help the clovers get into tight spots",price:13e5,image:ee[5][0],condition:t=>t.lanes.types[X.Mechanics].buildings>=1},1:{name:"Slick Grease",description:"A dab of magic slicky grease and voila! Engines on overdrive—with a enjoyable twist!",price:66e5,image:ee[5][1],condition:t=>t.lanes.types[X.Mechanics].buildings>=5},2:{name:"Tummy Toolkit",description:"Special tools helping the clovers with the important parts!",price:33e6,image:ee[5][2],condition:t=>t.lanes.types[X.Mechanics].buildings>=25},3:{name:"Spark Plug Shock",description:"Special spark plugs that shock the engine (and the clovers) for an added boost.",price:165e6,image:ee[5][3],condition:t=>t.lanes.types[X.Mechanics].buildings>=50},4:{name:"Clover Soboxide",description:"Common blend consisting of clover tears and sweat that helps the engines move more efficiently.",price:825e6,image:ee[5][4],condition:t=>t.lanes.types[X.Mechanics].buildings>=100}},6:{0:{name:"Eye-ron farm",description:"Eye-ron for suwords.",price:143e5,image:ee[6][0],condition:t=>t.lanes.types[X.FactoryWorkers].buildings>=1},1:{name:"Pablo Puebes' confinement space",description:"I-it's not like I l-like him or anything!",price:715e5,image:ee[6][1],condition:t=>t.lanes.types[X.FactoryWorkers].buildings>=5},2:{name:"Automatic gold farm",description:"It would suck if it suddenly stopped working...",price:3575e5,image:ee[6][2],condition:t=>t.lanes.types[X.FactoryWorkers].buildings>=25},3:{name:"Reproduction farm",description:"Chu chu chu",price:17875e5,image:ee[6][3],condition:t=>t.lanes.types[X.FactoryWorkers].buildings>=50},4:{name:"Fuyo's tentacle statue",description:"I want to wake up and see myself...",price:89375e5,image:ee[6][4],condition:t=>t.lanes.types[X.FactoryWorkers].buildings>=100}},7:{0:{name:"Fresh air",description:"You don't get to taste this often, huh?",price:154e6,image:ee[7][0],condition:t=>t.lanes.types[X.Divers].buildings>=1},1:{name:"Clover fumes",description:"Why do I feel so groggy?",price:77e7,image:ee[7][1],condition:t=>t.lanes.types[X.Divers].buildings>=5},2:{name:"Brap tank",description:"I wouldn't want to breathe it.",price:385e7,image:ee[7][2],condition:t=>t.lanes.types[X.Divers].buildings>=25},3:{name:"Fuyo musk",description:'Can be smelled from a 100 km radius. "Take a bath, stinky!".',price:1925e7,image:ee[7][3],condition:t=>t.lanes.types[X.Divers].buildings>=50},4:{name:"Leprecopium",description:"Ingest a maximum of 217 ml a day.",price:9625e7,image:ee[7][4],condition:t=>t.lanes.types[X.Divers].buildings>=100}},8:{0:{name:"Stem extract",description:"W-where did you get that?",price:22e8,image:ee[8][0],condition:t=>t.lanes.types[X.Scientists].buildings>=1},1:{name:"Clover solvent",description:"Do NOT put your stem in this!",price:11e9,image:ee[8][1],condition:t=>t.lanes.types[X.Scientists].buildings>=5},2:{name:"Lucky Charm tears solution",description:"Easy to gather when Fuyoless.",price:55e9,image:ee[8][2],condition:t=>t.lanes.types[X.Scientists].buildings>=25},3:{name:"Fuyonade essence",description:"Used to scent bus seats.",price:275e9,image:ee[8][3],condition:t=>t.lanes.types[X.Scientists].buildings>=50},4:{name:"Reproduction catalyst",description:"It makes the clovers go wild.",price:1375e9,image:ee[8][4],condition:t=>t.lanes.types[X.Scientists].buildings>=100}},9:{0:{name:"Tip bag",description:"Leave a funny message! Wait-",price:363e8,image:ee[9][0],condition:t=>t.lanes.types[X.Investors].buildings>=1},1:{name:"Wallet bag",description:"Legally stol- obtained through donations!",price:1815e8,image:ee[9][1],condition:t=>t.lanes.types[X.Investors].buildings>=5},2:{name:"Edible paper money bag",description:"Delicious delicacy. Hide from the nearest leprechaun.",price:9075e8,image:ee[9][2],condition:t=>t.lanes.types[X.Investors].buildings>=25},3:{name:"Fuyocoin bag",description:"Found at the end of a rainbow! Not a scam!",price:45375e8,image:ee[9][3],condition:t=>t.lanes.types[X.Investors].buildings>=50},4:{name:"Akasupa Bag",description:"Are you okay?",price:226875e8,image:ee[9][4],condition:t=>t.lanes.types[X.Investors].buildings>=100}},10:{0:{name:"Radioactive Clovers",description:"Clovers harvest the power of the green glow to boost production! (And grow a few more long body parts.)",price:561e9,image:ee[10][0],condition:t=>t.lanes.types[X.Hazmats].buildings>=1},1:{name:"Cloverfield Core Meltdown",description:"Harness the chaotic energy of a mischievous leprechaun to supercharge the coin production. Caution: May cause uncontrollable jitters.",price:2805e9,image:ee[10][1],condition:t=>t.lanes.types[X.Hazmats].buildings>=5},2:{name:"Leprechaunized Enrichment",description:"Infuse nuclear material with mischievous leprechaun sweat for an enriched boost.",price:14025e9,image:ee[10][2],condition:t=>t.lanes.types[X.Hazmats].buildings>=25},3:{name:"Four Leaf Fission Accelerator",description:"Split the luck of the clovers into an atomic frenzy multiplying coins with chaotic energy.",price:70125e9,image:ee[10][3],condition:t=>t.lanes.types[X.Hazmats].buildings>=50},4:{name:"Clover Quantum Collider",description:"Merge quantum mechanics with leprechaun juices creating an unstable yet huge surge in coins!",price:350625e9,image:ee[10][4],condition:t=>t.lanes.types[X.Hazmats].buildings>=100}},11:{0:{name:"Stem suword",description:"Always up, heh.",price:825e10,image:ee[11][0],condition:t=>t.lanes.types[X.Knights].buildings>=1},1:{name:"El punhetero",description:"Truly a BLASPHEMOUS name.",price:4125e10,image:ee[11][1],condition:t=>t.lanes.types[X.Knights].buildings>=5},2:{name:"Diamond suword",description:"Let's hope it doesn't suffer the same fate as the pickaxe...",price:20625e10,image:ee[11][2],condition:t=>t.lanes.types[X.Knights].buildings>=25},3:{name:"3 inch destroyer",description:"Take a look at my enormous suword.",price:103125e10,image:ee[11][3],condition:t=>t.lanes.types[X.Knights].buildings>=50},4:{name:"Suword",description:"Suword.",price:515625e10,image:ee[11][4],condition:t=>t.lanes.types[X.Knights].buildings>=100}},12:{0:{name:"Join the tummy cult as a new recruit",description:"We have cute, cultured and breedable tummies.",price:11e13,image:ee[12][0],condition:t=>t.lanes.types[X.Cultists].buildings>=1},1:{name:"Become a stummy enjoyer",price:55e13,image:ee[12][1],condition:t=>t.lanes.types[X.Cultists].buildings>=5},2:{name:"Become a Womb tattoo enjoyer",price:275e13,image:ee[12][2],condition:t=>t.lanes.types[X.Cultists].buildings>=25},3:{name:"Become a Tummy 'Bulge' enjoyer",price:1375e13,image:ee[12][3],condition:t=>t.lanes.types[X.Cultists].buildings>=50},4:{name:"Tummy for the tummy god",price:6875e13,image:ee[12][4],condition:t=>t.lanes.types[X.Cultists].buildings>=100}},13:{0:{name:"Stem wand",description:"Powers up when there's a leprechaun nearby.",price:154e13,image:ee[13][0],condition:t=>t.lanes.types[X.Wizards].buildings>=1},1:{name:"Leprechaun magic",description:"Works 30% of the time.",price:77e14,image:ee[13][1],condition:t=>t.lanes.types[X.Wizards].buildings>=5},2:{name:"Witch outfit",description:"For the most fun time of the year!",price:385e14,image:ee[13][2],condition:t=>t.lanes.types[X.Wizards].buildings>=25},3:{name:"ASMR magic spell",description:"Infatuates Lucky charms better than a love potion.",price:1925e14,image:ee[13][3],condition:t=>t.lanes.types[X.Wizards].buildings>=50},4:{name:"Wish!",description:"Will be granted (almost) every stream!",price:9625e14,image:ee[13][4],condition:t=>t.lanes.types[X.Wizards].buildings>=100}},14:{0:{name:"Tentacular Rocket Thrusters",description:"Upgrade rocket propulsion systems with the versatility of tentacles!",price:187e14,image:ee[14][0],condition:t=>t.lanes.types[X.Astronauts].buildings>=1},1:{name:"Coin Rover",description:"Small (cute) robot that helps searching for alien coins and wallets (and life sometimes!)",price:935e14,image:ee[14][1],condition:t=>t.lanes.types[X.Astronauts].buildings>=5},2:{name:"Clover Lunar Lander",description:"Long lunar lander that helps clovers search deep for aliens (and their wallets!)",price:4675e14,image:ee[14][2],condition:t=>t.lanes.types[X.Astronauts].buildings>=25},3:{name:"Navigation Technology",description:"Learning the quirky abilities of the aliens, discover new ways to find wallets within multiple galaxies.",price:23375e14,image:ee[14][3],condition:t=>t.lanes.types[X.Astronauts].buildings>=50},4:{name:"Lucky Charm Lunar Base",description:"Big research base of operations, helping further understanding into alien galaxy economies.",price:116875e14,image:ee[14][4],condition:t=>t.lanes.types[X.Astronauts].buildings>=100}},15:{0:{name:"Stem laser gun",description:"Stems shoot pretty hard after all.",price:23e16,image:ee[15][0],condition:t=>t.lanes.types[X.Aliens].buildings>=1},1:{name:"Poptart leprecat",description:"It has been haunting me for 10 hours, please make it stop.",price:1155e15,image:ee[15][1],condition:t=>t.lanes.types[X.Aliens].buildings>=5},2:{name:"Great-grandpa leprechaun's flying hand",description:"Postumous pettiness",price:5775e15,image:ee[15][2],condition:t=>t.lanes.types[X.Aliens].buildings>=25},3:{name:"Clover Instrumentality Project",description:'Return to sap. "Tumbling down, tumbling down, tumbling down~"',price:28875e15,image:ee[15][3],condition:t=>t.lanes.types[X.Aliens].buildings>=50},4:{name:"FUYO BEAM!!!",price:144375e15,image:ee[15][4],condition:t=>t.lanes.types[X.Aliens].buildings>=100}},16:{0:{name:"Pencil",description:"Simple is best for beginners!",price:286e16,image:ee[16][0],condition:t=>t.lanes.types[X.Sketches].buildings>=1},1:{name:"Phone pen",description:"Why is it ringing so often?",price:143e17,image:ee[16][1],condition:t=>t.lanes.types[X.Sketches].buildings>=5},2:{name:"Spoon",description:"You're supposed to be drawing, not trying to break out of jail!",price:715e17,image:ee[16][2],condition:t=>t.lanes.types[X.Sketches].buildings>=25},3:{name:"Make-up brush",description:"I guess this will do. Should've bought better supplies...",price:3575e17,image:ee[16][3],condition:t=>t.lanes.types[X.Sketches].buildings>=50},4:{name:"Digital pen",description:"Remember to save! Oh sh-",price:17875e17,image:ee[16][4],condition:t=>t.lanes.types[X.Sketches].buildings>=100}},17:{0:{name:"Standard tentacle",description:"Comes in a wide variety of sizes and colors, and can be used for a variety of tasks.",price:341e17,image:ee[17][0],condition:t=>t.lanes.types[X.Peak].buildings>=1},1:{name:"Suction tip",description:"This variety has developed a bulb capable of producing strong suction.",price:1705e17,image:ee[17][1],condition:t=>t.lanes.types[X.Peak].buildings>=5},2:{name:"Splitter",description:"This variety can split off into additional tentacles at will.",price:8525e17,image:ee[17][2],condition:t=>t.lanes.types[X.Peak].buildings>=25},3:{name:"Milker",description:"Strong suction holds it in place as it carries out its purpose.",price:42625e17,image:ee[17][3],condition:t=>t.lanes.types[X.Peak].buildings>=50},4:{name:"Slime",description:"Can enter through even the smallest opening, and then expand to fill the entire space.",price:213125e17,image:ee[17][4],condition:t=>t.lanes.types[X.Peak].buildings>=100}}};var Dh=(t=>(t[t.FUYONADE=0]="FUYONADE",t))(Dh||{});const h_={0:{multiplier:7,ratesMs:{increase:1/(5*6e4),decrease:1/77e3}}};function l8(t,e){return e.active?h_[t].multiplier:1}const jI=1e-4,u8=3,c8=1/1e3;function Uw(t){return Object.entries(t).reduce((e,[r,n])=>({...e,[r]:Object.keys(n).length}),{})}function Cg(t){let e=0;for(const r of Object.values(X).filter(n=>typeof n=="number"))e+=t[r].buildings;return e}function $I(t,e){const r={};for(const n of Object.values(X).filter(i=>typeof i=="number")){const i=t[n];r[n]=$5(n,i.buildings,e[a8[n]],i.clovers[Xi.Hero].length)}return r}function GI(t,e,r){const n=Object.entries(e[go.Clicker]).filter(([s,o])=>o&&parseInt(s)>2).length;if(n===0)return 0;let i=0;switch(i=t*r*c8,n){case 1:break;case 2:i*=5;break;case 3:i*=10;break;default:i*=20**u8-2;break}return i}function HI(t,e,r){const n=Object.entries(e[go.Clicker]).filter(([s,o])=>o&&parseInt(s)<3).length;let i=t*jI*2**n;return i+=GI(t,e,r),i}function WI(t){let e=1;for(const r of Object.values(Dh).filter(n=>typeof n=="number")){const n=t[r];e*=l8(r,n)}return e}function h8(t,e,r){const n=Uw(t),i=Cg(e);let o=1*2**Object.entries(t[go.Clicker]).filter(([c,h])=>h&&parseInt(c)<3).length;const a=GI(1,t,i);if(o+=a*1e3,n[go.Cursor]>0){const c=VI(t,e,r)*1e3;let h=.3;n[go.Cursor]>1&&(h+=(n[go.Cursor]-1)*.1);const d=h*c;o+=d}return o}function VI(t,e,r,n){let i=0;const s=Uw(t),o=$I(e,s);return i+=Object.values(o).reduce((a,c)=>a+c,0),i+=HI(r,t,Cg(e)),n&&(i*=WI(n)),i}const WT=()=>({amount:0,manualAmount:0,lastUpdate:Date.now(),rateMs:0,clickers:0}),VT=(t,e)=>(Vi.push(()=>({coins:{...e().coins,...WT()}})),{coins:{...WT(),tick:()=>{const r=VI(e().upgrades.unlocked,e().lanes.types,e().coins.clickers,e().boosts.types);t(pt(n=>{const i=Fw(e().lastLoaded,e().coins.lastUpdate);n.coins.lastUpdate=Date.now(),n.coins.rateMs=r,n.coins.amount+=i*r}),!1,"Tick - Clicker")},click:()=>{e().coins.tick();const r=h8(e().upgrades.unlocked,e().lanes.types,e().coins.clickers);return t(pt(n=>{n.coins.amount+=r,n.coins.manualAmount+=r}),!1,"Action - Click"),r},cheat:r=>{t(pt(n=>{n.coins.amount=r}),!1,"Action - Cheat - Coins")}}}),d8=""+new URL("cursor-d9ea5997.png",import.meta.url).href,f8=""+new URL("mine-50312c49.png",import.meta.url).href,p8=""+new URL("forge-3c0f092e.png",import.meta.url).href,m8=""+new URL("construction-site-1c45d5c3.png",import.meta.url).href,g8=""+new URL("repair-shop-34f6b395.png",import.meta.url).href,y8=""+new URL("lab-d2e1d000.png",import.meta.url).href,v8=""+new URL("sub-7a70b12e.png",import.meta.url).href,_8=""+new URL("sketch-13b72e4e.png",import.meta.url).href,x8=""+new URL("altar-a6a158d1.png",import.meta.url).href,w8=""+new URL("bank-83fb73c6.png",import.meta.url).href,b8=""+new URL("hazmat-fd84bc5a.png",import.meta.url).href,S8=""+new URL("rocket-bead813c.png",import.meta.url).href,E8=""+new URL("wizard-tower-7240f1de.png",import.meta.url).href,T8=""+new URL("peak-03206f0e.png",import.meta.url).href,A8=""+new URL("axe-bdbe861e.png",import.meta.url).href,C8=""+new URL("castle-01fb419c.png",import.meta.url).href,R8=""+new URL("ufo-46d398d1.png",import.meta.url).href;var $a=(t=>(t[t.COINS=0]="COINS",t[t.CLOVERS=1]="CLOVERS",t))($a||{});const Er={0:{name:"Auto Clicker",price:{amount:15,currency:0},thumbnail:d8,sounds:[oe.AutoClicker1]},1:{name:"Mine",price:{amount:100,currency:1},laneType:X.Miners,thumbnail:f8,sounds:[oe.Miner1]},2:{name:"Axe",price:{amount:1100,currency:1},laneType:X.Lumberjacks,thumbnail:A8,sounds:[oe.Lumberjack1]},3:{name:"Forge",price:{amount:11800,currency:1},laneType:X.Blacksmiths,thumbnail:p8,sounds:[oe.Blacksmith1]},4:{name:"Repair Tools",price:{amount:127e3,currency:1},laneType:X.Mechanics,thumbnail:g8,sounds:[oe.Mechanic1]},5:{name:"Crane",price:{amount:137e4,currency:1},laneType:X.FactoryWorkers,thumbnail:m8,sounds:[oe.Engineer1]},6:{name:"Submarine",price:{amount:147e5,currency:1},laneType:X.Divers,thumbnail:v8,sounds:[oe.Diver1,oe.Diver2]},7:{name:"Lab Equipment",price:{amount:158e6,currency:1},laneType:X.Scientists,thumbnail:y8,sounds:[oe.Scientist1]},8:{name:"Bank",price:{amount:17e8,currency:1},laneType:X.Investors,thumbnail:w8,sounds:[oe.Investor1]},9:{name:"Power Plant",price:{amount:183e8,currency:1},laneType:X.Hazmats,thumbnail:b8,sounds:[oe.Hazmat1]},10:{name:"Castle",price:{amount:197e9,currency:1},laneType:X.Knights,thumbnail:C8,sounds:[oe.Knight1]},11:{name:"Altar",price:{amount:212e10,currency:1},laneType:X.Cultists,thumbnail:x8,sounds:[oe.Cultist1]},12:{name:"Wizard Tower",price:{amount:228e11,currency:1},laneType:X.Wizards,thumbnail:E8,sounds:[oe.Wizard1]},13:{name:"Rocket",price:{amount:245e12,currency:1},laneType:X.Astronauts,thumbnail:S8,sounds:[oe.Astronaut1,oe.Astronaut2,oe.Astronaut3,oe.Astronaut4]},14:{name:"UFO",price:{amount:264e13,currency:1},laneType:X.Aliens,thumbnail:R8,sounds:[oe.Alien1]},15:{name:"Sketch",price:{amount:284e14,currency:1},laneType:X.Sketches,thumbnail:_8,sounds:[oe.Generico1]},16:{name:"Peak",price:{amount:306e15,currency:1},laneType:X.Peak,thumbnail:T8,sounds:[oe.Peak1]}},XI=1.15;function YI(t,e){const r=Er[t];return Math.ceil(r.price.amount*XI**e)}const k8=.1;function XT(t,e){return e!==0&&e/t.price.amount>k8}function P8(t,e,r,n){return t.purchased>0||(e.price.currency===0?XT(e,r):XT(e,n))}const d_={purchased:0},YT={items:Object.keys(Er).map(()=>structuredClone(d_)),unlocked:{}},qT=(t,e)=>(Vi.push(()=>({shop:{...e().shop,...YT}})),{shop:{...YT,buy:r=>{const n=e().shop.items[r]??structuredClone(d_),i=YI(r,n.purchased),s=Er[r].laneType;if(s===void 0){if(e().coins.amount<i)return!1;t(pt(o=>{o.coins.amount-=i,o.coins.clickers++,o.shop.items[r]={...n,purchased:n.purchased+1}}),!1,"Action - Buy - Auto Clicker")}else{if(e().repro.clovers.amount<i)return!1;t(pt(o=>{const a=o.repro;a.clovers.amount-=i,a.clovers.lastCloverId+=zT,o.shop.items[r]={...n,purchased:n.purchased+1};const c=o.lanes.types[s];c.buildings++,c.clovers[Xi.Regular].push(...new Array(zT).fill(void 0).map((h,d)=>o.repro.clovers.lastCloverId+(d+1)))}),!1,"Action - Buy - Building")}return e().tick(),!0},tick:()=>{let r={},n=!1;for(const i of Object.keys(Er).map(Number)){const s=e().shop.items[i]??structuredClone(d_);if(!e().shop.unlocked[i])if(P8(s,Er[i],e().coins.amount,e().repro.clovers.amount))n=!0;else continue;r={...r,[i]:!0}}n&&t(pt(i=>{i.shop.unlocked={...i.shop.unlocked,...r}}),!1,"Tick - Shop - Unlock")}}}),I8=1.14,M8=1/12e4,qI={rate:1/1e3,price:{amount:15}};function QI(t){return Math.round(qI.price.amount*XI**(t-1))}const QT=()=>({clovers:{amount:0,rateMs:0,tier:0,heroes:{progress:0,rateMs:0,spawned:void 0},lastCloverId:-1},lastUpdate:Date.now()}),KT=(t,e)=>(Vi.push(()=>({repro:{...e().repro,...QT()}})),{repro:{...QT(),tick:()=>{const r=Fw(e().lastLoaded,e().repro.lastUpdate),n=e().repro.clovers.tier===0?0:qI.rate*I8**e().repro.clovers.tier,i=D8(e),s=e().repro.clovers.heroes.spawned===void 0&&i.length>0,o=s?M8:0;if(t(pt(c=>{const h=c.repro.clovers,d=c.repro.clovers.heroes;c.repro.lastUpdate=Date.now(),h.rateMs=n,h.amount+=r*n,d.rateMs=o,d.progress+=r*o}),!1,"Tick - Repro"),!s||e().repro.clovers.heroes.progress<1)return;const a=ZT(e().repro.clovers.lastCloverId,i);t(pt(c=>{const h=c.repro.clovers,d=c.repro.clovers.heroes;d.progress=0,d.spawned=a,h.lastCloverId=a.id}),!1,"Tick - Repro - Hero Clover")},spawn:()=>{const r=Object.entries(e().lanes.types).filter(([,i])=>i.buildings>0).map(([i])=>i);if(r.length===0)return;const n=ZT(e().repro.clovers.lastCloverId,r);t(pt(i=>{const s=i.repro.clovers,o=i.repro.clovers.heroes;o.progress=0,o.spawned=n,s.lastCloverId=n.id}),!1,"Action - Cheat - Hero Clover")},click:()=>{e().repro.tick(),t(pt(r=>{r.repro.clovers.amount+=1}),!1,"Action - Click - Clover")},upgrade:()=>{const r=e().repro.clovers.tier+1,n=QI(r);return e().coins.amount<n?!1:(t(pt(i=>{i.coins.amount-=n,i.repro.clovers.tier++}),!1,"Action - Upgrade - Repro"),e().tick(),!0)}}}),N8=3;function D8(t){return Object.entries(t().lanes.types).filter(([,e])=>e.buildings>0).filter(([,e])=>e.clovers[Xi.Hero].length<Math.floor(e.buildings/N8)).map(([e])=>e)}function ZT(t,e){let r;return Math.random()>.1?r=e[Math.max(e.length-Math.ceil(Math.random()*3),0)]:r=e[Math.floor(Math.random()*e.length)],{id:t+1,job:An[r].job}}const L8={buildings:0,clovers:Object.fromEntries(Object.values(Xi).filter(t=>typeof t=="number").map(t=>[t,[]]))},JT={types:Object.fromEntries(Object.values(X).filter(t=>typeof t=="number").map(t=>[t,L8]))},O8=(t,e)=>(Vi.push(()=>({lanes:{...e().lanes,...JT}})),{lanes:{...JT,assign:(r,n)=>{t(pt(i=>{i.repro.clovers.heroes.spawned=void 0,i.lanes.types[n].clovers[Xi.Hero].push(r)}),!1,"Action - Clover - Assign"),e().coins.tick()}}}),eA={unlocked:Object.fromEntries(Object.values(go).filter(t=>typeof t=="number").map(t=>[t,{}]))},F8=(t,e)=>(Vi.push(()=>({upgrades:{...e().upgrades,...eA}})),{upgrades:{...eA,active:()=>Object.keys(ka).reduce((r,n)=>({...r,[n]:Object.entries(ka[n]).reduce((i,[s,o])=>({...i,...o.condition(e())&&!e().upgrades.unlocked[n][parseInt(s)]?{[s]:o}:{}}),{})}),{}),buy:(r,n)=>{const i=ka[r][n].price;return e().coins.amount<i?!1:(t(pt(s=>{s.coins.amount-=i,s.upgrades.unlocked[r][n]=!0}),!1,"Action - Buy - Upgrade"),e().tick(),!0)}}}),tA=()=>({types:{[Dh.FUYONADE]:{lastUpdate:Date.now(),progress:0,active:!1}}}),rA=(t,e)=>(Vi.push(()=>({boosts:{...e().boosts,...tA()}})),{boosts:{...tA(),tick:()=>{t(pt(r=>{r.boosts.types=Object.fromEntries(Object.entries(r.boosts.types).map(([n,i])=>[n,U8(e().lastLoaded,n,i)]))}),!1,"Tick - Boosts")},activate:r=>{t(pt(n=>{n.boosts.types[r].active=!0}),!1,"Action - Activate Boost"),e().tick()}}});function U8(t,e,r){const n=Fw(t,r.lastUpdate),i=r.progress+n*(r.active?-h_[e].ratesMs.decrease:h_[e].ratesMs.increase);return{...r,lastUpdate:Date.now(),progress:i<=0?0:i>=1?1:i,active:i<=0?!1:r.active}}const nA=()=>({lastUpdate:Date.now(),lastSpawn:Date.now(),spawn:!1}),iA=(t,e)=>(Vi.push(()=>({species:{...e().species,...nA()}})),{species:{...nA(),tick:()=>{t(pt(r=>{const n=Date.now(),i=Math.max(0,r.species.lastUpdate-Math.max(e().lastLoaded,r.species.lastSpawn));r.species.lastUpdate=n,n<r.species.lastSpawn&&(r.species.lastSpawn=0),z8(i/1e3)&&!r.species.spawn?(r.species.spawn=!0,r.species.lastSpawn=n):r.species.spawn=!1}),!1,"Tick - Species")},activate:()=>{t(pt(r=>{const n=$8(e().coins.rateMs);r.coins.amount+=n}),!1,"Action - Species - Activate")}}}),sA=150,B8=450;function z8(t){const e=((t-sA)/(B8-sA))**5;return e<0?!1:Math.random()<e}const j8=3*6e4;function $8(t){return t*j8}var G8=function(e){return H8(e)&&!W8(e)};function H8(t){return!!t&&typeof t=="object"}function W8(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Y8(t)}var V8=typeof Symbol=="function"&&Symbol.for,X8=V8?Symbol.for("react.element"):60103;function Y8(t){return t.$$typeof===X8}function q8(t){return Array.isArray(t)?[]:{}}function Lh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?wu(q8(t),t,e):t}function Q8(t,e,r){return t.concat(e).map(function(n){return Lh(n,r)})}function K8(t,e){if(!e.customMerge)return wu;var r=e.customMerge(t);return typeof r=="function"?r:wu}function Z8(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function oA(t){return Object.keys(t).concat(Z8(t))}function KI(t,e){try{return e in t}catch{return!1}}function J8(t,e){return KI(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function ez(t,e,r){var n={};return r.isMergeableObject(t)&&oA(t).forEach(function(i){n[i]=Lh(t[i],r)}),oA(e).forEach(function(i){J8(t,i)||(KI(t,i)&&r.isMergeableObject(e[i])?n[i]=K8(i,r)(t[i],e[i],r):n[i]=Lh(e[i],r))}),n}function wu(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||Q8,r.isMergeableObject=r.isMergeableObject||G8,r.cloneUnlessOtherwiseSpecified=Lh;var n=Array.isArray(e),i=Array.isArray(t),s=n===i;return s?n?r.arrayMerge(t,e,r):ez(t,e,r):Lh(e,r)}wu.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,i){return wu(n,i,r)},{})};var tz=wu,rz=tz;function f_(){return(t,e)=>rz.all([e,t],{arrayMerge:(r,n)=>n})}var an=(t=>(t[t.RUNNING=0]="RUNNING",t[t.PAUSED=1]="PAUSED",t))(an||{});const nz="game-store",Ie=RI()(kI(PI((t,e)=>({...VT(t,e),...rA(t,e),...F8(t,e),...qT(t,e),...KT(t,e),...O8(t,e),...iA(t,e),...GT(t,e),tick:()=>{VT(t,e).coins.tick(),rA(t,e).boosts.tick(),KT(t,e).repro.tick(),iA(t,e).species.tick(),qT(t,e).shop.tick(),GT(t,e).popups.tick()},reset:()=>t({...Vi.reduce((r,n)=>({...r,...n()}),{}),lastLoaded:Date.now()},!1,"Action - Reset"),state:0,setState:r=>t(pt(n=>{n.state=r}),!1,"Action - State"),load:r=>t({...f_()(r,Vi.reduce((n,i)=>({...n,...i()}),{})),lastLoaded:Date.now()},!1,"Action - Load"),lastLoaded:Date.now()}),{name:nz,version:3,storage:Dw(()=>localStorage),merge:(t,e)=>({...f_()(t,e),lastLoaded:Date.now()}),migrate:(t,e)=>{switch(e){case 2:return{...t,state:0};default:return t}}})));function yt(){let t,e="",r=0;for(;r<arguments.length;)(t=arguments[r++])&&typeof t=="string"&&(e&&(e+=" "),e+=t);return e}globalThis&&globalThis.__awaiter;function ZI(){const[t,e]=P.useState(null),[r,n]=P.useState({width:0,height:0}),i=P.useCallback(()=>{n({width:(t==null?void 0:t.offsetWidth)||0,height:(t==null?void 0:t.offsetHeight)||0})},[t==null?void 0:t.offsetHeight,t==null?void 0:t.offsetWidth]);return iz("resize",i),JI(()=>{i()},[t==null?void 0:t.offsetHeight,t==null?void 0:t.offsetWidth]),[e,r]}function iz(t,e,r,n){const i=P.useRef(e);JI(()=>{i.current=e},[e]),P.useEffect(()=>{var s;const o=(s=r==null?void 0:r.current)!==null&&s!==void 0?s:window;if(!(o&&o.addEventListener))return;const a=c=>i.current(c);return o.addEventListener(t,a,n),()=>{o.removeEventListener(t,a,n)}},[t,r,n])}globalThis&&globalThis.__awaiter;function sz(t,{threshold:e=0,root:r=null,rootMargin:n="0%",freezeOnceVisible:i=!1}){const[s,o]=P.useState(),a=(s==null?void 0:s.isIntersecting)&&i,c=([h])=>{o(h)};return P.useEffect(()=>{const h=t==null?void 0:t.current;if(!!!window.IntersectionObserver||a||!h)return;const f={threshold:e,root:r,rootMargin:n},m=new IntersectionObserver(c,f);return m.observe(h),()=>m.disconnect()},[t==null?void 0:t.current,JSON.stringify(e),r,n,a]),s}const JI=typeof window<"u"?P.useLayoutEffect:P.useEffect,oz="_divider_1uooo_1",az="_vertical_1uooo_4",lz="_horizontal_1uooo_9",p_={divider:oz,vertical:az,horizontal:lz};var _m=(t=>(t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t))(_m||{});const uz={0:p_.vertical,1:p_.horizontal};function Pc({orientation:t=0}){return R.jsx("div",{className:yt(p_.divider,uz[t])})}var cz=function(){function t(e,r,n,i){this.s01=e,this.s00=r,this.s11=n,this.s10=i}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),r=e.unsafeNext();return[r,e]},t.prototype.unsafeNext=function(){var e=this.s00+this.s10|0,r=this.s10^this.s00,n=this.s11^this.s01,i=this.s00,s=this.s01;return this.s00=i<<24^s>>>8^r^r<<16,this.s01=s<<24^i>>>8^n^(n<<16|r>>>16),this.s10=n<<5^r>>>27,this.s11=r<<5^n>>>27,e},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,r=0,n=0,i=0,s=[3639956645,3750757012,1261568508,386426335],o=0;o!==4;++o)for(var a=1;a;a<<=1)s[o]&a&&(e^=this.s01,r^=this.s00,n^=this.s11,i^=this.s10),this.unsafeNext();this.s01=e,this.s00=r,this.s11=n,this.s10=i},t}(),dd=function(t){return new cz(-1,~t,t|0,0)};function nv(t,e){if(e<0){var r=-e;t.sign=-1,t.data[0]=~~(r/4294967296),t.data[1]=r>>>0}else t.sign=1,t.data[0]=~~(e/4294967296),t.data[1]=e>>>0;return t}function hz(t,e,r){var n=e.data[1],i=e.data[0],s=e.sign,o=r.data[1],a=r.data[0],c=r.sign;if(t.sign=1,s===1&&c===-1){var h=n+o,d=i+a+(h>4294967295?1:0);return t.data[0]=d>>>0,t.data[1]=h>>>0,t}var f=n,m=i,g=o,_=a;s===-1&&(f=o,m=a,g=n,_=i);var x=0,E=f-g;return E<0&&(x=1,E=E>>>0),t.data[0]=m-_-x,t.data[1]=E,t}function e2(t,e){for(var r=t>2?~~(4294967296/t)*t:4294967296,n=e.unsafeNext()+2147483648;n>=r;)n=e.unsafeNext()+2147483648;return n%t}function dz(t,e,r){for(var n=e.length;;){for(var i=0;i!==n;++i){var s=i===0?e[0]+1:4294967296,o=e2(s,r);t[i]=o}for(var i=0;i!==n;++i){var a=t[i],c=e[i];if(a<c)return t;if(a>c)break}}}var fz=Number.MAX_SAFE_INTEGER,pz={sign:1,data:[0,0]},mz={sign:1,data:[0,0]},aA={sign:1,data:[0,0]},iv=[0,0];function gz(t,e,r,n){var i=r<=fz?nv(aA,r):hz(aA,nv(pz,e),nv(mz,t));return i.data[1]===4294967295?(i.data[0]+=1,i.data[1]=0):i.data[1]+=1,dz(iv,i.data,n),iv[0]*4294967296+iv[1]+t}function Ut(t,e,r){var n=e-t;if(n<=4294967295){var i=e2(n+1,r);return i+t}return gz(t,e,n,r)}const yz={muted:{[Nh.Music]:!1,[Nh.SFX]:!1}},vz=(t,e)=>{const r=new Audio(t);return r.volume=(e==null?void 0:e.volume)??1,r.loop=(e==null?void 0:e.loop)??!1,r},Zn={},_z=(t,e)=>({audio:{...yz,play:async(r,n)=>{var o;const i=Mf[r];if(e().audio.muted[Mf[r].type])return;let s;return!i.persistent||!((o=Zn[r])!=null&&o.length)?(s=vz(i.src,n??i.options),i.persistent||s.addEventListener("ended",()=>{var a;Zn[r]=(a=Zn[r])==null?void 0:a.filter(c=>c===s)}),Zn[r]||(Zn[r]=[]),Zn[r].push(s)):s=Zn[r][0],s.play()},mute:async(r,n)=>{t(pt(o=>{o.audio.muted[r]=n}),!1,"Action - Audio - Mute");const i=Object.entries(Zn).filter(([o])=>Mf[o].type===r),s=[];for(const[o,a]of i)for(const c of a){if(!Mf[o].persistent){c.pause(),Zn[o]=[];continue}n?c.pause():s.push(c.play())}await Promise.allSettled(s)}}});var Fn=(t=>(t[t.High=0]="High",t[t.Medium=1]="Medium",t[t.Low=2]="Low",t))(Fn||{});const xz={debug:!1,quality:0},wz=t=>({...xz,setDebug:e=>{t(pt(r=>{r.debug=e}),!1,"Action - Settings - Debug")},setQuality:e=>{t(pt(r=>{r.quality=e}),!1,"Action - Settings - Quality")}}),bz="settings-store",or=RI()(kI(PI((t,e)=>({..._z(t,e),...wz(t)}),{name:bz,version:2,storage:Dw(()=>localStorage),merge:f_(),migrate:(t,e)=>{switch(e){case 0:return{...t,debug:!1};case 1:return{...t,quality:Fn.High};default:return t}}}))),lA=dd(42);function Bw({sounds:t,intervalRangeMs:e,enabled:r}){const n=or(c=>c.audio.play),i=P.useRef(),[s,o]=P.useState(null),a=P.useCallback(()=>{n(t[Ut(0,t.length-1,lA)]).catch(),o(null)},[n,t]);P.useEffect(()=>{if(window.clearTimeout(i.current),i.current=void 0,!r||t.length===0)return;let c=s;const h=performance.now();c||(c={started:h,duration:Ut(e[0],e[1],lA)},o(c));const d=h-c.started,f=c.duration-d;return i.current=window.setTimeout(a,f),()=>window.clearTimeout(i.current)},[t,r,e,a,s])}const Sz={[Fn.High]:"hq",[Fn.Medium]:"mq",[Fn.Low]:"lq"};function Ez(){const t=or(e=>e.quality);return{classes:Object.entries(Sz).filter(([e])=>Number(e)>=Number(t)).map(([,e])=>e)}}const Tz="_clover_1tehf_1",Az="_name_1tehf_10",Cz="_body_1tehf_26",sv={clover:Tz,name:Az,body:Cz};function t2({id:t,job:e,type:r=Xi.Regular,...n}){var h,d;const i=dd(t*1.5),s=BT[Ut(0,BT.length-1,i)];let o=null;dc[e].extras!==void 0&&Ut(0,1,i)>.5&&(o=dc[e].extras[Ut(0,dc[e].extras.length-1,i)]);const a=(h=dc[e].bases)==null?void 0:h[r];let c=null;return a!==void 0&&(c=a[Ut(0,a.length-1,i)]),R.jsxs("div",{...n,className:yt(sv.clover,n.className),children:[R.jsx("span",{className:sv.name,children:s}),R.jsxs("div",{className:sv.body,children:[c!==null&&R.jsx("img",{src:c}),o!==null&&R.jsx("img",{src:o}),(d=dc[e].cosmetics)==null?void 0:d.map((f,m)=>R.jsx("img",{src:f},m))]})]})}function m_({id:t,job:e,assigned:r,...n}){const{attributes:i,listeners:s,setNodeRef:o,transform:a}=N4({id:t+1,data:{id:t,job:e},disabled:r}),c=a?{transform:`translate3d(${a.x}px, ${a.y}px, 0)`}:void 0;return R.jsx("div",{...n,style:{...n.style,...c},...s,...i,ref:o,children:R.jsx(t2,{id:t,job:e,type:Xi.Hero})})}const Rz="_lane_5nsae_46",kz="_overlap_5nsae_54",Pz="_buildings_5nsae_63",Iz="_flying_5nsae_75",Mz="_flip_5nsae_1",Nz="_clovers_5nsae_85",Dz="_clover_5nsae_85",Lz="_work_5nsae_1",Oz="_building_5nsae_63",Fz="_visible_5nsae_126",Tn={lane:Rz,overlap:kz,buildings:Pz,flying:Iz,flip:Mz,clovers:Nz,clover:Dz,"hero-clovers":"_hero-clovers_5nsae_108","hero-clover":"_hero-clover_5nsae_108",work:Lz,building:Oz,visible:Fz},Uz=64,Bz=32,zz=80;function jz(t){return{buldings:Math.ceil(t.width/Uz),clovers:Math.ceil(t.width/Bz),heroClovers:Math.ceil(t.width/zz)}}function $z({type:t,lane:e,size:r,...n}){const i=Ie(_=>_.lanes),s=dd(Number(t)),o=jz(r),a=P.useRef(null),c=sz(a,{}),h=or(_=>_.audio.play),d=Ez(),f=Math.min((e.buildings-1)/10,1);Bw({sounds:An[t].sounds,intervalRangeMs:[5e3-f*4e3,2e4-f*1e4],enabled:(c==null?void 0:c.isIntersecting)??!1});const{isOver:m,setNodeRef:g}=F4({id:`${t}-lane`});return kw({onDragEnd:_=>{if(!m)return;const x=_.active.data.current;x.job===An[t].job&&(i.assign(x.id,t),h(An[t].sounds[Math.floor(Math.random()*An[t].sounds.length)],{volume:1}))}}),R.jsxs("div",{...n,className:yt(Tn.lane,(c==null?void 0:c.isIntersecting)&&Tn.visible,...d.classes,n.className),style:{backgroundImage:`url(${An[t].background})`},ref:_=>{g(_),a.current=_},children:[R.jsx("div",{className:yt(Tn.overlap,Tn.buildings,An[t].flying&&Tn.flying),children:new Array(Math.min(e.buildings,o.buldings)).fill(void 0).map((_,x)=>R.jsx("img",{className:Tn.building,src:An[t].building,style:{"--animation-delay":`${Ut(-5e4,0,s)}ms`}},x))}),R.jsx("div",{className:yt(Tn.overlap,Tn.clovers),children:e.clovers[Xi.Regular].slice(0,o.clovers).map(_=>R.jsx(t2,{className:Tn.clover,id:_,job:An[t].job,style:{"--animation-delay":`${Ut(-1e4,0,s)}ms`}},_))}),R.jsx("div",{className:yt(Tn.overlap,Tn["hero-clovers"]),children:e.clovers[Xi.Hero].slice(0,o.heroClovers).map(_=>R.jsx(m_,{className:Tn["hero-clover"],id:_,job:An[t].job,assigned:!0,style:{"--animation-delay":`${Ut(-1e4,0,s)}ms`}},_))})]})}const Gz="_lanes_rolq5_1",Hz={lanes:Gz};function Wz(t){const e=Ie(i=>i.lanes.types),[r,n]=ZI();return R.jsx("div",{...t,ref:r,className:yt(Hz.lanes,t.className),children:n.width+n.height!==0&&Object.entries(e).filter(([,i])=>i.buildings>0).map(([i,s])=>R.jsxs(P.Fragment,{children:[R.jsx($z,{type:parseInt(i),lane:s,size:n}),R.jsx(Pc,{orientation:_m.HORIZONTAL})]},i))})}var r2={};function Vz(t){if(!t||typeof window>"u")return;const e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}Object.defineProperty(r2,"__esModule",{value:!0});var wt=P;function Xz(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Qs=Xz(wt);Vz(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), transparent);
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const Yz=wt.forwardRef(function({style:e={},className:r="",autoFill:n=!1,play:i=!0,pauseOnHover:s=!1,pauseOnClick:o=!1,direction:a="left",speed:c=50,delay:h=0,loop:d=0,gradient:f=!1,gradientColor:m="white",gradientWidth:g=200,onFinish:_,onCycleComplete:x,onMount:E,children:w},b){const[S,A]=wt.useState(0),[k,L]=wt.useState(0),[I,M]=wt.useState(1),[z,$]=wt.useState(!1),Z=wt.useRef(null),Y=b||Z,O=wt.useRef(null),W=wt.useCallback(()=>{if(O.current&&Y.current){const j=Y.current.getBoundingClientRect(),ie=O.current.getBoundingClientRect();let Se=j.width,we=ie.width;(a==="up"||a==="down")&&(Se=j.height,we=ie.height),M(n&&Se&&we&&we<Se?Math.ceil(Se/we):1),A(Se),L(we)}},[n,Y,a]);wt.useEffect(()=>{if(z&&(W(),O.current&&Y.current)){const j=new ResizeObserver(()=>W());return j.observe(Y.current),j.observe(O.current),()=>{j&&j.disconnect()}}},[W,Y,z]),wt.useEffect(()=>{W()},[W,w]),wt.useEffect(()=>{$(!0)},[]),wt.useEffect(()=>{typeof E=="function"&&E()},[]);const de=wt.useMemo(()=>n?k*I/c:k<S?S/c:k/c,[n,S,k,I,c]),ae=wt.useMemo(()=>Object.assign(Object.assign({},e),{"--pause-on-hover":!i||s?"paused":"running","--pause-on-click":!i||s&&!o||o?"paused":"running","--width":a==="up"||a==="down"?"100vh":"100%","--transform":a==="up"?"rotate(-90deg)":a==="down"?"rotate(90deg)":"none"}),[e,i,s,o,a]),le=wt.useMemo(()=>({"--gradient-color":m,"--gradient-width":typeof g=="number"?`${g}px`:g}),[m,g]),D=wt.useMemo(()=>({"--play":i?"running":"paused","--direction":a==="left"?"normal":"reverse","--duration":`${de}s`,"--delay":`${h}s`,"--iteration-count":d?`${d}`:"infinite","--min-width":n?"auto":"100%"}),[i,a,de,h,d,n]),V=wt.useMemo(()=>({"--transform":a==="up"?"rotate(90deg)":a==="down"?"rotate(-90deg)":"none"}),[a]),U=wt.useCallback(j=>[...Array(Number.isFinite(j)&&j>=0?j:0)].map((ie,Se)=>Qs.default.createElement(wt.Fragment,{key:Se},wt.Children.map(w,we=>Qs.default.createElement("div",{style:V,className:"rfm-child"},we)))),[V,w]);return z?Qs.default.createElement("div",{ref:Y,style:ae,className:"rfm-marquee-container "+r},f&&Qs.default.createElement("div",{style:le,className:"rfm-overlay"}),Qs.default.createElement("div",{className:"rfm-marquee",style:D,onAnimationIteration:x,onAnimationEnd:_},Qs.default.createElement("div",{className:"rfm-initial-child-container",ref:O},wt.Children.map(w,j=>Qs.default.createElement("div",{style:V,className:"rfm-child"},j))),U(I-1)),Qs.default.createElement("div",{className:"rfm-marquee",style:D},U(I))):null});var qz=r2.default=Yz;const g_=0,y_=1,xm=2,wm=3,bm=4,Qz=5,n2=6,Kz=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],i2=t=>({_s:t,status:Kz[t],isEnter:t<wm,isMounted:t!==n2,isResolved:t===xm||t>bm}),v_=t=>t?n2:Qz,Zz=(t,e)=>{switch(t){case y_:case g_:return xm;case bm:case wm:return v_(e)}},Jz=t=>typeof t=="object"?[t.enter,t.exit]:[t,t],ej=(t,e)=>setTimeout(()=>{isNaN(document.body.offsetTop)||t(e+1)},0),uA=(t,e,r,n,i)=>{clearTimeout(n.current);const s=i2(t);e(s),r.current=s,i&&i({current:s})},s2=({enter:t=!0,exit:e=!0,preEnter:r,preExit:n,timeout:i,initialEntered:s,mountOnEnter:o,unmountOnExit:a,onStateChange:c}={})=>{const[h,d]=P.useState(()=>i2(s?xm:v_(o))),f=P.useRef(h),m=P.useRef(),[g,_]=Jz(i),x=P.useCallback(()=>{const w=Zz(f.current._s,a);w&&uA(w,d,f,m,c)},[c,a]),E=P.useCallback(w=>{const b=A=>{switch(uA(A,d,f,m,c),A){case y_:g>=0&&(m.current=setTimeout(x,g));break;case bm:_>=0&&(m.current=setTimeout(x,_));break;case g_:case wm:m.current=ej(b,A);break}},S=f.current.isEnter;typeof w!="boolean"&&(w=!S),w?!S&&b(t?r?g_:y_:xm):S&&b(e?n?wm:bm:v_(a))},[x,c,t,e,r,n,g,_,a]);return P.useEffect(()=>()=>clearTimeout(m.current),[]),[h,E,x]},jr={fuyo:"Fuyo Cloverfield",reporter:"Tummy Reporter"},_l=[{content:"High fuyonadefall prediction tomorrow's evening."},{content:"Hey guys, did you know that in terms of male Lucky Charm and female leprechaun breeding, Fuyo is the most compatible leprechaun for humans? Not only are they in the short humanoid group, which is mostly comprised of mammals, Fuyos are an average of 135 cm tall and 30.2 kilograms, this means they're large enough to be able handle Lucky Charm stems, and with their impressive size for dumpy and access to flexibility, you can be rough with one. Due to their mostly Fuyonade based biology, there's no doubt in my mind that an aroused Fuyo would be incredibly wet, so wet that you could easily have sex with one for hours without getting sore. They can also learn the moves ASMR Voice, Bratty Look, Hics, Kisses, and Cuteness, along with not having panties to hide cunny, so it'd be incredibly easy for one to get you in the mood. With their abilities Choccy Milk and Water checks, they can easily recover from fatigue with enough fluids. No other leprechaun comes close to this level of compatibility. Also, fun fact, if you don't pull out, you can make your Fuyo turn into a mother. Fuyo is literally built for Lucky Charm stem. Ungodly big ass+flexibility means it can take stem all day, all shapes and sizes and still come for more.",author:jr.fuyo},{content:"Bazinga",author:jr.fuyo},{content:"Wanau",author:"Some Boobro passing by."},{content:"It's tummy time!",author:jr.fuyo},{content:"Let the coins fall baby",author:jr.fuyo},{content:"Yoyoyo it's Fu-yo!",author:jr.fuyo},{content:"Cringe",author:"Cloverchad"},{content:"UOOOOOOH TUMMY 😭😭😭",author:"Pent up Cloverchad"},{content:"There's no contact damage!",author:"Someone who is very wrong and deserves to be corrected"},{content:"I wanna wake up and see myself be ravaged by tentacles",author:"A certain leprechaun"},{content:"Why is this seat wet?",author:"A concerned bus driver"},{content:"Breaking news: Local midgit gives birth to an army of weeds"},{content:"Sudden increase in wallet disappearances, investigations are being held",author:"Local police"},{content:"News report: “Mr. Socks and Pablo Puebes in a secret relationship?” Potential Mr Hands sequel?"},{content:"There's no mistake only happy accident"},{content:"28 years later: Fuyo takes a bath again"},{content:"Breaking News: Fuyo Cloverfield releases long awaited and overdue Pregananant ASMR, the fans are manic t- ... I have just been informed that it's just a prank bro, get rekt scrub"},{content:"I love frogs",author:jr.fuyo},{content:"Will the time come where Fuyo reveals what was Dm'ed to her by Yuko. Fuyo leaves no comment"},{content:"Clover scientists conclude tummy is very soft 😭",author:jr.reporter},{content:"Pablo Puebes voted favorite pet by clovers"},{content:"Coins falling from the sky at alarming rate. Cloverchads are crying."},{content:"Breaking news, anonymous killer claims life of another innocent sleep schedule, serial killer believed to be wearing a big green hat",author:jr.reporter},{content:"It's so hard to control two pen**** at the same time! I'm struggling.",author:jr.fuyo},{content:"Frick",author:jr.fuyo},{content:"Clover stems are at an all time high, invest now!",author:"Clover hustler"},{content:"hic"},{content:"Mysterious disappearance of lucky charms linked to secret sacrifice to tummy god"},{content:"The time finally comes where Fuyo eats Bob Ross."},{content:`Hey guys, did you know that in terms of male clovers and female Leprechaun breeding, Fuyo is the most compatible Pokémon for clovers? Not only is she in the plant egg group, which is mostly comprised of plants like clovers, Fuyo is an average of 4'5" tall , this means she's large enough to be able handle clover stems, and with her impressive Base Stats for HP and her being a giant M, you can be rough with her. Due to their mostly maigc based biology, there’s no doubt in my mind that an aroused Fuyo would could grant the wish for her to be incredibly wet, so wet that you could easily have *** with one for hours without getting sore. She can also learn the moves Attract, Baby-Doll Eyes, Captivate, Charm, and Tail Whip, along with not having fur to hide nipples, so it’d be incredibly easy for one to get you in the mood. With her coin eating ablilities, she can easily recover from fatigue with enough coins. No other idol comes close to this level of compatibility. Also, fun fact, if you whisper compliments in her ear, you can make her turn red. Fuyo is literally built for clover steam. Ungodly defense stat+high HP pool + her being an M means she can take steam all day, all shapes and sizes and still come for more.`},{content:"Take a look at my enormous STEM",author:jr.fuyo},{content:"A local scientist declare that the mysterious mike honey exist"},{content:"Global deflation crisis due to disappearing wallets all over the world!"},{content:"Two lucky charms bonds over similar connection of being hated by a leprechaun"},{content:"Police advises chains on wallets to prevent theft by sneaky leprechauns"},{content:"Mike Honey voted sexiest man alive"},{content:"How my life ended from the very beginning",author:"Maya Normisbut"},{content:"Lucky charms wish granted, others look upon with horror!"},{content:"News flash: Fuyo stream actually started on time."},{content:"Breaking news: Maya Normisbut discovered along with the borealis"},{content:"Deep oceans discovered as one of few save havens for wallets anymore, according to reports"},{content:'Local Reaper Leviathan suing Leprechaun over knife attack: "I was just peacefully swimming!"'},{content:"Diggy diggy hole",author:"Miner Charms"},{content:'Breaking News: "Leprechaun and Ghost hunter discovered in cave." Reports say there was slugs involved'},{content:"Lucky charms forging own coins to sacrifice, future of economy is uncertain"},{content:"The miracle of Fuyo grants yet another wish for a faithful LuckyCharm, converting him into the new Mike Honey",author:"Fuyo proverbs 10:25"},{content:"Fuyocoin stock up by 69420% this quarter, 10/10 economists advise to invest in Fuyocoin"},{content:"Fuyocoin surpassed all other currencies, both in value and in number, according to experts"},{content:"Portugal is the first country among many to introduce the new Fuyocoin as legal tender"},{content:"Local leprechaun embarrassed when called cute"},{content:"Breaking news; Fuyocoin stock price drops after her owner, Fuyo Cloverfield, allegedly forgot she had to stream",author:jr.reporter},{content:"Local leprechaun forced to give kisses to Luckycharms after losing a bet. Luckycharms were happy that same evening"},{content:"Teenagers see increased use of 😭 emote upon finding out their wallets are gone"},{content:"Comically large spoon that requires two hands found clogging local man's plumbing, city workers dumbfounded as to its purpose and origin"},{content:"Bill Cipher senpai >///<"},{content:"Pots of gold are appearing out of nowhere, locals left dumbfounded"},{content:"New drink called Fuyonade proven to be a hit among teenagers, sales skyrocketed by 1300% after first few days"},{content:'Breaking News: “Fuyo Cloverfield finally calls local swamp frog, Pablo Puebes, "Her little pogchamp"'},{content:"Tummy worshipping cult linked to disappearance of wallets, police investigates"},{content:"Mysterious tummy cult on the rise"},{content:"The Tummy cult has been accepted as state religion in 12 different countries"},{content:"The Tummy cult has become the religion with the most members world wide"},{content:"Praise the tummy!"},{content:"Nobody expected the Tummy-inquisition!"},{content:'This just in: Rates of taking baths are plummeting as populace watches a leprechaun make a fool of herself live. Scientists have dubbed this "Fuyo syndrome"'},{content:"Sales of bath socks on the rise after promotion by local Leprechaun"},{content:"Top story today: “Local leprechaun escapes prison with the help of a fellow prisoner: UGene. Was later released in court for finishing drawings. Security guard was still angry about the news and being seduced by a group of lucky charms. No comment was said."},{content:"Scientists found way to grow coins as crops in labs, further expansion expected"},{content:"Global rates on insomnia hit record low as Fuyo Cloverfield ASMR sees widespread adoption"},{content:'Local Prison guard stood up by a bunch of clovers: "I was seriously looking forward to that date." said the crying guard'},{content:"Fuyo Cloverfield's new hit cover, 'Enormous PP', hits number 1 in the list of most reproduced songs of 2024 in Spotychaun",author:jr.reporter},{content:'Man left confused after sentient clovers robbed him of his wallet. "they just took it and ran off!" Police has no leads so far.'},{content:"Imagine not having Fuyo's memba LMAO"},{content:"You can find true happiness in life for a mere €4.99 a month"},{content:'Bluyo still remains missing to this day. Lucky charms states "We miss her stories"'},{content:"Breaking News: Fuyo Cloverfield issues worldwide ban on turning left in an attempt to erradicate Left Fuyo. Numerous cities now stuck in gridlock"},{content:"Presidential debate between Left Fuyo and Right Fuyo at noon in Saturday, here at Shamrock 420 news"},{content:"Left Fuyo's existence linked to a higher life expectancy and a lower 'Uoooh' rate between luckycharms, studies say"},{content:"Sexy guard suspected to be linked to increase in prison escapes, so far no evidence found"},{content:"UUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU LUCKYCHAERMSSS",author:jr.fuyo},{content:'Local leprechaun changes username to "Alpha_Kenny_1." Cloverchads still snicker at the news'},{content:"Bless the Fuyube and it's holy polygons. For it is an avatar of the Tummy"},{content:"Random Fuyubes spotted in the sky, seem to suck coins out of people's wallets. Public warned of getting too close."},{content:'Analysts shocked to find out that when Lucky charms are given the chance to wish for anything in the world, they ask for funny and/or mundane things. One Lucky Charm commented "Hehe" when asked why'},{content:"Invizimals file a million dollar cease and desist lawsuit against Furry Cloverfield"},{content:"Fuyo Cloverfield linked to furry fandom, popular artist among the community"},{content:"Today we are here to mourn the loss of Cat, who was taken away from us too soon as he was made, by the hands of world renowned wallet stealer: Fuyo Cloverfield. She states that she couldnt stand the sight of her creation anymore.You will never be forgotten cat. R.I.P 2023-2023"},{content:'Fuyo Cloverfield wins "Cutest Thing" Award for the 8001th time in a row with a near unanimous vote.'},{content:"Fuyo Cloverfield terminated after showing her enormous PP on stream. When asked for the reasoning behind such a bold move, she declared 'cuz it's funnyyyyyy"},{content:"Authorities warn anyone who works as a maid to stay away from Roombas as an series of armed robberies continues."},{content:"Local ghost exorcised by Yuko Cloverfield after calling her the wrong name"},{content:'Lucky charms cry over new emotes . Luckycharms states: "They miss the spoon"'},{content:"Luckycharms Leprechaun-cross-dressing on the rise. 'She hasn't streamed in two days, we are in our right to do so' Cloverchad declares"},{content:"Size doesn't matter. It does!"},{content:"She hates us uuuuuuu😭",author:"a random clover"},{content:"Schedule yet to be posted by local leprechaun"},{content:"Praise the tummy 🙏",author:"Local tummy cultist"},{content:`After careful examination, Fuyo's 'W' shape has been found to be actually an "M" shape. It is believed that Fuyo, in a futile attempt to look less M, manipulated this luckycharm's wish`},{content:"Leprechaun fucks on a bag of McDonald's"},{content:"Brattiness rising, lucky charms demand correction 💢💢💢"},{content:`"I'm not a furry!" claims confused furry.`},{content:"Fuyo claims twitch chat is better, youtube chat expected to be in shambles but was caught reproducing"},{content:"lumberjacks in the nation terrified as a small green menace keeps humping their legs during work"},{content:"Breaking news: Weekly schedule already released on Sunday!"},{content:"Local leprechaun declares Bowser daddy of the year"},{content:"BREAKING NEWS: suword"},{content:"study suggests relation between Fuyo and cute"},{content:"accento circumflexo, accento circumflexo"},{content:"I've coooooome to nail it down",author:"Local Leprechaun"},{content:"New study suggest that microplastic on water is causing clover stems to get shorter"},{content:"Tentacle monster goes on a rampage after being 'accidentally' released by local leprechaun"},{content:"Energy goes down in Leprechaunland as VTuber leprechaun make her first par in golf game."},{content:"UOOOOOOOOOOOOOOOOOOOOOOOOOOOOGHHHHHHHH 😭"}],tj="_news_qaozf_1",rj="_reel_qaozf_6",nj="_marquee_qaozf_7",ij="_quote_qaozf_12",sj="_author_qaozf_18",oj="_preEnter_qaozf_27",aj="_exiting_qaozf_28",lj="_row_qaozf_33",Ks={news:tj,reel:rj,marquee:nj,quote:ij,author:sj,preEnter:oj,exiting:aj,row:lj},uj="_button_1l0rm_1",cj="_content_1l0rm_27",hj="_regular_1l0rm_35",dj="_thin_1l0rm_43",Sm={button:uj,content:cj,regular:hj,thin:dj};var zw=(t=>(t[t.REGULAR=0]="REGULAR",t[t.THIN=1]="THIN",t))(zw||{});const fj={0:Sm.regular,1:Sm.thin};function Cr({variant:t=1,children:e,...r}){return R.jsx("button",{...r,className:yt(Sm.button,fj[t],r.className),children:R.jsx("div",{className:Sm.content,children:e})})}const pj="_dialog_nh3kl_1",mj="_close_nh3kl_11",cA={dialog:pj,close:mj},jw=P.forwardRef(function({closeable:e=!0,children:r,...n},i){const s=P.useRef(null);P.useImperativeHandle(i,()=>s.current);const o=s,[a,c]=P.useState(!1);return P.useEffect(()=>{n.open&&!a?(o.current.showModal(),c(!0)):!n.open&&a&&(o.current.close(),c(!1))},[o,n.open,a]),R.jsxs("dialog",{ref:s,...n,open:a,className:yt(cA.dialog,n.className),onCancel:h=>{var d;e||h.preventDefault(),(d=n.onCancel)==null||d.call(n,h)},children:[e&&R.jsx(Cr,{className:cA.close,onClick:()=>{o.current.close()},children:"✖"}),r]})}),gj="_settings_zqczr_1",yj="_row_zqczr_2",$w={settings:gj,row:yj};function vj(){const[t,e]=Ie(h=>[h.state,h.setState]),r=Ie(h=>h.load),[n,i]=P.useState(null),s=Ie(h=>h),o=async h=>{let d;try{const f=await h.text();d=JSON.parse(atob(f))}catch{alert("Invalid save file.");return}e(an.PAUSED),i(d)},a=()=>{const h=document.createElement("input");h.type="file",h.accept=".txt",h.addEventListener("change",()=>{var d;(d=h.files)!=null&&d.length&&o(h.files[0])}),h.click()};return P.useEffect(()=>{!n||t!==an.PAUSED||(r(n),i(null),e(an.RUNNING))},[r,n,e,t]),{exportSave:()=>{const h=new Blob([btoa(JSON.stringify(s))],{type:"text/plain;charset=utf-8"}),d=document.createElement("a");d.href=URL.createObjectURL(h),d.download=`fuyo-clicker-save-${new Date().getTime()}.txt`,d.click()},loadSave:a}}function _j(){const t=Ie(o=>o.reset),e=Ie(o=>o.state),r=Ie(o=>o.setState),[n,i]=P.useState(!1),s=()=>{confirm("Are you sure you want to reset all progress?")&&(r(an.PAUSED),i(!0))};return P.useEffect(()=>{!n||e!==an.PAUSED||(t(),i(!1),r(an.RUNNING))},[t,r,e,n]),{reset:s}}function xj({dialogRef:t}){const{exportSave:e,loadSave:r}=vj(),{reset:n}=_j();return R.jsxs("section",{children:[R.jsx("h2",{children:"Saves"}),R.jsxs("div",{className:$w.row,children:[R.jsx(Cr,{onClick:e,children:"📤 Export Save"}),R.jsx(Cr,{onClick:r,children:"📩 Load Save"})]}),R.jsx(Cr,{onClick:()=>{var i;n(),(i=t.current)==null||i.close()},children:"🛑 Reset Progress"})]})}function wj(){const t=or(s=>s),e=Ie(s=>s.state),r=Ie(s=>s.setState),n=()=>{t.setDebug(!t.debug)},i=()=>{r(e===an.RUNNING?an.PAUSED:an.RUNNING)};return R.jsxs("section",{children:[R.jsx("h2",{children:"Debug"}),R.jsxs(Cr,{onClick:n,children:[t.debug?"✅":"⬜"," Debug mode"]}),t.debug&&R.jsxs(Cr,{onClick:i,children:[e===an.RUNNING?"▶️":"⏸️"," State"]})]})}function hA({type:t,label:e}){const r=or(n=>n.audio);return R.jsxs(Cr,{onClick:()=>{r.mute(t,!r.muted[t])},children:[r.muted[t]?"🔇":"🔉"," ",e]})}function bj(){return R.jsxs("section",{children:[R.jsx("h2",{children:"Audio"}),R.jsxs("div",{className:$w.row,children:[R.jsx(hA,{type:Nh.Music,label:"Music"}),R.jsx(hA,{type:Nh.SFX,label:"Effects"})]})]})}const Sj={[Fn.High]:"High Quality",[Fn.Medium]:"Medium Quality",[Fn.Low]:"Low Quality"};function ov({quality:t}){const e=or(n=>n.quality),r=or(n=>n.setQuality);return R.jsxs(Cr,{onClick:()=>r(t),children:[e===t?"✅":"⬜"," ",Sj[t]]})}function Ej(){return R.jsxs("section",{children:[R.jsx("h2",{children:"Quality"}),R.jsx(ov,{quality:Fn.High}),R.jsx(ov,{quality:Fn.Medium}),R.jsx(ov,{quality:Fn.Low})]})}function Tj(){const t=P.useRef(null);return R.jsxs(R.Fragment,{children:[R.jsx(Cr,{onClick:()=>{var e;return(e=t.current)==null?void 0:e.showModal()},children:"⚙️"}),R.jsxs(jw,{ref:t,className:$w.settings,children:[R.jsx("h1",{children:"Settings"}),R.jsx(Ej,{}),R.jsx(bj,{}),R.jsx(xj,{dialogRef:t}),R.jsx(wj,{})]})]})}const Aj=2.5,Cj=15e3,av=500;function Rj(t){const[e,r]=P.useState(Math.floor(Math.random()*_l.length)),[n,i]=s2({initialEntered:!0,preEnter:!0,timeout:av});return P.useEffect(()=>{const s=_l[e].content.length/Aj*1e3-av,o=window.setTimeout(()=>{i(!1),setTimeout(()=>{r(Math.floor(Math.random()*_l.length)),i(!0)},av)},Math.max(Cj,s));return()=>window.clearTimeout(o)},[e]),R.jsx("div",{...t,className:yt(Ks.news,t.className),children:R.jsxs("div",{className:Ks.reel,children:[R.jsx(qz,{className:Ks.marquee,children:R.jsx("div",{className:yt(Ks.quote,Ks[n.status]),children:_l[e].content})}),R.jsxs("div",{className:yt(Ks.row,Ks[n.status]),children:[R.jsx("div",{className:Ks.author,children:_l[e].author&&`- ${_l[e].author}`}),R.jsx(Tj,{})]})]})})}function kj(t){return e=>{let r=0,n="";if(!isFinite(e))return"Infinity";if(e>=1e6){for(e/=1e3;Math.round(e)>=1e3;)e/=1e3,r++;if(r>=t.length)return"Infinity";n=t[r]}return Math.round(e*1e3)/1e3+n}}const Pj=[""," million"," billion"," trillion"," quadrillion"," quintillion"," sextillion"," septillion"," octillion"," nonillion"," decillion"," undecillion"," duodecillion"," tredecillion"," quattuordecillion"," quindecillion"," sexdecillion"," septendecillion"," octodecillion"," novemdecillion"," vigintillion"," unvigintillion"," duovigintillion"," trevigintillion"," quattuorvigintillion"," quinvigintillion"," sexvigintillion"," septenvigintillion"," octovigintillion"," novemvigintillion"," trigintillion"," untrigintillion"," duotrigintillion"," tretrigintillion"," quattuortrigintillion"," quintrigintillion"," sextrigintillion"," septentrigintillion"," octotrigintillion"," novemtrigintillion"],Ij=kj(Pj);function Ga(t){const e=t<0;t=Math.abs(t);const r=Ij(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return e?"-"+r:r}function o2({value:t,rateMs:e,floor:r}){const n=P.useRef(null),i=P.useRef(),s=P.useRef(performance.now()),o=Ie(c=>c.state);P.useEffect(()=>{s.current=performance.now()},[t,e]);const a=P.useCallback(()=>{if(!n.current||o===an.PAUSED)return;const c=Math.max(0,performance.now()-s.current),h=t+c*e;return n.current.innerText=Ga(r?Math.floor(h):h),i.current=requestAnimationFrame(a),()=>cancelAnimationFrame(i.current)},[n,t,e,r,o]);return P.useEffect(()=>(i.current=requestAnimationFrame(a),()=>cancelAnimationFrame(i.current)),[a]),{counterRef:n}}const Mj="_partners_160hw_1",Nj={partners:Mj};function Dj(){const t=Ie(e=>e.repro.clovers.tier);return R.jsxs("div",{className:Nj.partners,children:[R.jsx("img",{src:Al,style:{opacity:t>0?1:0}}),R.jsx("img",{src:Al,style:{opacity:t>5?1:0}}),R.jsx("img",{src:Al,style:{opacity:t>10?1:0}}),R.jsx("img",{src:Al,style:{opacity:t>15?1:0}}),R.jsx("img",{src:Al,style:{opacity:t>20?1:0}})]})}const Lj="_hero_oghj5_10",Oj="_clover_oghj5_11",Fj="_birth_oghj5_1",Uj="_spawn_oghj5_18",Nf={hero:Lj,clover:Oj,birth:Fj,spawn:Uj};function Bj(){const t=Ie(s=>s.repro.spawn),e=Ie(s=>s.repro.clovers.heroes.spawned),r=or(s=>s.debug),[n,i]=P.useState(!1);return kw({onDragStart:()=>i(!0),onDragEnd:()=>i(!1)}),R.jsxs("div",{className:Nf.hero,children:[r&&R.jsx(Cr,{className:Nf.spawn,onClick:t,children:"Spawn"}),e&&R.jsx(m_,{className:Nf.clover,style:{opacity:n?0:1},id:e.id,job:e.job}),R.jsx(Q4,{children:!!n&&e&&R.jsx(m_,{className:Nf.clover,id:e.id,job:e.job,style:{zIndex:1}})})]})}const zj="_price_1abcz_1",jj="_coins_1abcz_15",$j="_clovers_1abcz_20",lv={price:zj,coins:jj,clovers:$j};function Oh({amount:t,currency:e}){return R.jsx("span",{className:yt(lv.price,e===$a.COINS?lv.coins:lv.clovers),children:Ga(t)})}const Gj="_upgrade_cccou_1",Hj={upgrade:Gj};function Wj(){const t=or(o=>o.audio.play),e=Ie(o=>o.repro.clovers.tier),r=Ie(o=>o.coins.amount),n=Ie(o=>o.repro.upgrade),i=QI(e+1),s=()=>{n()&&(t(oe.Kaching),t(Zc[Math.floor(Math.random()*Zc.length)]))};return R.jsx("div",{className:Hj.upgrade,children:R.jsx(Cr,{variant:zw.THIN,onClick:s,disabled:i>r,children:R.jsxs("div",{children:["Upgrade -"," ",R.jsx(Oh,{amount:i,currency:$a.COINS})]})})})}const Vj="_reproduction_1stq2_1",Xj="_couch_1stq2_22",Yj="_clover_1stq2_29",qj="_spin_1stq2_1",uv={reproduction:Vj,couch:Xj,clover:Yj,spin:qj},Zc=[oe.Smooch1,oe.Smooch2,oe.Smooch3,oe.Smooch4,oe.Smooch5,oe.Smooch6],Qj=P.forwardRef(function(e,r){const n=Ie(d=>d.repro.clovers.amount),i=Ie(d=>d.repro.clovers.rateMs),s=Ie(d=>d.repro.click),{counterRef:o}=o2({value:n,rateMs:i,floor:!0}),a=or(d=>d.audio.play),c=Math.min(i/1,1);Bw({sounds:Zc,intervalRangeMs:[2e4-c*1e4,4e4-c*2e4],enabled:!0});const h=()=>{a(Zc[Math.floor(Math.random()*Zc.length)]),s()};return R.jsxs("div",{...e,ref:r,className:yt(uv.reproduction,e.className),children:[R.jsx(Dj,{}),R.jsxs("header",{children:[R.jsx("h1",{children:"Reproduction"}),R.jsxs("h2",{children:["Clovers: ",R.jsx("span",{ref:o})]}),R.jsxs("h2",{children:["Per second: ",Ga(i*1e3)]})]}),R.jsx("div",{className:uv.couch}),R.jsx(Bj,{}),R.jsx("div",{className:uv.clover,children:R.jsx("button",{onClick:h})}),R.jsx(Wj,{})]})}),Kj="_shop_5zhm7_1",Zj="_header_5zhm7_10",Jj="_background_5zhm7_19",e7="_boxes_5zhm7_25",t7="_clover_5zhm7_52",r7="_items_5zhm7_60",Zs={1:"_1_5zhm7_29",2:"_2_5zhm7_33",3:"_3_5zhm7_38",4:"_4_5zhm7_44",shop:Kj,header:Zj,background:Jj,boxes:e7,clover:t7,items:r7};function a2(){const t=P.useState(null),e=P.useState(null);return{anchor:t,coords:e}}const Em=Math.min,Pa=Math.max,Tm=Math.round,Df=Math.floor,Lo=t=>({x:t,y:t});function dA(t,e,r){return Pa(t,Em(e,r))}function l2(t,e){return typeof t=="function"?t(e):t}function Gw(t){return t.split("-")[0]}function n7(t){return t.split("-")[1]}function u2(t){return t==="x"?"y":"x"}function i7(t){return t==="y"?"height":"width"}function Hw(t){return["top","bottom"].includes(Gw(t))?"y":"x"}function s7(t){return u2(Hw(t))}function o7(t){return{top:0,right:0,bottom:0,left:0,...t}}function a7(t){return typeof t!="number"?o7(t):{top:t,right:t,bottom:t,left:t}}function Am(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function fA(t,e,r){let{reference:n,floating:i}=t;const s=Hw(e),o=s7(e),a=i7(o),c=Gw(e),h=s==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,m=n[a]/2-i[a]/2;let g;switch(c){case"top":g={x:d,y:n.y-i.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-i.width,y:f};break;default:g={x:n.x,y:n.y}}switch(n7(e)){case"start":g[o]-=m*(r&&h?-1:1);break;case"end":g[o]+=m*(r&&h?-1:1);break}return g}const l7=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=fA(h,n,c),m=n,g={},_=0;for(let x=0;x<a.length;x++){const{name:E,fn:w}=a[x],{x:b,y:S,data:A,reset:k}=await w({x:d,y:f,initialPlacement:n,placement:m,strategy:i,middlewareData:g,rects:h,platform:o,elements:{reference:t,floating:e}});if(d=b??d,f=S??f,g={...g,[E]:{...g[E],...A}},k&&_<=50){_++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(h=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:f}=fA(h,m,c)),x=-1;continue}}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function u7(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:h="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=l2(e,t),_=a7(g),E=a[m?f==="floating"?"reference":"floating":f],w=Am(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(E)))==null||r?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:h,rootBoundary:d,strategy:c})),b=f==="floating"?{...o.floating,x:n,y:i}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},k=Am(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:S,strategy:c}):b);return{top:(w.top-k.top+_.top)/A.y,bottom:(k.bottom-w.bottom+_.bottom)/A.y,left:(w.left-k.left+_.left)/A.x,right:(k.right-w.right+_.right)/A.x}}const c2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:w,y:b}=E;return{x:w,y:b}}},...c}=l2(t,e),h={x:r,y:n},d=await u7(e,c),f=Hw(Gw(i)),m=u2(f);let g=h[m],_=h[f];if(s){const E=m==="y"?"top":"left",w=m==="y"?"bottom":"right",b=g+d[E],S=g-d[w];g=dA(b,g,S)}if(o){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=_+d[E],S=_-d[w];_=dA(b,_,S)}const x=a.fn({...e,[m]:g,[f]:_});return{...x,data:{x:x.x-r,y:x.y-n}}}}};function Oo(t){return h2(t)?(t.nodeName||"").toLowerCase():"#document"}function cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ns(t){var e;return(e=(h2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function h2(t){return t instanceof Node||t instanceof cn(t).Node}function Rs(t){return t instanceof Element||t instanceof cn(t).Element}function Yi(t){return t instanceof HTMLElement||t instanceof cn(t).HTMLElement}function pA(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cn(t).ShadowRoot}function fd(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=zn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function c7(t){return["table","td","th"].includes(Oo(t))}function Ww(t){const e=Vw(),r=zn(t);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function h7(t){let e=bu(t);for(;Yi(e)&&!Rg(e);){if(Ww(e))return e;e=bu(e)}return null}function Vw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rg(t){return["html","body","#document"].includes(Oo(t))}function zn(t){return cn(t).getComputedStyle(t)}function kg(t){return Rs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bu(t){if(Oo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pA(t)&&t.host||Ns(t);return pA(e)?e.host:e}function d2(t){const e=bu(t);return Rg(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yi(e)&&fd(e)?e:d2(e)}function Fh(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=d2(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=cn(i);return s?e.concat(o,o.visualViewport||[],fd(i)?i:[],o.frameElement&&r?Fh(o.frameElement):[]):e.concat(i,Fh(i,[],r))}function f2(t){const e=zn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Yi(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=Tm(r)!==s||Tm(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function Xw(t){return Rs(t)?t:t.contextElement}function ru(t){const e=Xw(t);if(!Yi(e))return Lo(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=f2(e);let o=(s?Tm(r.width):r.width)/n,a=(s?Tm(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const d7=Lo(0);function p2(t){const e=cn(t);return!Vw()||!e.visualViewport?d7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function f7(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==cn(t)?!1:e}function Ha(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=Xw(t);let o=Lo(1);e&&(n?Rs(n)&&(o=ru(n)):o=ru(t));const a=f7(s,r,n)?p2(s):Lo(0);let c=(i.left+a.x)/o.x,h=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const m=cn(s),g=n&&Rs(n)?cn(n):n;let _=m.frameElement;for(;_&&n&&g!==m;){const x=ru(_),E=_.getBoundingClientRect(),w=zn(_),b=E.left+(_.clientLeft+parseFloat(w.paddingLeft))*x.x,S=E.top+(_.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,h*=x.y,d*=x.x,f*=x.y,c+=b,h+=S,_=cn(_).frameElement}}return Am({width:d,height:f,x:c,y:h})}function p7(t){let{rect:e,offsetParent:r,strategy:n}=t;const i=Yi(r),s=Ns(r);if(r===s)return e;let o={scrollLeft:0,scrollTop:0},a=Lo(1);const c=Lo(0);if((i||!i&&n!=="fixed")&&((Oo(r)!=="body"||fd(s))&&(o=kg(r)),Yi(r))){const h=Ha(r);a=ru(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+c.x,y:e.y*a.y-o.scrollTop*a.y+c.y}}function m7(t){return Array.from(t.getClientRects())}function m2(t){return Ha(Ns(t)).left+kg(t).scrollLeft}function g7(t){const e=Ns(t),r=kg(t),n=t.ownerDocument.body,i=Pa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Pa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+m2(t);const a=-r.scrollTop;return zn(n).direction==="rtl"&&(o+=Pa(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}function y7(t,e){const r=cn(t),n=Ns(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const h=Vw();(!h||h&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function v7(t,e){const r=Ha(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Yi(t)?ru(t):Lo(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,h=n*s.y;return{width:o,height:a,x:c,y:h}}function mA(t,e,r){let n;if(e==="viewport")n=y7(t,r);else if(e==="document")n=g7(Ns(t));else if(Rs(e))n=v7(e,r);else{const i=p2(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Am(n)}function g2(t,e){const r=bu(t);return r===e||!Rs(r)||Rg(r)?!1:zn(r).position==="fixed"||g2(r,e)}function _7(t,e){const r=e.get(t);if(r)return r;let n=Fh(t,[],!1).filter(a=>Rs(a)&&Oo(a)!=="body"),i=null;const s=zn(t).position==="fixed";let o=s?bu(t):t;for(;Rs(o)&&!Rg(o);){const a=zn(o),c=Ww(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||fd(o)&&!c&&g2(t,o))?n=n.filter(d=>d!==o):i=a,o=bu(o)}return e.set(t,n),n}function x7(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?_7(e,this._c):[].concat(r),n],a=o[0],c=o.reduce((h,d)=>{const f=mA(e,d,i);return h.top=Pa(f.top,h.top),h.right=Em(f.right,h.right),h.bottom=Em(f.bottom,h.bottom),h.left=Pa(f.left,h.left),h},mA(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function w7(t){return f2(t)}function b7(t,e,r){const n=Yi(e),i=Ns(e),s=r==="fixed",o=Ha(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Lo(0);if(n||!n&&!s)if((Oo(e)!=="body"||fd(i))&&(a=kg(e)),n){const h=Ha(e,!0,s,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else i&&(c.x=m2(i));return{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function gA(t,e){return!Yi(t)||zn(t).position==="fixed"?null:e?e(t):t.offsetParent}function y2(t,e){const r=cn(t);if(!Yi(t))return r;let n=gA(t,e);for(;n&&c7(n)&&zn(n).position==="static";)n=gA(n,e);return n&&(Oo(n)==="html"||Oo(n)==="body"&&zn(n).position==="static"&&!Ww(n))?r:n||h7(t)||r}const S7=async function(t){let{reference:e,floating:r,strategy:n}=t;const i=this.getOffsetParent||y2,s=this.getDimensions;return{reference:b7(e,await i(r),n),floating:{x:0,y:0,...await s(r)}}};function E7(t){return zn(t).direction==="rtl"}const T7={convertOffsetParentRelativeRectToViewportRelativeRect:p7,getDocumentElement:Ns,getClippingRect:x7,getOffsetParent:y2,getElementRects:S7,getClientRects:m7,getDimensions:w7,getScale:ru,isElement:Rs,isRTL:E7};function A7(t,e){let r=null,n;const i=Ns(t);function s(){clearTimeout(n),r&&r.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const{left:h,top:d,width:f,height:m}=t.getBoundingClientRect();if(a||e(),!f||!m)return;const g=Df(d),_=Df(i.clientWidth-(h+f)),x=Df(i.clientHeight-(d+m)),E=Df(h),b={rootMargin:-g+"px "+-_+"px "+-x+"px "+-E+"px",threshold:Pa(0,Em(1,c))||1};let S=!0;function A(k){const L=k[0].intersectionRatio;if(L!==c){if(!S)return o();L?o(!1,L):n=setTimeout(()=>{o(!1,1e-7)},100)}S=!1}try{r=new IntersectionObserver(A,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(A,b)}r.observe(t)}return o(!0),s}function v2(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,h=Xw(t),d=i||s?[...h?Fh(h):[],...Fh(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),s&&w.addEventListener("resize",r)});const f=h&&a?A7(h,r):null;let m=-1,g=null;o&&(g=new ResizeObserver(w=>{let[b]=w;b&&b.target===h&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{g&&g.observe(e)})),r()}),h&&!c&&g.observe(h),g.observe(e));let _,x=c?Ha(t):null;c&&E();function E(){const w=Ha(t);x&&(w.x!==x.x||w.y!==x.y||w.width!==x.width||w.height!==x.height)&&r(),x=w,_=requestAnimationFrame(E)}return r(),()=>{d.forEach(w=>{i&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),f&&f(),g&&g.disconnect(),g=null,c&&cancelAnimationFrame(_)}}const C7=(t,e,r)=>{const n=new Map,i={platform:T7,...r},s={...i.platform,_c:n};return l7(t,e,{...i,platform:s})};var kp=typeof document<"u"?P.useLayoutEffect:P.useEffect;function Cm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!Cm(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Cm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function _2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yA(t,e){const r=_2(t);return Math.round(e*r)/r}function vA(t){const e=P.useRef(t);return kp(()=>{e.current=t}),e}function x2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:h}=t,[d,f]=P.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=P.useState(n);Cm(m,n)||g(n);const[_,x]=P.useState(null),[E,w]=P.useState(null),b=P.useCallback(ae=>{ae!=L.current&&(L.current=ae,x(ae))},[x]),S=P.useCallback(ae=>{ae!==I.current&&(I.current=ae,w(ae))},[w]),A=s||_,k=o||E,L=P.useRef(null),I=P.useRef(null),M=P.useRef(d),z=vA(c),$=vA(i),Z=P.useCallback(()=>{if(!L.current||!I.current)return;const ae={placement:e,strategy:r,middleware:m};$.current&&(ae.platform=$.current),C7(L.current,I.current,ae).then(le=>{const D={...le,isPositioned:!0};Y.current&&!Cm(M.current,D)&&(M.current=D,ms.flushSync(()=>{f(D)}))})},[m,e,r,$]);kp(()=>{h===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(ae=>({...ae,isPositioned:!1})))},[h]);const Y=P.useRef(!1);kp(()=>(Y.current=!0,()=>{Y.current=!1}),[]),kp(()=>{if(A&&(L.current=A),k&&(I.current=k),A&&k){if(z.current)return z.current(A,k,Z);Z()}},[A,k,Z,z]);const O=P.useMemo(()=>({reference:L,floating:I,setReference:b,setFloating:S}),[b,S]),W=P.useMemo(()=>({reference:A,floating:k}),[A,k]),de=P.useMemo(()=>{const ae={position:r,left:0,top:0};if(!W.floating)return ae;const le=yA(W.floating,d.x),D=yA(W.floating,d.y);return a?{...ae,transform:"translate("+le+"px, "+D+"px)",..._2(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:le,top:D}},[r,a,W.floating,d.x,d.y]);return P.useMemo(()=>({...d,update:Z,refs:O,elements:W,floatingStyles:de}),[d,Z,O,W,de])}const R7="_tooltip_1vzyl_1",k7={tooltip:R7};function w2({anchor:t,initialCoords:e,children:r}){const n=P.useRef({...e??{x:-1,y:-1}}),[i,s]=P.useState(e!==void 0),o=P.useMemo(()=>({getBoundingClientRect(){const f=t.getBoundingClientRect();return{width:0,height:0,x:(f==null?void 0:f.x)??0,y:n.current.y,left:(f==null?void 0:f.x)??0,right:(f==null?void 0:f.x)??0,top:n.current.y,bottom:n.current.y}}}),[t]),{refs:a,floatingStyles:c,update:h}=x2({placement:"left",elements:{reference:o},middleware:[c2()],whileElementsMounted:v2}),d=P.useCallback(f=>{n.current={x:f.clientX,y:f.clientY},i||s(!0),h()},[h,i]);return P.useEffect(()=>(document.addEventListener("mousemove",d),()=>document.removeEventListener("mousemove",d)),[d]),i&&R.jsx("div",{ref:a.setFloating,className:k7.tooltip,style:c,children:r})}const P7=""+new URL("frame-0-6264c1ea.png",import.meta.url).href,I7=""+new URL("frame-1-9e9fbf0f.png",import.meta.url).href,M7=""+new URL("frame-2-1fd8c14c.png",import.meta.url).href,N7=""+new URL("frame-3-6db86171.png",import.meta.url).href,_A=[P7,I7,M7,N7],D7="_upgrade_1deyw_1",L7="_hidden_1deyw_17",xA={upgrade:D7,hidden:L7};function O7({type:t,id:e,affordable:r,setActive:n,onBuy:i,setCoords:s}){const o=dd(t+e);return R.jsx("button",{onClick:()=>r&&i(t,Number(e)),onMouseEnter:a=>{n({id:Number(e),type:t}),s({x:a.clientX,y:a.clientY})},onMouseLeave:()=>n(null),className:yt(xA.upgrade,!r&&xA.hidden),style:{backgroundImage:`url(${ka[t][e].image}), url(${_A[Math.round(Ut(0,_A.length-1,o))]})`,transform:`rotateZ(${Ut(-12,12,o)}deg)`}})}const F7="_container_dn6us_1",U7="_upgrades_dn6us_6",B7="_items_dn6us_18",z7="_expandable_dn6us_29",Lf={container:F7,upgrades:U7,items:B7,expandable:z7},j7=5;function $7(t){var _;const e=Ie(x=>x.upgrades),r=Ie(x=>x.coins.amount),n=or(x=>x.audio.play),i=P.useRef(null),[s,o]=P.useState(null),{anchor:[a,c],coords:[h,d]}=a2(),f=e.active(),m=Object.entries(f).reduce((x,[,E])=>x+Object.keys(E).length,0),g=(x,E)=>{e.buy(x,E)&&n(oe.Kaching)};return R.jsxs(R.Fragment,{children:[R.jsx("div",{...t,className:[t.className,Lf.container].join(" "),ref:i,children:R.jsx("div",{className:Lf.upgrades,ref:c,onMouseLeave:()=>o(null),children:R.jsx("div",{className:yt(Lf.items,m>j7&&Lf.expandable),children:Object.entries(f).map(([x,E])=>Object.entries(E).map(([w,b])=>R.jsx(O7,{type:x,id:Number(w),affordable:r>=b.price,onBuy:g,setActive:o,setCoords:d},Number(x)+Number(w))))})})}),s!==null&&R.jsxs(w2,{anchor:a,initialCoords:h,children:[R.jsx("h1",{children:ka[s.type][s.id].name}),R.jsx("h2",{children:R.jsx(Oh,{amount:ka[s.type][s.id].price,currency:$a.COINS})}),R.jsx("h3",{children:(_=ka[s.type][s.id])==null?void 0:_.description})]})]})}const G7="_button_3kol6_10",H7="_row_3kol6_17",W7="_thumbnail_3kol6_24",V7="_details_3kol6_30",X7="_purchased_3kol6_34",pc={button:G7,"slide-left":"_slide-left_3kol6_1",row:H7,thumbnail:W7,details:V7,purchased:X7};function Y7({item:{name:t,price:{currency:e},thumbnail:r},price:n,affordable:i,purchased:s,...o}){return R.jsx("li",{...o,children:R.jsx(Cr,{variant:zw.REGULAR,disabled:!i,className:pc.button,children:R.jsxs("div",{className:pc.row,children:[R.jsxs("div",{className:pc.details,children:[R.jsx("img",{className:pc.thumbnail,src:r}),R.jsxs("div",{children:[R.jsx("div",{children:t}),R.jsx("div",{children:R.jsx(Oh,{amount:n,currency:e})})]})]}),R.jsx("div",{className:pc.purchased,children:s})]})})})}const q7="_stats_1pj2b_7",Q7={stats:q7},K7=P.memo(function({itemId:e,...r}){const n=Ie(g=>g.coins),i=Ie(g=>g.lanes.types),s=Ie(g=>g.upgrades.unlocked),o=Ie(g=>g.boosts.types),a=Uw(s),c=Er[e].laneType===void 0;let h=0;c?h=HI(n.clickers,s,Cg(i))*1e3:h=$I(i,a)[Er[e].laneType]*1e3;let d=0;if(c)n.clickers===0?d=jI*1e3:d=h/n.clickers;else{const g=i[Er[e].laneType].buildings;g===0?d=An[Er[e].laneType].rateMs*1e3:d=h/g}const f=WI(o),m=h===0?0:Ga(h*f/(n.rateMs*1e3)*100);return R.jsxs(w2,{...r,children:[R.jsxs("div",{children:[R.jsx("h1",{children:Er[e].name}),R.jsxs("h2",{children:["Produces"," ",R.jsx(Oh,{amount:d*f,currency:$a.COINS})," ","per second"]})]}),R.jsx("hr",{}),R.jsxs("div",{className:Q7.stats,children:[R.jsxs("h3",{children:["Total production"," ",R.jsx(Oh,{amount:h*f,currency:$a.COINS})," ","per second"]}),R.jsxs("h3",{children:[m,"% of total coins per second"]})]})]})},(t,e)=>t.itemId===e.itemId),cv=4,Z7=16*10,J7=P.forwardRef(function(e,r){const n=Ie(x=>x.shop),i=Ie(x=>x.coins),s=Ie(x=>x.repro.clovers.amount),o=or(x=>x.audio.play),[a,c]=P.useState(null),{anchor:[h,d],coords:[f,m]}=a2(),g=Ie(x=>Math.round(Cg(x.lanes.types)/Z7*cv)),_=x=>{var w;if(!n.buy(x)||(o(oe.Kaching),!((w=Er[x].sounds)!=null&&w.length)))return;const E=Er[x].sounds[Math.floor(Math.random()*Er[x].sounds.length)];o(E,{volume:1})};return R.jsxs("div",{...e,ref:r,className:yt(Zs.shop,e.className),children:[R.jsxs("div",{className:Zs.header,children:[R.jsx("div",{className:Zs.background}),R.jsx("div",{className:yt(Zs.boxes,g>0&&Zs[g],g>cv&&Zs[cv])}),R.jsx("div",{className:Zs.clover})]}),R.jsx($7,{}),R.jsx("ul",{className:Zs.items,onMouseLeave:()=>c(null),ref:d,children:Object.entries(n.unlocked).filter(([,x])=>!!x).map(([x])=>{const E=n.items[x],w=YI(x,E.purchased),S=(Er[x].price.currency===$a.COINS?i.amount:s)>=w;return R.jsx(Y7,{item:Er[x],price:w,affordable:S,purchased:E.purchased,onClick:()=>S&&_(x),onMouseEnter:A=>{c(x),m({x:A.clientX,y:A.clientY})}},x)})}),a!==null&&R.jsx(K7,{anchor:h,initialCoords:f,itemId:a})]})});var b2={exports:{}},Qa=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Qa||{}),S2=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(S2||{}),__=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(__||{}),Ae=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Ae||{}),si=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(si||{}),ne=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ne||{}),nu=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(nu||{}),be=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(be||{}),fe=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(fe||{}),vs=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(vs||{}),bs=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(bs||{}),qi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(qi||{}),Wr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Wr||{}),Fi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Fi||{}),Yw=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Yw||{}),Dn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Dn||{}),Ot=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Ot||{}),Mt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Mt||{}),Gi=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Gi||{});const e9={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},pe={ADAPTER:e9,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var hv=/iPhone/i,wA=/iPod/i,bA=/iPad/i,SA=/\biOS-universal(?:.+)Mac\b/i,dv=/\bAndroid(?:.+)Mobile\b/i,EA=/Android/i,xl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Of=/Silk/i,as=/Windows Phone/i,TA=/\bWindows(?:.+)ARM\b/i,AA=/BlackBerry/i,CA=/BB10/i,RA=/Opera Mini/i,kA=/\b(CriOS|Chrome)(?:.+)Mobile/i,PA=/Mobile(?:.+)Firefox\b/i,IA=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function t9(t){return function(e){return e.test(t)}}function MA(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=t9(r),s={apple:{phone:i(hv)&&!i(as),ipod:i(wA),tablet:!i(hv)&&(i(bA)||IA(e))&&!i(as),universal:i(SA),device:(i(hv)||i(wA)||i(bA)||i(SA)||IA(e))&&!i(as)},amazon:{phone:i(xl),tablet:!i(xl)&&i(Of),device:i(xl)||i(Of)},android:{phone:!i(as)&&i(xl)||!i(as)&&i(dv),tablet:!i(as)&&!i(xl)&&!i(dv)&&(i(Of)||i(EA)),device:!i(as)&&(i(xl)||i(Of)||i(dv)||i(EA))||i(/\bokhttp\b/i)},windows:{phone:i(as),tablet:i(TA),device:i(as)||i(TA)},other:{blackberry:i(AA),blackberry10:i(CA),opera:i(RA),firefox:i(PA),chrome:i(kA),device:i(AA)||i(CA)||i(RA)||i(PA)||i(kA)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const r9=MA.default??MA,_s=r9(globalThis.navigator);pe.RETINA_PREFIX=/@([0-9\.]+)x/;pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var E2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,h,d){this.fn=c,this.context=h,this.once=d||!1}function s(c,h,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,m),_=r?r+h:h;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],g]:c._events[_].push(g):(c._events[_]=g,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],d,f;if(this._eventsCount===0)return h;for(f in d=this._events)e.call(d,f)&&h.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},a.prototype.listeners=function(h){var d=r?r+h:h,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,_=new Array(g);m<g;m++)_[m]=f[m].fn;return _},a.prototype.listenerCount=function(h){var d=r?r+h:h,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(h,d,f,m,g,_){var x=r?r+h:h;if(!this._events[x])return!1;var E=this._events[x],w=arguments.length,b,S;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),w){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,f),!0;case 4:return E.fn.call(E.context,d,f,m),!0;case 5:return E.fn.call(E.context,d,f,m,g),!0;case 6:return E.fn.call(E.context,d,f,m,g,_),!0}for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];E.fn.apply(E.context,b)}else{var A=E.length,k;for(S=0;S<A;S++)switch(E[S].once&&this.removeListener(h,E[S].fn,void 0,!0),w){case 1:E[S].fn.call(E[S].context);break;case 2:E[S].fn.call(E[S].context,d);break;case 3:E[S].fn.call(E[S].context,d,f);break;case 4:E[S].fn.call(E[S].context,d,f,m);break;default:if(!b)for(k=1,b=new Array(w-1);k<w;k++)b[k-1]=arguments[k];E[S].fn.apply(E[S].context,b)}}return!0},a.prototype.on=function(h,d,f){return s(this,h,d,f,!1)},a.prototype.once=function(h,d,f){return s(this,h,d,f,!0)},a.prototype.removeListener=function(h,d,f,m){var g=r?r+h:h;if(!this._events[g])return this;if(!d)return o(this,g),this;var _=this._events[g];if(_.fn)_.fn===d&&(!m||_.once)&&(!f||_.context===f)&&o(this,g);else{for(var x=0,E=[],w=_.length;x<w;x++)(_[x].fn!==d||m&&!_[x].once||f&&_[x].context!==f)&&E.push(_[x]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},a.prototype.removeAllListeners=function(h){var d;return h?(d=r?r+h:h,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(E2);var n9=E2.exports;const pd=rd(n9);var qw={exports:{}};qw.exports=Pg;qw.exports.default=Pg;function Pg(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=T2(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,c,h,d,f,m,g;if(n&&(s=l9(t,e,s,r)),t.length>80*r){a=h=t[0],c=d=t[1];for(var _=r;_<i;_+=r)f=t[_],m=t[_+1],f<a&&(a=f),m<c&&(c=m),f>h&&(h=f),m>d&&(d=m);g=Math.max(h-a,d-c),g=g!==0?32767/g:0}return Uh(s,o,r,a,c,g,0),o}function T2(t,e,r,n,i){var s,o;if(i===b_(t,e,r,n)>0)for(s=e;s<r;s+=n)o=NA(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=NA(s,t[s],t[s+1],o);return o&&Ig(o,o.next)&&(zh(o),o=o.next),o}function Wa(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Ig(r,r.next)||mt(r.prev,r,r.next)===0)){if(zh(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Uh(t,e,r,n,i,s,o){if(t){!o&&s&&f9(t,n,i,s);for(var a=t,c,h;t.prev!==t.next;){if(c=t.prev,h=t.next,s?s9(t,n,i,s):i9(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(h.i/r|0),zh(t),t=h.next,a=h.next;continue}if(t=h,t===a){o?o===1?(t=o9(Wa(t),e,r),Uh(t,e,r,n,i,s,2)):o===2&&a9(t,e,r,n,i,s):Uh(Wa(t),e,r,n,i,s,1);break}}}}function i9(t){var e=t.prev,r=t,n=t.next;if(mt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,c=r.y,h=n.y,d=i<s?i<o?i:o:s<o?s:o,f=a<c?a<h?a:h:c<h?c:h,m=i>s?i>o?i:o:s>o?s:o,g=a>c?a>h?a:h:c>h?c:h,_=n.next;_!==e;){if(_.x>=d&&_.x<=m&&_.y>=f&&_.y<=g&&Vl(i,a,s,c,o,h,_.x,_.y)&&mt(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function s9(t,e,r,n){var i=t.prev,s=t,o=t.next;if(mt(i,s,o)>=0)return!1;for(var a=i.x,c=s.x,h=o.x,d=i.y,f=s.y,m=o.y,g=a<c?a<h?a:h:c<h?c:h,_=d<f?d<m?d:m:f<m?f:m,x=a>c?a>h?a:h:c>h?c:h,E=d>f?d>m?d:m:f>m?f:m,w=x_(g,_,e,r,n),b=x_(x,E,e,r,n),S=t.prevZ,A=t.nextZ;S&&S.z>=w&&A&&A.z<=b;){if(S.x>=g&&S.x<=x&&S.y>=_&&S.y<=E&&S!==i&&S!==o&&Vl(a,d,c,f,h,m,S.x,S.y)&&mt(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=g&&A.x<=x&&A.y>=_&&A.y<=E&&A!==i&&A!==o&&Vl(a,d,c,f,h,m,A.x,A.y)&&mt(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=w;){if(S.x>=g&&S.x<=x&&S.y>=_&&S.y<=E&&S!==i&&S!==o&&Vl(a,d,c,f,h,m,S.x,S.y)&&mt(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=b;){if(A.x>=g&&A.x<=x&&A.y>=_&&A.y<=E&&A!==i&&A!==o&&Vl(a,d,c,f,h,m,A.x,A.y)&&mt(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function o9(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Ig(i,s)&&A2(i,n,n.next,s)&&Bh(i,s)&&Bh(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),zh(n),zh(n.next),n=t=s),n=n.next}while(n!==t);return Wa(n)}function a9(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&g9(o,a)){var c=C2(o,a);o=Wa(o,o.next),c=Wa(c,c.next),Uh(o,e,r,n,i,s,0),Uh(c,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function l9(t,e,r,n){var i=[],s,o,a,c,h;for(s=0,o=e.length;s<o;s++)a=e[s]*n,c=s<o-1?e[s+1]*n:t.length,h=T2(t,a,c,n,!1),h===h.next&&(h.steiner=!0),i.push(m9(h));for(i.sort(u9),s=0;s<i.length;s++)r=c9(i[s],r);return r}function u9(t,e){return t.x-e.x}function c9(t,e){var r=h9(t,e);if(!r)return e;var n=C2(r,t);return Wa(n,n.next),Wa(r,r.next)}function h9(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,h=o.x,d=o.y,f=1/0,m;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&Vl(i<d?n:s,i,h,d,i<d?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),Bh(r,t)&&(m<f||m===f&&(r.x>o.x||r.x===o.x&&d9(o,r)))&&(o=r,f=m)),r=r.next;while(r!==c);return o}function d9(t,e){return mt(t.prev,t,e.prev)<0&&mt(e.next,t,t.next)<0}function f9(t,e,r,n){var i=t;do i.z===0&&(i.z=x_(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,p9(i)}function p9(t){var e,r,n,i,s,o,a,c,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ,!!n);e++);for(c=h;a>0||c>0&&n;)a!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return t}function x_(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function m9(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Vl(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function g9(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!y9(t,e)&&(Bh(t,e)&&Bh(e,t)&&v9(t,e)&&(mt(t.prev,t,e.prev)||mt(t,e.prev,e))||Ig(t,e)&&mt(t.prev,t,t.next)>0&&mt(e.prev,e,e.next)>0)}function mt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Ig(t,e){return t.x===e.x&&t.y===e.y}function A2(t,e,r,n){var i=Uf(mt(t,e,r)),s=Uf(mt(t,e,n)),o=Uf(mt(r,n,t)),a=Uf(mt(r,n,e));return!!(i!==s&&o!==a||i===0&&Ff(t,r,e)||s===0&&Ff(t,n,e)||o===0&&Ff(r,t,n)||a===0&&Ff(r,e,n))}function Ff(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Uf(t){return t>0?1:t<0?-1:0}function y9(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&A2(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Bh(t,e){return mt(t.prev,t,t.next)<0?mt(t,e,t.next)>=0&&mt(t,t.prev,e)>=0:mt(t,e,t.prev)<0||mt(t,t.next,e)<0}function v9(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function C2(t,e){var r=new w_(t.i,t.x,t.y),n=new w_(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function NA(t,e,r,n){var i=new w_(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function zh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w_(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Pg.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(b_(t,0,s,r));if(i)for(var a=0,c=e.length;a<c;a++){var h=e[a]*r,d=a<c-1?e[a+1]*r:t.length;o-=Math.abs(b_(t,h,d,r))}var f=0;for(a=0;a<n.length;a+=3){var m=n[a]*r,g=n[a+1]*r,_=n[a+2]*r;f+=Math.abs((t[m]-t[_])*(t[g+1]-t[m+1])-(t[m]-t[g])*(t[_+1]-t[m+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function b_(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Pg.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var _9=qw.exports;const x9=rd(_9);var Rm={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Rm.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof v0=="object"&&v0;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,c=36,h=1,d=26,f=38,m=700,g=72,_=128,x="-",E=/^xn--/,w=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=c-h,k=Math.floor,L=String.fromCharCode,I;function M(U){throw new RangeError(S[U])}function z(U,j){for(var ie=U.length,Se=[];ie--;)Se[ie]=j(U[ie]);return Se}function $(U,j){var ie=U.split("@"),Se="";ie.length>1&&(Se=ie[0]+"@",U=ie[1]),U=U.replace(b,".");var we=U.split("."),$e=z(we,j).join(".");return Se+$e}function Z(U){for(var j=[],ie=0,Se=U.length,we,$e;ie<Se;)we=U.charCodeAt(ie++),we>=55296&&we<=56319&&ie<Se?($e=U.charCodeAt(ie++),($e&64512)==56320?j.push(((we&1023)<<10)+($e&1023)+65536):(j.push(we),ie--)):j.push(we);return j}function Y(U){return z(U,function(j){var ie="";return j>65535&&(j-=65536,ie+=L(j>>>10&1023|55296),j=56320|j&1023),ie+=L(j),ie}).join("")}function O(U){return U-48<10?U-22:U-65<26?U-65:U-97<26?U-97:c}function W(U,j){return U+22+75*(U<26)-((j!=0)<<5)}function de(U,j,ie){var Se=0;for(U=ie?k(U/m):U>>1,U+=k(U/j);U>A*d>>1;Se+=c)U=k(U/A);return k(Se+(A+1)*U/(U+f))}function ae(U){var j=[],ie=U.length,Se,we=0,$e=_,Te=g,ze,Et,kt,je,Pe,Ge,Fe,Pt,Zt;for(ze=U.lastIndexOf(x),ze<0&&(ze=0),Et=0;Et<ze;++Et)U.charCodeAt(Et)>=128&&M("not-basic"),j.push(U.charCodeAt(Et));for(kt=ze>0?ze+1:0;kt<ie;){for(je=we,Pe=1,Ge=c;kt>=ie&&M("invalid-input"),Fe=O(U.charCodeAt(kt++)),(Fe>=c||Fe>k((a-we)/Pe))&&M("overflow"),we+=Fe*Pe,Pt=Ge<=Te?h:Ge>=Te+d?d:Ge-Te,!(Fe<Pt);Ge+=c)Zt=c-Pt,Pe>k(a/Zt)&&M("overflow"),Pe*=Zt;Se=j.length+1,Te=de(we-je,Se,je==0),k(we/Se)>a-$e&&M("overflow"),$e+=k(we/Se),we%=Se,j.splice(we++,0,$e)}return Y(j)}function le(U){var j,ie,Se,we,$e,Te,ze,Et,kt,je,Pe,Ge=[],Fe,Pt,Zt,Nr;for(U=Z(U),Fe=U.length,j=_,ie=0,$e=g,Te=0;Te<Fe;++Te)Pe=U[Te],Pe<128&&Ge.push(L(Pe));for(Se=we=Ge.length,we&&Ge.push(x);Se<Fe;){for(ze=a,Te=0;Te<Fe;++Te)Pe=U[Te],Pe>=j&&Pe<ze&&(ze=Pe);for(Pt=Se+1,ze-j>k((a-ie)/Pt)&&M("overflow"),ie+=(ze-j)*Pt,j=ze,Te=0;Te<Fe;++Te)if(Pe=U[Te],Pe<j&&++ie>a&&M("overflow"),Pe==j){for(Et=ie,kt=c;je=kt<=$e?h:kt>=$e+d?d:kt-$e,!(Et<je);kt+=c)Nr=Et-je,Zt=c-je,Ge.push(L(W(je+Nr%Zt,0))),Et=k(Nr/Zt);Ge.push(L(W(Et,0))),$e=de(ie,Pt,Se==we),ie=0,++Se}++ie,++j}return Ge.join("")}function D(U){return $(U,function(j){return E.test(j)?ae(j.slice(4).toLowerCase()):j})}function V(U){return $(U,function(j){return w.test(j)?"xn--"+le(j):j})}if(o={version:"1.4.1",ucs2:{decode:Z,encode:Y},decode:ae,encode:le,toASCII:V,toUnicode:D},n&&i)if(t.exports==n)i.exports=o;else for(I in o)o.hasOwnProperty(I)&&(n[I]=o[I]);else r.punycode=o})(v0)})(Rm,Rm.exports);var w9=Rm.exports,b9=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},DA=typeof Symbol<"u"&&Symbol,S9=b9,E9=function(){return typeof DA!="function"||typeof Symbol!="function"||typeof DA("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:S9()},LA={foo:{}},T9=Object,A9=function(){return{__proto__:LA}.foo===LA.foo&&!({__proto__:null}instanceof T9)},C9="Function.prototype.bind called on incompatible ",R9=Object.prototype.toString,k9=Math.max,P9="[object Function]",OA=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},I9=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},M9=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},N9=function(e){var r=this;if(typeof r!="function"||R9.apply(r)!==P9)throw new TypeError(C9+r);for(var n=I9(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,OA(n,arguments));return Object(d)===d?d:this}return r.apply(e,OA(n,arguments))},o=k9(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+M9(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},D9=N9,Qw=Function.prototype.bind||D9,L9=Qw,O9=L9.call(Function.call,Object.prototype.hasOwnProperty),De,Su=SyntaxError,R2=Function,iu=TypeError,fv=function(t){try{return R2('"use strict"; return ('+t+").constructor;")()}catch{}},Ia=Object.getOwnPropertyDescriptor;if(Ia)try{Ia({},"")}catch{Ia=null}var pv=function(){throw new iu},F9=Ia?function(){try{return arguments.callee,pv}catch{try{return Ia(arguments,"callee").get}catch{return pv}}}():pv,wl=E9(),U9=A9(),Vt=Object.getPrototypeOf||(U9?function(t){return t.__proto__}:null),Cl={},B9=typeof Uint8Array>"u"||!Vt?De:Vt(Uint8Array),Ma={"%AggregateError%":typeof AggregateError>"u"?De:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?De:ArrayBuffer,"%ArrayIteratorPrototype%":wl&&Vt?Vt([][Symbol.iterator]()):De,"%AsyncFromSyncIteratorPrototype%":De,"%AsyncFunction%":Cl,"%AsyncGenerator%":Cl,"%AsyncGeneratorFunction%":Cl,"%AsyncIteratorPrototype%":Cl,"%Atomics%":typeof Atomics>"u"?De:Atomics,"%BigInt%":typeof BigInt>"u"?De:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?De:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?De:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?De:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?De:Float32Array,"%Float64Array%":typeof Float64Array>"u"?De:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?De:FinalizationRegistry,"%Function%":R2,"%GeneratorFunction%":Cl,"%Int8Array%":typeof Int8Array>"u"?De:Int8Array,"%Int16Array%":typeof Int16Array>"u"?De:Int16Array,"%Int32Array%":typeof Int32Array>"u"?De:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":wl&&Vt?Vt(Vt([][Symbol.iterator]())):De,"%JSON%":typeof JSON=="object"?JSON:De,"%Map%":typeof Map>"u"?De:Map,"%MapIteratorPrototype%":typeof Map>"u"||!wl||!Vt?De:Vt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?De:Promise,"%Proxy%":typeof Proxy>"u"?De:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?De:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?De:Set,"%SetIteratorPrototype%":typeof Set>"u"||!wl||!Vt?De:Vt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?De:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":wl&&Vt?Vt(""[Symbol.iterator]()):De,"%Symbol%":wl?Symbol:De,"%SyntaxError%":Su,"%ThrowTypeError%":F9,"%TypedArray%":B9,"%TypeError%":iu,"%Uint8Array%":typeof Uint8Array>"u"?De:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?De:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?De:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?De:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?De:WeakMap,"%WeakRef%":typeof WeakRef>"u"?De:WeakRef,"%WeakSet%":typeof WeakSet>"u"?De:WeakSet};if(Vt)try{null.error}catch(t){var z9=Vt(Vt(t));Ma["%Error.prototype%"]=z9}var j9=function t(e){var r;if(e==="%AsyncFunction%")r=fv("async function () {}");else if(e==="%GeneratorFunction%")r=fv("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=fv("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Vt&&(r=Vt(i.prototype))}return Ma[e]=r,r},FA={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},md=Qw,km=O9,$9=md.call(Function.call,Array.prototype.concat),G9=md.call(Function.apply,Array.prototype.splice),UA=md.call(Function.call,String.prototype.replace),Pm=md.call(Function.call,String.prototype.slice),H9=md.call(Function.call,RegExp.prototype.exec),W9=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V9=/\\(\\)?/g,X9=function(e){var r=Pm(e,0,1),n=Pm(e,-1);if(r==="%"&&n!=="%")throw new Su("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Su("invalid intrinsic syntax, expected opening `%`");var i=[];return UA(e,W9,function(s,o,a,c){i[i.length]=a?UA(c,V9,"$1"):o||s}),i},Y9=function(e,r){var n=e,i;if(km(FA,n)&&(i=FA[n],n="%"+i[0]+"%"),km(Ma,n)){var s=Ma[n];if(s===Cl&&(s=j9(n)),typeof s>"u"&&!r)throw new iu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Su("intrinsic "+e+" does not exist!")},Kw=function(e,r){if(typeof e!="string"||e.length===0)throw new iu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new iu('"allowMissing" argument must be a boolean');if(H9(/^%?[^%]*%?$/,e)===null)throw new Su("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=X9(e),i=n.length>0?n[0]:"",s=Y9("%"+i+"%",r),o=s.name,a=s.value,c=!1,h=s.alias;h&&(i=h[0],G9(n,$9([0,1],h)));for(var d=1,f=!0;d<n.length;d+=1){var m=n[d],g=Pm(m,0,1),_=Pm(m,-1);if((g==='"'||g==="'"||g==="`"||_==='"'||_==="'"||_==="`")&&g!==_)throw new Su("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(c=!0),i+="."+m,o="%"+i+"%",km(Ma,o))a=Ma[o];else if(a!=null){if(!(m in a)){if(!r)throw new iu("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ia&&d+1>=n.length){var x=Ia(a,m);f=!!x,f&&"get"in x&&!("originalValue"in x.get)?a=x.get:a=a[m]}else f=km(a,m),a=a[m];f&&!c&&(Ma[o]=a)}}return a},k2={exports:{}};(function(t){var e=Qw,r=Kw,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(f){var m=s(e,i,arguments);if(o&&a){var g=o(m,"length");g.configurable&&a(m,"length",{value:1+c(0,f.length-(arguments.length-1))})}return m};var h=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:h}):t.exports.apply=h})(k2);var q9=k2.exports,P2=Kw,I2=q9,Q9=I2(P2("String.prototype.indexOf")),K9=function(e,r){var n=P2(e,!!r);return typeof n=="function"&&Q9(e,".prototype.")>-1?I2(n):n};const Z9={},J9=Object.freeze(Object.defineProperty({__proto__:null,default:Z9},Symbol.toStringTag,{value:"Module"})),e$=Ix(J9);var Zw=typeof Map=="function"&&Map.prototype,mv=Object.getOwnPropertyDescriptor&&Zw?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Im=Zw&&mv&&typeof mv.get=="function"?mv.get:null,BA=Zw&&Map.prototype.forEach,Jw=typeof Set=="function"&&Set.prototype,gv=Object.getOwnPropertyDescriptor&&Jw?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Mm=Jw&&gv&&typeof gv.get=="function"?gv.get:null,zA=Jw&&Set.prototype.forEach,t$=typeof WeakMap=="function"&&WeakMap.prototype,Jc=t$?WeakMap.prototype.has:null,r$=typeof WeakSet=="function"&&WeakSet.prototype,eh=r$?WeakSet.prototype.has:null,n$=typeof WeakRef=="function"&&WeakRef.prototype,jA=n$?WeakRef.prototype.deref:null,i$=Boolean.prototype.valueOf,s$=Object.prototype.toString,o$=Function.prototype.toString,a$=String.prototype.match,eb=String.prototype.slice,yo=String.prototype.replace,l$=String.prototype.toUpperCase,$A=String.prototype.toLowerCase,M2=RegExp.prototype.test,GA=Array.prototype.concat,Ui=Array.prototype.join,u$=Array.prototype.slice,HA=Math.floor,S_=typeof BigInt=="function"?BigInt.prototype.valueOf:null,yv=Object.getOwnPropertySymbols,E_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="object",yr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Eu||"symbol")?Symbol.toStringTag:null,N2=Object.prototype.propertyIsEnumerable,WA=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function VA(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||M2.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-HA(-t):HA(t);if(n!==t){var i=String(n),s=eb.call(e,i.length+1);return yo.call(i,r,"$&_")+"."+yo.call(yo.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return yo.call(e,r,"$&_")}var T_=e$,XA=T_.custom,YA=L2(XA)?XA:null,c$=function t(e,r,n,i){var s=r||{};if(lo(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(lo(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=lo(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(lo(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(lo(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return F2(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?VA(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return a?VA(e,h):h}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return A_(e)?"[Array]":"[Object]";var f=R$(s,n);if(typeof i>"u")i=[];else if(O2(i,e)>=0)return"[Circular]";function m(O,W,de){if(W&&(i=u$.call(i),i.push(W)),de){var ae={depth:s.depth};return lo(s,"quoteStyle")&&(ae.quoteStyle=s.quoteStyle),t(O,ae,n+1,i)}return t(O,s,n+1,i)}if(typeof e=="function"&&!qA(e)){var g=_$(e),_=Bf(e,m);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(_.length>0?" { "+Ui.call(_,", ")+" }":"")}if(L2(e)){var x=Eu?yo.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):E_.call(e);return typeof e=="object"&&!Eu?mc(x):x}if(T$(e)){for(var E="<"+$A.call(String(e.nodeName)),w=e.attributes||[],b=0;b<w.length;b++)E+=" "+w[b].name+"="+D2(h$(w[b].value),"double",s);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+$A.call(String(e.nodeName))+">",E}if(A_(e)){if(e.length===0)return"[]";var S=Bf(e,m);return f&&!C$(S)?"["+C_(S,f)+"]":"[ "+Ui.call(S,", ")+" ]"}if(f$(e)){var A=Bf(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!N2.call(e,"cause")?"{ ["+String(e)+"] "+Ui.call(GA.call("[cause]: "+m(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ui.call(A,", ")+" }"}if(typeof e=="object"&&o){if(YA&&typeof e[YA]=="function"&&T_)return T_(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(x$(e)){var k=[];return BA&&BA.call(e,function(O,W){k.push(m(W,e,!0)+" => "+m(O,e))}),QA("Map",Im.call(e),k,f)}if(S$(e)){var L=[];return zA&&zA.call(e,function(O){L.push(m(O,e))}),QA("Set",Mm.call(e),L,f)}if(w$(e))return vv("WeakMap");if(E$(e))return vv("WeakSet");if(b$(e))return vv("WeakRef");if(m$(e))return mc(m(Number(e)));if(y$(e))return mc(m(S_.call(e)));if(g$(e))return mc(i$.call(e));if(p$(e))return mc(m(String(e)));if(!d$(e)&&!qA(e)){var I=Bf(e,m),M=WA?WA(e)===Object.prototype:e instanceof Object||e.constructor===Object,z=e instanceof Object?"":"null prototype",$=!M&&yr&&Object(e)===e&&yr in e?eb.call(Go(e),8,-1):z?"Object":"",Z=M||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Y=Z+($||z?"["+Ui.call(GA.call([],$||[],z||[]),": ")+"] ":"");return I.length===0?Y+"{}":f?Y+"{"+C_(I,f)+"}":Y+"{ "+Ui.call(I,", ")+" }"}return String(e)};function D2(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function h$(t){return yo.call(String(t),/"/g,"&quot;")}function A_(t){return Go(t)==="[object Array]"&&(!yr||!(typeof t=="object"&&yr in t))}function d$(t){return Go(t)==="[object Date]"&&(!yr||!(typeof t=="object"&&yr in t))}function qA(t){return Go(t)==="[object RegExp]"&&(!yr||!(typeof t=="object"&&yr in t))}function f$(t){return Go(t)==="[object Error]"&&(!yr||!(typeof t=="object"&&yr in t))}function p$(t){return Go(t)==="[object String]"&&(!yr||!(typeof t=="object"&&yr in t))}function m$(t){return Go(t)==="[object Number]"&&(!yr||!(typeof t=="object"&&yr in t))}function g$(t){return Go(t)==="[object Boolean]"&&(!yr||!(typeof t=="object"&&yr in t))}function L2(t){if(Eu)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!E_)return!1;try{return E_.call(t),!0}catch{}return!1}function y$(t){if(!t||typeof t!="object"||!S_)return!1;try{return S_.call(t),!0}catch{}return!1}var v$=Object.prototype.hasOwnProperty||function(t){return t in this};function lo(t,e){return v$.call(t,e)}function Go(t){return s$.call(t)}function _$(t){if(t.name)return t.name;var e=a$.call(o$.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function O2(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function x$(t){if(!Im||!t||typeof t!="object")return!1;try{Im.call(t);try{Mm.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function w$(t){if(!Jc||!t||typeof t!="object")return!1;try{Jc.call(t,Jc);try{eh.call(t,eh)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function b$(t){if(!jA||!t||typeof t!="object")return!1;try{return jA.call(t),!0}catch{}return!1}function S$(t){if(!Mm||!t||typeof t!="object")return!1;try{Mm.call(t);try{Im.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function E$(t){if(!eh||!t||typeof t!="object")return!1;try{eh.call(t,eh);try{Jc.call(t,Jc)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function T$(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function F2(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return F2(eb.call(t,0,e.maxStringLength),e)+n}var i=yo.call(yo.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,A$);return D2(i,"single",e)}function A$(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+l$.call(e.toString(16))}function mc(t){return"Object("+t+")"}function vv(t){return t+" { ? }"}function QA(t,e,r,n){var i=n?C_(r,n):Ui.call(r,", ");return t+" ("+e+") {"+i+"}"}function C$(t){for(var e=0;e<t.length;e++)if(O2(t[e],`
`)>=0)return!1;return!0}function R$(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Ui.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Ui.call(Array(e+1),r)}}function C_(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Ui.call(t,","+r)+`
`+e.prev}function Bf(t,e){var r=A_(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=lo(t,i)?e(t[i],t):""}var s=typeof yv=="function"?yv(t):[],o;if(Eu){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)lo(t,c)&&(r&&String(Number(c))===c&&c<t.length||Eu&&o["$"+c]instanceof Symbol||(M2.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof yv=="function")for(var h=0;h<s.length;h++)N2.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var tb=Kw,Du=K9,k$=c$,P$=tb("%TypeError%"),zf=tb("%WeakMap%",!0),jf=tb("%Map%",!0),I$=Du("WeakMap.prototype.get",!0),M$=Du("WeakMap.prototype.set",!0),N$=Du("WeakMap.prototype.has",!0),D$=Du("Map.prototype.get",!0),L$=Du("Map.prototype.set",!0),O$=Du("Map.prototype.has",!0),rb=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},F$=function(t,e){var r=rb(t,e);return r&&r.value},U$=function(t,e,r){var n=rb(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},B$=function(t,e){return!!rb(t,e)},z$=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new P$("Side channel does not contain "+k$(s))},get:function(s){if(zf&&s&&(typeof s=="object"||typeof s=="function")){if(e)return I$(e,s)}else if(jf){if(r)return D$(r,s)}else if(n)return F$(n,s)},has:function(s){if(zf&&s&&(typeof s=="object"||typeof s=="function")){if(e)return N$(e,s)}else if(jf){if(r)return O$(r,s)}else if(n)return B$(n,s);return!1},set:function(s,o){zf&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new zf),M$(e,s,o)):jf?(r||(r=new jf),L$(r,s,o)):(n||(n={key:{},next:null}),U$(n,s,o))}};return i},j$=String.prototype.replace,$$=/%20/g,_v={RFC1738:"RFC1738",RFC3986:"RFC3986"},nb={default:_v.RFC3986,formatters:{RFC1738:function(t){return j$.call(t,$$,"+")},RFC3986:function(t){return String(t)}},RFC1738:_v.RFC1738,RFC3986:_v.RFC3986},G$=nb,xv=Object.prototype.hasOwnProperty,wa=Array.isArray,ki=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),H$=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(wa(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},U2=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},W$=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(wa(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!xv.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return wa(e)&&!wa(r)&&(i=U2(e,n)),wa(e)&&wa(r)?(r.forEach(function(s,o){if(xv.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return xv.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},V$=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},X$=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Y$=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var h=o.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===G$.RFC1738&&(h===40||h===41)){a+=o.charAt(c);continue}if(h<128){a=a+ki[h];continue}if(h<2048){a=a+(ki[192|h>>6]+ki[128|h&63]);continue}if(h<55296||h>=57344){a=a+(ki[224|h>>12]+ki[128|h>>6&63]+ki[128|h&63]);continue}c+=1,h=65536+((h&1023)<<10|o.charCodeAt(c)&1023),a+=ki[240|h>>18]+ki[128|h>>12&63]+ki[128|h>>6&63]+ki[128|h&63]}return a},q$=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var h=a[c],d=o[h];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:h}),n.push(d))}return H$(r),e},Q$=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},K$=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Z$=function(e,r){return[].concat(e,r)},J$=function(e,r){if(wa(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},B2={arrayToObject:U2,assign:V$,combine:Z$,compact:q$,decode:X$,encode:Y$,isBuffer:K$,isRegExp:Q$,maybeMap:J$,merge:W$},z2=z$,Pp=B2,th=nb,eG=Object.prototype.hasOwnProperty,KA={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ps=Array.isArray,tG=Array.prototype.push,j2=function(t,e){tG.apply(t,ps(e)?e:[e])},rG=Date.prototype.toISOString,ZA=th.default,pr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Pp.encode,encodeValuesOnly:!1,format:ZA,formatter:th.formatters[ZA],indices:!1,serializeDate:function(e){return rG.call(e)},skipNulls:!1,strictNullHandling:!1},nG=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},wv={},iG=function t(e,r,n,i,s,o,a,c,h,d,f,m,g,_,x,E){for(var w=e,b=E,S=0,A=!1;(b=b.get(wv))!==void 0&&!A;){var k=b.get(e);if(S+=1,typeof k<"u"){if(k===S)throw new RangeError("Cyclic object value");A=!0}typeof b.get(wv)>"u"&&(S=0)}if(typeof c=="function"?w=c(r,w):w instanceof Date?w=f(w):n==="comma"&&ps(w)&&(w=Pp.maybeMap(w,function(ae){return ae instanceof Date?f(ae):ae})),w===null){if(s)return a&&!_?a(r,pr.encoder,x,"key",m):r;w=""}if(nG(w)||Pp.isBuffer(w)){if(a){var L=_?r:a(r,pr.encoder,x,"key",m);return[g(L)+"="+g(a(w,pr.encoder,x,"value",m))]}return[g(r)+"="+g(String(w))]}var I=[];if(typeof w>"u")return I;var M;if(n==="comma"&&ps(w))_&&a&&(w=Pp.maybeMap(w,a)),M=[{value:w.length>0?w.join(",")||null:void 0}];else if(ps(c))M=c;else{var z=Object.keys(w);M=h?z.sort(h):z}for(var $=i&&ps(w)&&w.length===1?r+"[]":r,Z=0;Z<M.length;++Z){var Y=M[Z],O=typeof Y=="object"&&typeof Y.value<"u"?Y.value:w[Y];if(!(o&&O===null)){var W=ps(w)?typeof n=="function"?n($,Y):$:$+(d?"."+Y:"["+Y+"]");E.set(e,S);var de=z2();de.set(wv,E),j2(I,t(O,W,n,i,s,o,n==="comma"&&_&&ps(w)?null:a,c,h,d,f,m,g,_,x,de))}}return I},sG=function(e){if(!e)return pr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||pr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=th.default;if(typeof e.format<"u"){if(!eG.call(th.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=th.formatters[n],s=pr.filter;return(typeof e.filter=="function"||ps(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:pr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?pr.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:pr.charsetSentinel,delimiter:typeof e.delimiter>"u"?pr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:pr.encode,encoder:typeof e.encoder=="function"?e.encoder:pr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:pr.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:pr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:pr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:pr.strictNullHandling}},oG=function(t,e){var r=t,n=sG(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):ps(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in KA?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=KA[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=z2(),f=0;f<i.length;++f){var m=i[f];n.skipNulls&&r[m]===null||j2(o,iG(r[m],m,c,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var g=o.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),g.length>0?_+g:""},Tu=B2,R_=Object.prototype.hasOwnProperty,aG=Array.isArray,Wt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Tu.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},lG=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},$2=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},uG="utf8=%26%2310003%3B",cG="utf8=%E2%9C%93",hG=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,h=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===cG?h="utf-8":o[c]===uG&&(h="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var d=o[c],f=d.indexOf("]="),m=f===-1?d.indexOf("="):f+1,g,_;m===-1?(g=r.decoder(d,Wt.decoder,h,"key"),_=r.strictNullHandling?null:""):(g=r.decoder(d.slice(0,m),Wt.decoder,h,"key"),_=Tu.maybeMap($2(d.slice(m+1),r),function(x){return r.decoder(x,Wt.decoder,h,"value")})),_&&r.interpretNumericEntities&&h==="iso-8859-1"&&(_=lG(_)),d.indexOf("[]=")>-1&&(_=aG(_)?[_]:_),R_.call(n,g)?n[g]=Tu.combine(n[g],_):n[g]=_}return n},dG=function(t,e,r,n){for(var i=n?e:$2(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,h=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},fG=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),h=c?s.slice(0,c.index):s,d=[];if(h){if(!n.plainObjects&&R_.call(Object.prototype,h)&&!n.allowPrototypes)return;d.push(h)}for(var f=0;n.depth>0&&(c=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&R_.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+s.slice(c.index)+"]"),dG(d,r,n,i)}},pG=function(e){if(!e)return Wt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Wt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Wt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Wt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Wt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Wt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Wt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Wt.comma,decoder:typeof e.decoder=="function"?e.decoder:Wt.decoder,delimiter:typeof e.delimiter=="string"||Tu.isRegExp(e.delimiter)?e.delimiter:Wt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Wt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Wt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Wt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Wt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Wt.strictNullHandling}},mG=function(t,e){var r=pG(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?hG(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=fG(a,n[a],r,typeof t=="string");i=Tu.merge(i,c,r)}return r.allowSparse===!0?i:Tu.compact(i)},gG=oG,yG=mG,vG=nb,_G={formats:vG,parse:yG,stringify:gG},xG=w9;function Ss(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var wG=/^([a-z0-9.+-]+:)/i,bG=/:[0-9]*$/,SG=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,EG=["<",">",'"',"`"," ","\r",`
`,"	"],TG=["{","}","|","\\","^","`"].concat(EG),k_=["'"].concat(TG),JA=["%","/","?",";","#"].concat(k_),eC=["/","?","#"],AG=255,tC=/^[+a-z0-9A-Z_-]{0,63}$/,CG=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,RG={javascript:!0,"javascript:":!0},P_={javascript:!0,"javascript:":!0},su={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},I_=_G;function kG(t,e,r){if(t&&typeof t=="object"&&t instanceof Ss)return t;var n=new Ss;return n.parse(t,e,r),n}Ss.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var c=SG.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=I_.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=wG.exec(a);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d,a=a.substr(h.length)}if(r||h||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(h&&P_[h])&&(a=a.substr(2),this.slashes=!0)}if(!P_[h]&&(f||h&&!su[h])){for(var m=-1,g=0;g<eC.length;g++){var _=a.indexOf(eC[g]);_!==-1&&(m===-1||_<m)&&(m=_)}var x,E;m===-1?E=a.lastIndexOf("@"):E=a.lastIndexOf("@",m),E!==-1&&(x=a.slice(0,E),a=a.slice(E+1),this.auth=decodeURIComponent(x)),m=-1;for(var g=0;g<JA.length;g++){var _=a.indexOf(JA[g]);_!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=a.length),this.host=a.slice(0,m),a=a.slice(m),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var b=this.hostname.split(/\./),g=0,S=b.length;g<S;g++){var A=b[g];if(A&&!A.match(tC)){for(var k="",L=0,I=A.length;L<I;L++)A.charCodeAt(L)>127?k+="x":k+=A[L];if(!k.match(tC)){var M=b.slice(0,g),z=b.slice(g+1),$=A.match(CG);$&&(M.push($[1]),z.unshift($[2])),z.length&&(a="/"+z.join(".")+a),this.hostname=M.join(".");break}}}this.hostname.length>AG?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=xG.toASCII(this.hostname));var Z=this.port?":"+this.port:"",Y=this.hostname||"";this.host=Y+Z,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!RG[d])for(var g=0,S=k_.length;g<S;g++){var O=k_[g];if(a.indexOf(O)!==-1){var W=encodeURIComponent(O);W===O&&(W=escape(O)),a=a.split(O).join(W)}}var de=a.indexOf("#");de!==-1&&(this.hash=a.substr(de),a=a.slice(0,de));var ae=a.indexOf("?");if(ae!==-1?(this.search=a.substr(ae),this.query=a.substr(ae+1),e&&(this.query=I_.parse(this.query)),a=a.slice(0,ae)):e&&(this.search="",this.query={}),a&&(this.pathname=a),su[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Z=this.pathname||"",le=this.search||"";this.path=Z+le}return this.href=this.format(),this};Ss.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=I_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||su[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};Ss.prototype.resolve=function(t){return this.resolveObject(kG(t,!1,!0)).format()};Ss.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Ss;e.parse(t,!1,!0),t=e}for(var r=new Ss,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(r[c]=t[c])}return su[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!su[t.protocol]){for(var h=Object.keys(t),d=0;d<h.length;d++){var f=h[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!P_[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),r.pathname=S.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",x=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=x||_||r.host&&t.pathname,w=E,b=r.pathname&&r.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!su[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),E=E&&(S[0]===""||b[0]==="")),x)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=S;else if(S.length)b||(b=[]),b.pop(),b=b.concat(S),r.search=t.search,r.query=t.query;else if(t.search!=null){if(A){r.host=b.shift(),r.hostname=r.host;var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.hostname=k.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var L=b.slice(-1)[0],I=(r.host||t.host||b.length>1)&&(L==="."||L==="..")||L==="",M=0,z=b.length;z>=0;z--)L=b[z],L==="."?b.splice(z,1):L===".."?(b.splice(z,1),M++):M&&(b.splice(z,1),M--);if(!E&&!w)for(;M--;M)b.unshift("..");E&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),I&&b.join("/").substr(-1)!=="/"&&b.push("");var $=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(A){r.hostname=$?"":b.length?b.shift():"",r.host=r.hostname;var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.hostname=k.shift(),r.host=r.hostname)}return E=E||r.host&&b.length,E&&!$&&b.unshift(""),b.length>0?r.pathname=b.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Ss.prototype.parseHost=function(){var t=this.host,e=bG.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const rC={};function Ne(t,e,r=3){if(rC[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),rC[e]=!0}function Yn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function gc(t){return t.split("?")[0].split("#")[0]}function PG(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function IG(t,e,r){return t.replace(new RegExp(PG(e),"g"),r)}function MG(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Rr={toPosix(t){return IG(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Yn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Yn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=gc(this.toPosix(e??pe.ADAPTER.getBaseUrl())),i=gc(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Rr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Yn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=MG(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Yn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Yn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Yn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Yn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Yn(t),e&&Yn(e),t=gc(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Yn(t),t=gc(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Yn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=gc(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,c=!0,h=t.length-1,d=0;for(;h>=i;--h){if(r=t.charCodeAt(h),r===47){if(!c){o=h+1;break}continue}a===-1&&(c=!1,a=h+1),r===46?s===-1?s=h:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let bv;async function NG(){return bv??(bv=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Wr.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return Wr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Wr.PMA:Wr.UNPACK})()),bv}let Sv;function DG(){return typeof Sv>"u"&&(Sv=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!pe.ADAPTER.getWebGLRenderingContext())return!1;const r=pe.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Sv}var LG={grad:.9,turn:360,rad:360/(2*Math.PI)},ls=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},qt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Ln=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},G2=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},nC=function(t){return{r:Ln(t.r,0,255),g:Ln(t.g,0,255),b:Ln(t.b,0,255),a:Ln(t.a)}},Ev=function(t){return{r:qt(t.r),g:qt(t.g),b:qt(t.b),a:qt(t.a,3)}},OG=/^#([0-9a-f]{3,8})$/i,$f=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},H2=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},W2=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),h=s%6;return{r:255*[n,a,o,o,c,n][h],g:255*[c,n,n,a,o,o][h],b:255*[o,o,c,n,n,a][h],a:i}},iC=function(t){return{h:G2(t.h),s:Ln(t.s,0,100),l:Ln(t.l,0,100),a:Ln(t.a)}},sC=function(t){return{h:qt(t.h),s:qt(t.s),l:qt(t.l),a:qt(t.a,3)}},oC=function(t){return W2((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},rh=function(t){return{h:(e=H2(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},FG=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,UG=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,BG=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zG=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,M_={string:[[function(t){var e=OG.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?qt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?qt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=BG.exec(t)||zG.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:nC({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=FG.exec(t)||UG.exec(t);if(!e)return null;var r,n,i=iC({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(LG[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return oC(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return ls(e)&&ls(r)&&ls(n)?nC({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!ls(e)||!ls(r)||!ls(n))return null;var o=iC({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return oC(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!ls(e)||!ls(r)||!ls(n))return null;var o=function(a){return{h:G2(a.h),s:Ln(a.s,0,100),v:Ln(a.v,0,100),a:Ln(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return W2(o)},"hsv"]]},aC=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},jG=function(t){return typeof t=="string"?aC(t.trim(),M_.string):typeof t=="object"&&t!==null?aC(t,M_.object):[null,void 0]},Tv=function(t,e){var r=rh(t);return{h:r.h,s:Ln(r.s+100*e,0,100),l:r.l,a:r.a}},Av=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},lC=function(t,e){var r=rh(t);return{h:r.h,s:r.s,l:Ln(r.l+100*e,0,100),a:r.a}},N_=function(){function t(e){this.parsed=jG(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return qt(Av(this.rgba),2)},t.prototype.isDark=function(){return Av(this.rgba)<.5},t.prototype.isLight=function(){return Av(this.rgba)>=.5},t.prototype.toHex=function(){return e=Ev(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?$f(qt(255*s)):"","#"+$f(r)+$f(n)+$f(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Ev(this.rgba)},t.prototype.toRgbString=function(){return e=Ev(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return sC(rh(this.rgba))},t.prototype.toHslString=function(){return e=sC(rh(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=H2(this.rgba),{h:qt(e.h),s:qt(e.s),v:qt(e.v),a:qt(e.a,3)};var e},t.prototype.invert=function(){return Ii({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Ii(Tv(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ii(Tv(this.rgba,-e))},t.prototype.grayscale=function(){return Ii(Tv(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Ii(lC(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Ii(lC(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Ii({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):qt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=rh(this.rgba);return typeof e=="number"?Ii({h:e,s:r.s,l:r.l,a:r.a}):qt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Ii(e).toHex()},t}(),Ii=function(t){return t instanceof N_?t:new N_(t)},uC=[],$G=function(t){t.forEach(function(e){uC.indexOf(e)<0&&(e(N_,M_),uC.push(e))})};function GG(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var d=this.toRgb(),f=1/0,m="black";if(!s.length)for(var g in r)s[g]=new t(r[g]).toRgb();for(var _ in r){var x=(a=d,c=s[_],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));x<f&&(f=x,m=_)}return m}},e.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":r[a];return c?new t(c).toRgb():null},"name"])}$G([GG]);const Rl=class Ip{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Ip)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=Ip.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Ip.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Ii(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};Rl.shared=new Rl,Rl.temp=new Rl,Rl.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let tt=Rl;function HG(t){return Ne("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),tt.shared.setValue(t).toHex()}function WG(t){return Ne("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),tt.shared.setValue(t).toNumber()}function VG(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Ae.NORMAL_NPM]=Ae.NORMAL,t[Ae.ADD_NPM]=Ae.ADD,t[Ae.SCREEN_NPM]=Ae.SCREEN,e[Ae.NORMAL]=Ae.NORMAL_NPM,e[Ae.ADD]=Ae.ADD_NPM,e[Ae.SCREEN]=Ae.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const V2=VG();function X2(t,e){return V2[e?1:0][t]}function XG(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Y2(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Nm(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function cC(t){return!(t&t-1)&&!!t}function hC(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ou(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function vo(t){return t===0?0:t<0?-1:1}let YG=0;function Va(){return++YG}const D_=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};D_.EMPTY=new D_(0,0,0,0);let dC=D_;const fC={},Mi=Object.create(null),Js=Object.create(null);class qG{constructor(e,r,n){this._canvas=pe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||pe.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function pC(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function mC(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function QG(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,c=r-1;for(;o<r&&pC(i,e,o);)++o;if(o===r)return dC.EMPTY;for(;pC(i,e,c);)--c;for(;mC(i,e,s,o,c);)++s;for(;mC(i,e,a,o,c);)--a;return++a,++c,new dC(s,o,a,c)}function KG(t){const e=QG(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function ZG(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function ks(t,e=1){var n;const r=(n=pe.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ce=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ce||{});const L_=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},gC=(t,e)=>L_(t).priority??e,ve={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(L_).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(L_).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>gC(s,r)-gC(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class O_{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const JG=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function eH(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function tH(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=JG.replace(/%forloop%/gi,eH(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Cv=0,Rv=1,kv=2,Pv=3,Iv=4,Mv=5;class Ji{constructor(){this.data=0,this.blendMode=Ae.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Cv)}set blend(e){!!(this.data&1<<Cv)!==e&&(this.data^=1<<Cv)}get offsets(){return!!(this.data&1<<Rv)}set offsets(e){!!(this.data&1<<Rv)!==e&&(this.data^=1<<Rv)}get culling(){return!!(this.data&1<<kv)}set culling(e){!!(this.data&1<<kv)!==e&&(this.data^=1<<kv)}get depthTest(){return!!(this.data&1<<Pv)}set depthTest(e){!!(this.data&1<<Pv)!==e&&(this.data^=1<<Pv)}get depthMask(){return!!(this.data&1<<Mv)}set depthMask(e){!!(this.data&1<<Mv)!==e&&(this.data^=1<<Mv)}get clockwiseFrontFace(){return!!(this.data&1<<Iv)}set clockwiseFrontFace(e){!!(this.data&1<<Iv)!==e&&(this.data^=1<<Iv)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Ae.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ji;return e.depthTest=!1,e.blend=!0,e}}Ji.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const F_=[];function q2(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=F_.length-1;n>=0;--n){const i=F_[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class ci{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:d}=this;this._aliasCount++;for(let f=0,m=d.length;f<m;f++)d[f][h](e,r,n,i,s,o,a,c);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(ci.prototype,{dispatch:{value:ci.prototype.emit},run:{value:ci.prototype.emit}});class jh{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new ci("setRealSize"),this.onUpdate=new ci("update"),this.onError=new ci("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Mg extends jh{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Wr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const rH={scaleMode:vs.NEAREST,alphaMode:Wr.NPM},U_=class kl extends pd{constructor(e=null,r=null){super(),r=Object.assign({},kl.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:c,wrapMode:h,format:d,type:f,target:m,resolution:g,resourceOptions:_}=r;e&&!(e instanceof jh)&&(e=q2(e,_),e.internal=!0),this.resolution=g||pe.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=h,this._scaleMode=o,this.format=d,this.type=f,this.target=m,this.alphaMode=n,this.uid=Va(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=cC(this.realWidth)&&cC(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Js[this.cacheId],delete Mi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),kl.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=pe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Va()}`}s=e._pixiId}let o=Js[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new kl(e,r),o.cacheId=s,kl.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Mg(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=ne.RGBA,a=be.FLOAT):e instanceof Int32Array?(o=ne.RGBA_INTEGER,a=be.INT):e instanceof Uint32Array?(o=ne.RGBA_INTEGER,a=be.UNSIGNED_INT):e instanceof Int16Array?(o=ne.RGBA_INTEGER,a=be.SHORT):e instanceof Uint16Array?(o=ne.RGBA_INTEGER,a=be.UNSIGNED_SHORT):e instanceof Int8Array?(o=ne.RGBA,a=be.BYTE):(o=ne.RGBA,a=be.UNSIGNED_BYTE),s.internal=!0,new kl(s,Object.assign({},rH,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Js[r]&&Js[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Js[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Js[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Js[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Js[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};U_.defaultOptions={mipmap:qi.POW2,anisotropicLevel:0,scaleMode:vs.LINEAR,wrapMode:bs.CLAMP,alphaMode:Wr.UNPACK,target:nu.TEXTURE_2D,format:ne.RGBA,type:be.UNSIGNED_BYTE},U_._globalBatch=0;let Ce=U_;class B_{constructor(){this.texArray=null,this.blend=0,this.type=si.TRIANGLES,this.start=0,this.size=0,this.data=null}}let nH=0;class Ct{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=nH++,this.disposeRunner=new ci("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Gi.ELEMENT_ARRAY_BUFFER:Gi.ARRAY_BUFFER}get index(){return this.type===Gi.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Ct(e)}}class Dm{constructor(e,r=0,n=!1,i=be.FLOAT,s,o,a,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Dm(e,r,n,i,s)}}const iH={Float32Array,Uint32Array,Int32Array,Uint8Array};function sH(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let c=0;c<t.length;c++){const h=e[c],d=t[c],f=Y2(d);i[f]||(i[f]=new iH[f](s)),o=i[f];for(let m=0;m<d.length;m++){const g=(m/h|0)*n+a,_=m%h;o[g+_]=d[m]}a+=h}return new Float32Array(s)}const yC={5126:4,5123:2,5121:1};let oH=0;const aH={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Fo{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=oH++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ci("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Ct||(r instanceof Array&&(r=new Float32Array(r)),r=new Ct(r));const h=e.split("|");if(h.length>1){for(let f=0;f<h.length;f++)this.addAttribute(h[f],r,n,i,s);return this}let d=this.buffers.indexOf(r);return d===-1&&(this.buffers.push(r),d=this.buffers.length-1),this.attributes[e]=new Dm(d,n,i,s,o,a,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Ct||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ct(e)),e.type=Gi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Ct;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*yC[s.type]/4),s.buffer=0}for(n.data=sH(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Fo;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Ct(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Dm(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Gi.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Fo,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new aH[Y2(o.buffers[a].data)](i[a]),r.buffers[a]=new Ct(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Gi.ELEMENT_ARRAY_BUFFER;let a=0,c=0,h=0,d=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){d=f;break}for(const f in o.attributes){const m=o.attributes[f];(m.buffer|0)===d&&(c+=m.size*yC[m.type]/4)}for(let f=0;f<e.length;f++){const m=e[f].indexBuffer.data;for(let g=0;g<m.length;g++)r.indexBuffer.data[g+h]+=a;a+=e[f].buffers[d].data.length/c,h+=m.length}}return r}}class Q2 extends Fo{constructor(e=!1){super(),this._buffer=new Ct(null,e,!1),this._indexBuffer=new Ct(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,be.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,be.FLOAT).addAttribute("aColor",this._buffer,4,!0,be.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,be.FLOAT).addIndex(this._indexBuffer)}}const Lm=Math.PI*2,lH=180/Math.PI,uH=Math.PI/180;var nr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(nr||{});class Le{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Le(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Le.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Gf=[new Le,new Le,new Le,new Le];class ke{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=nr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ke(0,0,0,0)}clone(){return new ke(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const M=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=M)return!1;const z=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>z}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Gf[0].set(e.left,e.top),c=Gf[1].set(e.left,e.bottom),h=Gf[2].set(e.right,e.top),d=Gf[3].set(e.right,e.bottom);if(h.x<=a.x||c.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(c,c),r.apply(h,h),r.apply(d,d),Math.max(a.x,c.x,h.x,d.x)<=n||Math.min(a.x,c.x,h.x,d.x)>=i||Math.max(a.y,c.y,h.y,d.y)<=s||Math.min(a.y,c.y,h.y,d.y)>=o))return!1;const m=f*(c.y-a.y),g=f*(a.x-c.x),_=m*n+g*s,x=m*i+g*s,E=m*n+g*o,w=m*i+g*o;if(Math.max(_,x,E,w)<=m*a.x+g*a.y||Math.min(_,x,E,w)>=m*d.x+g*d.y)return!1;const b=f*(a.y-h.y),S=f*(h.x-a.x),A=b*n+S*s,k=b*i+S*s,L=b*n+S*o,I=b*i+S*o;return!(Math.max(A,k,L,I)<=b*a.x+S*a.y||Math.min(A,k,L,I)>=b*d.x+S*d.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}ke.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Ng{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=nr.CIRC}clone(){return new Ng(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new ke(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Ng.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Dg{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=nr.ELIP}clone(){return new Dg(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new ke(this.x-this.width,this.y-this.height,this.width,this.height)}}Dg.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Na{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=nr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Na(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],c=this.points[s*2+1],h=this.points[o*2],d=this.points[o*2+1];c>r!=d>r&&e<(h-a)*((r-c)/(d-c))+a&&(n=!n)}return n}}Na.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class Lg{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=nr.RREC}clone(){return new Lg(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}Lg.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class st{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Le;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Le;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,c,h){return this.a=Math.cos(a+h)*s,this.b=Math.sin(a+h)*s,this.c=-Math.sin(a-c)*o,this.d=Math.cos(a-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),c=Math.atan2(n,r),h=Math.abs(a+c);return h<1e-5||Math.abs(Lm-h)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new st;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new st}static get TEMP_MATRIX(){return new st}}st.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ma=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ga=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ya=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],va=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],z_=[],K2=[],Hf=Math.sign;function cH(){for(let t=0;t<16;t++){const e=[];z_.push(e);for(let r=0;r<16;r++){const n=Hf(ma[t]*ma[r]+ya[t]*ga[r]),i=Hf(ga[t]*ma[r]+va[t]*ga[r]),s=Hf(ma[t]*ya[r]+ya[t]*va[r]),o=Hf(ga[t]*ya[r]+va[t]*va[r]);for(let a=0;a<16;a++)if(ma[a]===n&&ga[a]===i&&ya[a]===s&&va[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new st;e.set(ma[t],ga[t],ya[t],va[t],0,0),K2.push(e)}}cH();const dt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ma[t],uY:t=>ga[t],vX:t=>ya[t],vY:t=>va[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>z_[t][e],sub:(t,e)=>z_[t][dt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?dt.S:dt.N:Math.abs(e)*2<=Math.abs(t)?t>0?dt.E:dt.W:e>0?t>0?dt.SE:dt.SW:t>0?dt.NE:dt.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=K2[dt.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class zi{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new zi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}zi.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const j_=class{constructor(){this.worldTransform=new st,this.localTransform=new st,this.position=new zi(this.onChange,this,0,0),this.scale=new zi(this.onChange,this,1,1),this.pivot=new zi(this.onChange,this,0,0),this.skew=new zi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};j_.IDENTITY=new j_;let Og=j_;Og.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var hH=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,dH=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function vC(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Nv(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function Z2(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Nv(2*e);case"bvec3":return Nv(3*e);case"bvec4":return Nv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const au=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],fH={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},pH={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function mH(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let c=0;c<au.length;c++)if(au[c].test(s,o)){r.push(au[c].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?fH:pH)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const J2={};let bl=J2;function gH(){if(bl===J2||bl!=null&&bl.isContextLost()){const t=pe.ADAPTER.createCanvas();let e;pe.PREFER_ENV>=Qa.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),bl=e}return bl}let Wf;function yH(){if(!Wf){Wf=Dn.MEDIUM;const t=gH();t&&t.getShaderPrecisionFormat&&(Wf=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Dn.HIGH:Dn.MEDIUM)}return Wf}function _C(t,e){const r=t.getShaderSource(e).split(`
`).map((h,d)=>`${d}: ${h}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),a=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);a[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function vH(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||_C(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||_C(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const _H={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function e3(t){return _H[t]}let Vf=null;const xC={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function t3(t,e){if(!Vf){const r=Object.keys(xC);Vf={};for(let n=0;n<r.length;++n){const i=r[n];Vf[t[i]]=xC[i]}}return Vf[e]}function wC(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Dn.HIGH&&r!==Dn.HIGH&&(n=Dn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Dn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let yc;function xH(){if(typeof yc=="boolean")return yc;try{yc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{yc=!1}return yc}let wH=0;const Xf={},$_=class Pl{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=wH++,this.vertexSrc=e||Pl.defaultVertexSrc,this.fragmentSrc=r||Pl.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Xf[n]?(Xf[n]++,n+=`-${Xf[n]}`):Xf[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=wC(this.vertexSrc,Pl.defaultVertexPrecision,Dn.HIGH),this.fragmentSrc=wC(this.fragmentSrc,Pl.defaultFragmentPrecision,yH())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return dH}static get defaultFragmentSrc(){return hH}static from(e,r,n){const i=e+r;let s=fC[i];return s||(fC[i]=s=new Pl(e,r,n)),s}};$_.defaultVertexPrecision=Dn.HIGH,$_.defaultFragmentPrecision=_s.apple.device?Dn.HIGH:Dn.MEDIUM;let xs=$_,bH=0;class hi{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=bH++,this.static=!!r,this.ubo=!!n,e instanceof Ct?(this.buffer=e,this.buffer.type=Gi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Ct(new Float32Array(1)),this.buffer.type=Gi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new hi(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new hi(e,r,n)}static uboFrom(e,r){return new hi(e,r??!0,!0)}}class Hi{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof hi?this.uniformGroup=r:this.uniformGroup=new hi(r):this.uniformGroup=new hi({}),this.disposeRunner=new ci("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=xs.from(e,r);return new Hi(i,n)}}class SH{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=hi.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new xs(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new st,default:this.defaultGroupCache[e]};return new Hi(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class G_{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function EH(){return!_s.apple.device}function TH(t){let e=!0;const r=pe.ADAPTER.getNavigator();if(_s.tablet||_s.phone){if(_s.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(_s.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Fg{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var AH=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,CH=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Ic=class Qn extends Fg{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=Q2,this.vertexSize=6,this.state=Ji.for2d(),this.size=Qn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??TH(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??EH(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ne("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return CH}static get defaultFragmentTemplate(){return AH}setShaderGenerator({vertex:e=Qn.defaultVertexSrc,fragment:r=Qn.defaultFragmentTemplate}={}){this.shaderGenerator=new SH(e,r)}contextChange(){const e=this.renderer.gl;pe.PREFER_ENV===Qa.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Qn.defaultMaxTextures),this.maxTextures=tH(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Qn,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new B_);for(;r.length<i;)r.push(new G_);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=Qn._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Ce._globalBatch,c=0,h=n[0],d=0;i.copyBoundTextures(s,r);for(let f=0;f<this._bufferSize;++f){const m=e[f];e[f]=null,m._batchEnabled!==a&&(h.count>=r&&(i.boundArray(h,s,a,r),this.buildDrawCalls(h,d,f),d=f,h=n[++c],++a),m._batchEnabled=a,m.touched=o,h.elements[h.count++]=m)}h.count>0&&(i.boundArray(h,s,a,r),this.buildDrawCalls(h,d,this._bufferSize),++c,++a);for(let f=0;f<s.length;f++)s[f]=null;Ce._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,c=Qn._drawCallPool;let h=this._dcIndex,d=this._aIndex,f=this._iIndex,m=c[h];m.start=this._iIndex,m.texArray=e;for(let g=r;g<n;++g){const _=i[g],x=_._texture.baseTexture,E=V2[x.alphaMode?1:0][_.blendMode];i[g]=null,r<g&&m.blend!==E&&(m.size=f-m.start,r=g,m=c[++h],m.texArray=e,m.start=f),this.packInterleavedGeometry(_,s,o,d,f),d+=_.vertexData.length/2*a,f+=_.indices.length,m.blend=E}r<n&&(m.size=f-m.start,++h),this._dcIndex=h,this._aIndex=d,this._iIndex=f}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;Qn.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=Qn._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:c,size:h,start:d,blend:f}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=f,n.set(this.state),r.drawElements(c,h,r.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Qn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Nm(Math.ceil(e/8)),n=hC(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new O_(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Nm(Math.ceil(e/12)),n=hC(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,c=i/this.vertexSize,h=e.uvs,d=e.indices,f=e.vertexData,m=e._texture.baseTexture._batchLocation,g=Math.min(e.worldAlpha,1),_=tt.shared.setValue(e._tintRGB).toPremultiplied(g,e._texture.baseTexture.alphaMode>0);for(let x=0;x<f.length;x+=2)a[i++]=f[x],a[i++]=f[x+1],a[i++]=h[x],a[i++]=h[x+1],o[i++]=_,a[i++]=m;for(let x=0;x<d.length;x++)n[s++]=c+d[x]}};Ic.defaultBatchSize=4096,Ic.extension={name:"batch",type:ce.RendererPlugin},Ic._drawCallPool=[],Ic._textureArrayPool=[];let _a=Ic;ve.add(_a);var RH=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,kH=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const H_=class Mc extends Hi{constructor(e,r,n){const i=xs.from(e||Mc.defaultVertexSrc,r||Mc.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Mc.defaultResolution,this.multisample=Mc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ji}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return kH}static get defaultFragmentSrc(){return RH}};H_.defaultResolution=1,H_.defaultMultisample=Mt.NONE;let Tr=H_;class Om{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new tt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Om.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Om.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"background"};ve.add(Om);class r3{constructor(e){this.renderer=e,this.emptyRenderer=new Fg(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let c=0;for(let h=0;h<a;h++){const d=s[h],f=d._batchLocation;if(f>=0&&f<i&&r[f]===d){o[h]=f;continue}for(;c<i;){const m=r[c];if(m&&m._batchEnabled===n&&m._batchLocation===c){c++;continue}o[h]=c,d._batchLocation=c,r[c]=d;break}}}destroy(){this.renderer=null}}r3.extension={type:ce.RendererSystem,name:"batch"};ve.add(r3);let bC=0;class Fm{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=bC++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=bC++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(pe.PREFER_ENV>=Qa.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Fm.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Fm.extension={type:ce.RendererSystem,name:"context"};ve.add(Fm);class W_{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ci("disposeFramebuffer"),this.multisample=Mt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ce(null,{scaleMode:vs.NEAREST,resolution:1,mipmap:qi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ce(null,{scaleMode:vs.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:qi.OFF,format:ne.DEPTH_COMPONENT,type:be.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class n3 extends Ce{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Mt.NONE),super(null,e),this.mipmap=qi.OFF,this.valid=!0,this._clear=new tt([0,0,0,0]),this.framebuffer=new W_(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Uo extends jh{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=ZG(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Wr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class i3 extends Uo{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Uo.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??pe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Wr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class ib{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,c=e.x/i+o,h=e.y/s+a;n=dt.add(n,dt.NW),this.x0=c+o*dt.uX(n),this.y0=h+a*dt.uY(n),n=dt.add(n,2),this.x1=c+o*dt.uX(n),this.y1=h+a*dt.uY(n),n=dt.add(n,2),this.x2=c+o*dt.uX(n),this.y2=h+a*dt.uY(n),n=dt.add(n,2),this.x3=c+o*dt.uX(n),this.y3=h+a*dt.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}ib.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const SC=new ib;function Yf(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class he extends pd{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new ke(0,0,1,1)),e instanceof he&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=SC,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Le(o.x,o.y):new Le(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Mi[r.url]&&he.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,he.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new he(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===SC&&(this._uvs=new ib),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=pe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ce){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Va()}`,Ce.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Va()}`}s=e._pixiId}let o=Mi[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Ce)?(r.resolution||(r.resolution=ks(e)),o=new he(new Ce(e,r)),o.baseTexture.cacheId=s,Ce.addToCache(o.baseTexture,s),he.addToCache(o,s)):!o&&e instanceof Ce&&(o=new he(e),he.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=he.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new he(Ce.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ce(e,Object.assign({scaleMode:Ce.defaultOptions.scaleMode,resolution:ks(r)},i)),{resource:o}=s;o instanceof i3&&(o.url=r);const a=new he(s);return n||(n=r),Ce.addToCache(a.baseTexture,n),he.addToCache(a,n),n!==r&&(Ce.addToCache(a.baseTexture,r),he.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(c=>{a.baseTexture.once("loaded",()=>c(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Mi[r]&&Mi[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Mi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Mi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Mi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Mi[e.textureCacheIds[r]]===e&&delete Mi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const c=o&&a?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,d=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${c} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return he._EMPTY||(he._EMPTY=new he(new Ce),Yf(he._EMPTY),Yf(he._EMPTY.baseTexture)),he._EMPTY}static get WHITE(){if(!he._WHITE){const e=pe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),he._WHITE=new he(Ce.from(e)),Yf(he._WHITE),Yf(he._WHITE.baseTexture)}return he._WHITE}}class Ka extends he{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Ka(new n3(e))}}class s3{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Mt.NONE){const i=new n3(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Ka(i)}getOptimalTexture(e,r,n=1,i=Mt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Nm(e),r=Nm(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Mt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}s3.SCREEN_KEY=-1;class PH extends Fo{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class o3 extends Fo{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ct(this.vertices),this.uvBuffer=new Ct(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class IH{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Mt.NONE,this.sourceFrame=new ke,this.destinationFrame=new ke,this.bindingSourceFrame=new ke,this.bindingDestinationFrame=new ke,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const qf=[new Le,new Le,new Le,new Le],Dv=new st;class a3{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new s3,this.statePool=[],this.quad=new PH,this.quadUv=new o3,this.tempRect=new ke,this.activeState={},this.globalUniforms=new hi({outputFrame:new ke,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new IH,o=n.renderTexture;let a,c;if(o.current){const E=o.current;a=E.resolution,c=E.multisample}else a=n.resolution,c=n.multisample;let h=r[0].resolution||a,d=r[0].multisample??c,f=r[0].padding,m=r[0].autoFit,g=r[0].legacy??!0;for(let E=1;E<r.length;E++){const w=r[E];h=Math.min(h,w.resolution||a),d=Math.min(d,w.multisample??c),f=this.useMaxPadding?Math.max(f,w.padding):f+w.padding,m=m&&w.autoFit,g=g||(w.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=h,s.multisample=d,s.legacy=g,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);const _=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Dv.copyFrom(n.projection.transform).invert(),_),m?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,h,d),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const x=this.tempRect;x.x=0,x.y=0,x.width=s.sourceFrame.width,x.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,x),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,Fi.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,d=this.getOptimalFilterTexture(h.width,h.height,r.resolution);d.filterFrame=h.filterFrame;let f=0;for(f=0;f<n.length-1;++f){f===1&&r.multisample>1&&(d=this.getOptimalFilterTexture(h.width,h.height,r.resolution),d.filterFrame=h.filterFrame),n[f].apply(this,h,d,Fi.CLEAR,r);const m=h;h=d,d=m}n[f].apply(this,h,c.renderTexture,Fi.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Fi.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Fi.CLEAR||r===Fi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(si.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(si.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(st.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Mt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Mt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=qf[0],i=qf[1],s=qf[2],o=qf[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=c,r.width=h-a,r.height=d-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c,d:h}=s;if((Math.abs(a)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?Dv.copyFrom(s):Dv.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}a3.extension={type:ce.RendererSystem,name:"filter"};ve.add(a3);class MH{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Mt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const NH=new ke;class l3{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new W_(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ke,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;pe.PREFER_ENV===Qa.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=__.COLOR|__.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new MH(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],c=a.parentTextureArray||a;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let c=0;c<o;c++){const h=s[c],d=h.parentTextureArray||h;this.renderer.texture.bind(d,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,h.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+c))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let c,h;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,h=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,h=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,h=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,h=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,h,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Mt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Mt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[a];if(!c)return;if(!e){if(!c.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;c.blitFramebuffer||(c.blitFramebuffer=new W_(i.width,i.height),c.blitFramebuffer.addColorTexture(0,d)),e=c.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=NH,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,c;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,c,n,i):s.renderbufferStorage(s.RENDERBUFFER,c,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ke}destroy(){this.renderer=null}}l3.extension={type:ce.RendererSystem,name:"framebuffer"};ve.add(l3);const Lv={5126:4,5123:2,5121:1};class u3{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;pe.PREFER_ENV===Qa.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,c)=>n.drawElementsInstancedANGLE(i,s,o,a,c),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const c=this.getSignature(e,a),h=e.glVertexArrayObjects[this.CONTEXT_UID];let d=h[c];if(d)return h[a.id]=d,d;const f=e.buffers,m=e.attributes,g={},_={};for(const x in f)g[x]=0,_[x]=0;for(const x in m)!m[x].size&&a.attributeData[x]?m[x].size=a.attributeData[x].size:m[x].size||console.warn(`PIXI Geometry attribute '${x}' size cannot be determined (likely the bound shader does not have the attribute)`),g[m[x].buffer]+=m[x].size*Lv[m[x].type];for(const x in m){const E=m[x],w=E.size;E.stride===void 0&&(g[E.buffer]===w*Lv[E.type]?E.stride=0:E.stride=g[E.buffer]),E.start===void 0&&(E.start=_[E.buffer],_[E.buffer]+=w*Lv[E.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let x=0;x<f.length;x++){const E=f[x];o.bind(E),n&&E._glBuffers[s].refCount++}return this.activateVao(e,a),h[a.id]=d,h[c]=d,i.bindVertexArray(null),o.unbind(Gi.ARRAY_BUFFER),d}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const h=s[c]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const h=n[c];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const h in a){const d=a[h],f=o[d.buffer],m=f._glBuffers[i];if(r.attributeData[h]){c!==m&&(s.bind(f),c=m);const g=r.attributeData[h].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,d.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,c=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}u3.extension={type:ce.RendererSystem,name:"geometry"};ve.add(u3);const EC=new st;class sb{constructor(e,r){this._texture=e,this.mapCoord=new st,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(EC.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(EC));const o=r.baseTexture,a=this.uClampFrame,c=this.clampMargin/o.resolution,h=this.clampOffset;return a[0]=(r._frame.x+c+h)/o.width,a[1]=(r._frame.y+c+h)/o.height,a[2]=(r._frame.x+r._frame.width-c+h)/o.width,a[3]=(r._frame.y+r._frame.height-c+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var DH=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,LH=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class OH extends Tr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||LH,r||DH,n),this.maskSprite=i,this.maskMatrix=new st}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new sb(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class FH{constructor(e=null){this.type=Ot.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Tr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ot.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class c3{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new FH;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Ot.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ot.SCISSOR:this.renderer.scissor.push(n);break;case Ot.STENCIL:this.renderer.stencil.push(n);break;case Ot.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ot.COLOR:this.pushColorMask(n);break}n.type===Ot.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Ot.SCISSOR:this.renderer.scissor.pop(r);break;case Ot.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ot.SPRITE:this.popSpriteMask(r);break;case Ot.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Ot.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Ot.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ot.SCISSOR:e.type=Ot.STENCIL:e.type=Ot.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new OH])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}c3.extension={type:ce.RendererSystem,name:"mask"};ve.add(c3);class h3{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const TC=new st,AC=[],d3=class Mp extends h3{constructor(e){super(e),this.glConst=pe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,AC.pop()??new ke);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Mp.isMatrixRotated(r.worldTransform)||Mp.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Mp.isMatrixRotated(s)||(s=s?TC.copyFrom(s):TC.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&AC.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};d3.extension={type:ce.RendererSystem,name:"scissor"};let UH=d3;ve.add(UH);class f3 extends h3{constructor(e){super(e),this.glConst=pe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}f3.extension={type:ce.RendererSystem,name:"stencil"};ve.add(f3);class p3{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}p3.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"_plugin"};ve.add(p3);class m3{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new st,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}m3.extension={type:ce.RendererSystem,name:"projection"};ve.add(m3);const BH=new Og,CC=new ke;class g3{constructor(e){this.renderer=e,this._tempMatrix=new st}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(CC))||e.getLocalBounds(CC,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=Ka.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const c=e.transform;return e.transform=BH,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,a}destroy(){}}g3.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"textureGenerator"};ve.add(g3);const ua=new ke,vc=new ke;class y3{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ke,this.destinationFrame=new ke,this.viewportFrame=new ke}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(ua.width=e.frame.width,ua.height=e.frame.height,r=ua),n||(vc.x=e.frame.x,vc.y=e.frame.y,vc.width=r.width,vc.height=r.height,n=vc),o=s.framebuffer):(a=i.resolution,r||(ua.width=i._view.screen.width,ua.height=i._view.screen.height,r=ua),n||(n=ua,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*a,c.y=n.y*a,c.width=n.width*a,c.height=n.height*a,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=tt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:c,y:h,width:d,height:f}=this.viewportFrame;c=Math.round(c),h=Math.round(h),d=Math.round(d),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,h,d,f)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}y3.extension={type:ce.RendererSystem,name:"renderTexture"};ve.add(y3);class zH{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function jH(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=t3(e,s.type),a={type:o,name:s.name,size:e3(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function $H(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),c=t3(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:a,value:Z2(c,s.size)}}return r}function GH(t,e){var a;const r=vC(t,t.VERTEX_SHADER,e.vertexSrc),n=vC(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||vH(t,i,r,n),e.attributeData=jH(i,t),e.uniformData=$H(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,d)=>h>d?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:Z2(h.type,h.size)}}return new zH(i,o)}function HH(t,e,r,n,i){r.buffer.update(i)}const WH={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},v3={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function VH(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=v3[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function XH(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function YH(t,e){if(!t.autoManage)return{size:0,syncFunc:HH};const r=XH(t.uniforms,e),{uboElements:n,size:i}=VH(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],c=t.uniforms[a.data.name],h=a.data.name;let d=!1;for(let f=0;f<au.length;f++){const m=au[f];if(m.codeUbo&&m.test(a.data,c)){s.push(`offset = ${a.offset/4};`,au[f].codeUbo(a.data.name,c)),d=!0;break}}if(!d)if(a.data.size>1){const f=e3(a.data.type),m=Math.max(v3[a.data.type]/16,1),g=f/m,_=(4-g%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*m}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${_};
                }

                `)}else{const f=WH[a.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let qH=0;const Qf={textureCount:0,uboCount:0};class _3{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=qH++}systemCheck(){if(!xH())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Qf.textureCount=0,Qf.uboCount=0,this.syncUniformGroup(e.uniformGroup,Qf)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=mH(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Qf,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=YH(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(a.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=GH(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}_3.extension={type:ce.RendererSystem,name:"shader"};ve.add(_3);class Um{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.1 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Um.defaultOptions={hello:!1},Um.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"startup"};ve.add(Um);function QH(t,e=[]){return e[Ae.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.ADD]=[t.ONE,t.ONE],e[Ae.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.NONE]=[0,0],e[Ae.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ae.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ae.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ae.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ae.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ae.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ae.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ae.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ae.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ae.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ae.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const KH=0,ZH=1,JH=2,eW=3,tW=4,rW=5,x3=class V_{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ae.NONE,this._blendEq=!1,this.map=[],this.map[KH]=this.setBlend,this.map[ZH]=this.setOffset,this.map[JH]=this.setCullFace,this.map[eW]=this.setDepthTest,this.map[tW]=this.setFrontFace,this.map[rW]=this.setDepthMask,this.checks=[],this.defaultState=new Ji,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=QH(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(V_.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(V_.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};x3.extension={type:ce.RendererSystem,name:"state"};let nW=x3;ve.add(nW);class iW extends pd{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new ci(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Nc=class Np{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Np.defaultMaxIdle,this.checkCountMax=Np.defaultCheckCountMax,this.mode=Np.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Yw.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Nc.defaultMode=Yw.AUTO,Nc.defaultMaxIdle=60*60,Nc.defaultCheckCountMax=60*10,Nc.extension={type:ce.RendererSystem,name:"textureGC"};let xa=Nc;ve.add(xa);class Ov{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=be.UNSIGNED_BYTE,this.internalFormat=ne.RGBA,this.samplerType=0}}function sW(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:fe.FLOAT,[t.RGBA]:fe.FLOAT,[t.ALPHA]:fe.FLOAT,[t.LUMINANCE]:fe.FLOAT,[t.LUMINANCE_ALPHA]:fe.FLOAT,[t.R8]:fe.FLOAT,[t.R8_SNORM]:fe.FLOAT,[t.RG8]:fe.FLOAT,[t.RG8_SNORM]:fe.FLOAT,[t.RGB8]:fe.FLOAT,[t.RGB8_SNORM]:fe.FLOAT,[t.RGB565]:fe.FLOAT,[t.RGBA4]:fe.FLOAT,[t.RGB5_A1]:fe.FLOAT,[t.RGBA8]:fe.FLOAT,[t.RGBA8_SNORM]:fe.FLOAT,[t.RGB10_A2]:fe.FLOAT,[t.RGB10_A2UI]:fe.FLOAT,[t.SRGB8]:fe.FLOAT,[t.SRGB8_ALPHA8]:fe.FLOAT,[t.R16F]:fe.FLOAT,[t.RG16F]:fe.FLOAT,[t.RGB16F]:fe.FLOAT,[t.RGBA16F]:fe.FLOAT,[t.R32F]:fe.FLOAT,[t.RG32F]:fe.FLOAT,[t.RGB32F]:fe.FLOAT,[t.RGBA32F]:fe.FLOAT,[t.R11F_G11F_B10F]:fe.FLOAT,[t.RGB9_E5]:fe.FLOAT,[t.R8I]:fe.INT,[t.R8UI]:fe.UINT,[t.R16I]:fe.INT,[t.R16UI]:fe.UINT,[t.R32I]:fe.INT,[t.R32UI]:fe.UINT,[t.RG8I]:fe.INT,[t.RG8UI]:fe.UINT,[t.RG16I]:fe.INT,[t.RG16UI]:fe.UINT,[t.RG32I]:fe.INT,[t.RG32UI]:fe.UINT,[t.RGB8I]:fe.INT,[t.RGB8UI]:fe.UINT,[t.RGB16I]:fe.INT,[t.RGB16UI]:fe.UINT,[t.RGB32I]:fe.INT,[t.RGB32UI]:fe.UINT,[t.RGBA8I]:fe.INT,[t.RGBA8UI]:fe.UINT,[t.RGBA16I]:fe.INT,[t.RGBA16UI]:fe.UINT,[t.RGBA32I]:fe.INT,[t.RGBA32UI]:fe.UINT,[t.DEPTH_COMPONENT16]:fe.FLOAT,[t.DEPTH_COMPONENT24]:fe.FLOAT,[t.DEPTH_COMPONENT32F]:fe.FLOAT,[t.DEPTH_STENCIL]:fe.FLOAT,[t.DEPTH24_STENCIL8]:fe.FLOAT,[t.DEPTH32F_STENCIL8]:fe.FLOAT}:e={[t.RGB]:fe.FLOAT,[t.RGBA]:fe.FLOAT,[t.ALPHA]:fe.FLOAT,[t.LUMINANCE]:fe.FLOAT,[t.LUMINANCE_ALPHA]:fe.FLOAT,[t.DEPTH_STENCIL]:fe.FLOAT},e}function oW(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[be.UNSIGNED_BYTE]:{[ne.RGBA]:t.RGBA8,[ne.RGB]:t.RGB8,[ne.RG]:t.RG8,[ne.RED]:t.R8,[ne.RGBA_INTEGER]:t.RGBA8UI,[ne.RGB_INTEGER]:t.RGB8UI,[ne.RG_INTEGER]:t.RG8UI,[ne.RED_INTEGER]:t.R8UI,[ne.ALPHA]:t.ALPHA,[ne.LUMINANCE]:t.LUMINANCE,[ne.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[be.BYTE]:{[ne.RGBA]:t.RGBA8_SNORM,[ne.RGB]:t.RGB8_SNORM,[ne.RG]:t.RG8_SNORM,[ne.RED]:t.R8_SNORM,[ne.RGBA_INTEGER]:t.RGBA8I,[ne.RGB_INTEGER]:t.RGB8I,[ne.RG_INTEGER]:t.RG8I,[ne.RED_INTEGER]:t.R8I},[be.UNSIGNED_SHORT]:{[ne.RGBA_INTEGER]:t.RGBA16UI,[ne.RGB_INTEGER]:t.RGB16UI,[ne.RG_INTEGER]:t.RG16UI,[ne.RED_INTEGER]:t.R16UI,[ne.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[be.SHORT]:{[ne.RGBA_INTEGER]:t.RGBA16I,[ne.RGB_INTEGER]:t.RGB16I,[ne.RG_INTEGER]:t.RG16I,[ne.RED_INTEGER]:t.R16I},[be.UNSIGNED_INT]:{[ne.RGBA_INTEGER]:t.RGBA32UI,[ne.RGB_INTEGER]:t.RGB32UI,[ne.RG_INTEGER]:t.RG32UI,[ne.RED_INTEGER]:t.R32UI,[ne.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[be.INT]:{[ne.RGBA_INTEGER]:t.RGBA32I,[ne.RGB_INTEGER]:t.RGB32I,[ne.RG_INTEGER]:t.RG32I,[ne.RED_INTEGER]:t.R32I},[be.FLOAT]:{[ne.RGBA]:t.RGBA32F,[ne.RGB]:t.RGB32F,[ne.RG]:t.RG32F,[ne.RED]:t.R32F,[ne.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[be.HALF_FLOAT]:{[ne.RGBA]:t.RGBA16F,[ne.RGB]:t.RGB16F,[ne.RG]:t.RG16F,[ne.RED]:t.R16F},[be.UNSIGNED_SHORT_5_6_5]:{[ne.RGB]:t.RGB565},[be.UNSIGNED_SHORT_4_4_4_4]:{[ne.RGBA]:t.RGBA4},[be.UNSIGNED_SHORT_5_5_5_1]:{[ne.RGBA]:t.RGB5_A1},[be.UNSIGNED_INT_2_10_10_10_REV]:{[ne.RGBA]:t.RGB10_A2,[ne.RGBA_INTEGER]:t.RGB10_A2UI},[be.UNSIGNED_INT_10F_11F_11F_REV]:{[ne.RGB]:t.R11F_G11F_B10F},[be.UNSIGNED_INT_5_9_9_9_REV]:{[ne.RGB]:t.RGB9_E5},[be.UNSIGNED_INT_24_8]:{[ne.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[be.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ne.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[be.UNSIGNED_BYTE]:{[ne.RGBA]:t.RGBA,[ne.RGB]:t.RGB,[ne.ALPHA]:t.ALPHA,[ne.LUMINANCE]:t.LUMINANCE,[ne.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[be.UNSIGNED_SHORT_5_6_5]:{[ne.RGB]:t.RGB},[be.UNSIGNED_SHORT_4_4_4_4]:{[ne.RGBA]:t.RGBA},[be.UNSIGNED_SHORT_5_5_5_1]:{[ne.RGBA]:t.RGBA}},e}class w3{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ce,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=oW(e),this.samplerTypes=sW(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Ov(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Ov(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==fe.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Ov(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??fe.FLOAT,this.webGLVersion===2&&e.type===be.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==fe.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&ou(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===qi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=bs.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==qi.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===vs.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===vs.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===vs.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===vs.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}w3.extension={type:ce.RendererSystem,name:"texture"};ve.add(w3);class b3{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const c=a._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}b3.extension={type:ce.RendererSystem,name:"transformFeedback"};ve.add(b3);class Bm{constructor(e){this.renderer=e}init(e){this.screen=new ke(0,0,e.width,e.height),this.element=e.view||pe.ADAPTER.createCanvas(),this.resolution=e.resolution||pe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Bm.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Bm.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"_view"};ve.add(Bm);pe.PREFER_ENV=Qa.WEBGL2;pe.STRICT_TEXTURE_CACHE=!1;pe.RENDER_OPTIONS={...Fm.defaultOptions,...Om.defaultOptions,...Bm.defaultOptions,...Um.defaultOptions};Object.defineProperties(pe,{WRAP_MODE:{get(){return Ce.defaultOptions.wrapMode},set(t){Ne("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ce.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ce.defaultOptions.scaleMode},set(t){Ne("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ce.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ce.defaultOptions.mipmap},set(t){Ne("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ce.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ce.defaultOptions.anisotropicLevel},set(t){Ne("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ce.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ne("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Tr.defaultResolution},set(t){Tr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ne("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Tr.defaultMultisample},set(t){Tr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return _a.defaultMaxTextures},set(t){Ne("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),_a.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return _a.defaultBatchSize},set(t){Ne("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),_a.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return _a.canUploadSameBuffer},set(t){Ne("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),_a.canUploadSameBuffer=t}},GC_MODE:{get(){return xa.defaultMode},set(t){Ne("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),xa.defaultMode=t}},GC_MAX_IDLE:{get(){return xa.defaultMaxIdle},set(t){Ne("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),xa.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return xa.defaultCheckCountMax},set(t){Ne("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),xa.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return xs.defaultVertexPrecision},set(t){Ne("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),xs.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return xs.defaultFragmentPrecision},set(t){Ne("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),xs.defaultFragmentPrecision=t}}});var Bo=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Bo||{});class Fv{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const S3=class tn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Fv(null,null,1/0),this.deltaMS=1/tn.targetFPMS,this.elapsedMS=1/tn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Bo.NORMAL){return this._addListener(new Fv(e,r,n))}addOnce(e,r,n=Bo.NORMAL){return this._addListener(new Fv(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*tn.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,tn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!tn._shared){const e=tn._shared=new tn;e.autoStart=!0,e._protected=!0}return tn._shared}static get system(){if(!tn._system){const e=tn._system=new tn;e.autoStart=!0,e._protected=!0}return tn._system}};S3.targetFPMS=.06;let Qt=S3;Object.defineProperties(pe,{TARGET_FPMS:{get(){return Qt.targetFPMS},set(t){Ne("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Qt.targetFPMS=t}}});class E3{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Bo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Qt.shared:new Qt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}E3.extension=ce.Application;ve.add(E3);const T3=[];ve.handleByList(ce.Renderer,T3);function aW(t){for(const e of T3)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var lW=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,uW=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const cW=lW,A3=uW;class C3{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Mt.HIGH?this.multisample=Mt.HIGH:r>=Mt.MEDIUM?this.multisample=Mt.MEDIUM:r>=Mt.LOW?this.multisample=Mt.LOW:this.multisample=Mt.NONE}destroy(){}}C3.extension={type:ce.RendererSystem,name:"_multisample"};ve.add(C3);class hW{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class R3{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new hW(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}R3.extension={type:ce.RendererSystem,name:"buffer"};ve.add(R3);class k3{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}k3.extension={type:ce.RendererSystem,name:"objectRenderer"};ve.add(k3);const Dp=class X_ extends iW{constructor(e){super(),this.type=S2.WEBGL,e=Object.assign({},pe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new hi({projectionMatrix:new st},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:X_.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ne("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=X_.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:DG()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ne("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ne("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ne("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ne("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ne("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ne("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ne("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ne("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Dp.extension={type:ce.Renderer,priority:1},Dp.__plugins={},Dp.__systems={};let ob=Dp;ve.handleByMap(ce.RendererPlugin,ob.__plugins);ve.handleByMap(ce.RendererSystem,ob.__systems);ve.add(ob);class P3 extends jh{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Ce;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof jh?this.addResourceAt(e[n],n):this.addResourceAt(q2(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class dW extends P3{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=nu.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const h=o[c];s[c]<h.dirtyId&&(s[c]=h.dirtyId,h.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,c,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class fW extends Uo{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const I3=class Dc extends P3{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==Dc.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<Dc.SIDES;a++)this.items[a].target=nu.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=nu.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=nu.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<Dc.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Dc.SIDES}};I3.SIDES=6;let pW=I3;class Xl extends Uo{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=Xl.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await pe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Wr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Xl._EMPTY=Xl._EMPTY??pe.ADAPTER.createCanvas(0,0),Xl._EMPTY}}const Y_=class Lp extends Uo{constructor(e,r){r=r||{},super(pe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Lp.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Uo.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${Va()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Lp.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Lp.SVG_XML.test(e)}};Y_.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Y_.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let q_=Y_;const Q_=class K_ extends Uo{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];Uo.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:c}=e[s];if(a=a||e[s],a.startsWith("data:"))c=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const h=a.split("?").shift().toLowerCase(),d=h.slice(h.lastIndexOf(".")+1);c=c||K_.MIME_TYPES[d]||`video/${d}`}o.src=a,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Qt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Qt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Qt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Qt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||K_.TYPES.includes(r)}};Q_.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Q_.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let M3=Q_;F_.push(Xl,i3,fW,M3,q_,Mg,pW,dW);class zm{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ke.EMPTY:(e=e||new ke(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:c}=e,h=n*r.x+s*r.y+a,d=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,c=e.c,h=e.d,d=e.tx,f=e.ty;let m=this.minX,g=this.minY,_=this.maxX,x=this.maxY,E=o*r+c*n+d,w=a*r+h*n+f;m=E<m?E:m,g=w<g?w:g,_=E>_?E:_,x=w>x?w:x,E=o*i+c*n+d,w=a*i+h*n+f,m=E<m?E:m,g=w<g?w:g,_=E>_?E:_,x=w>x?w:x,E=o*r+c*s+d,w=a*r+h*s+f,m=E<m?E:m,g=w<g?w:g,_=E>_?E:_,x=w>x?w:x,E=o*i+c*s+d,w=a*i+h*s+f,m=E<m?E:m,g=w<g?w:g,_=E>_?E:_,x=w>x?w:x,this.minX=m,this.minY=g,this.maxX=_,this.maxY=x}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let c=r;c<n;c+=2){const h=e[c],d=e[c+1];i=h<i?h:i,s=d<s?d:s,o=h>o?h:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,c=e.b,h=e.c,d=e.d,f=e.tx,m=e.ty;let g=this.minX,_=this.minY,x=this.maxX,E=this.maxY;for(let w=n;w<i;w+=2){const b=r[w],S=r[w+1],A=a*b+h*S+f,k=d*S+c*b+m;g=Math.min(g,A-s),x=Math.max(x,A+s),_=Math.min(_,k-o),E=Math.max(E,k+o)}this.minX=g,this.minY=_,this.maxX=x,this.maxY=E}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,c=this.minY,h=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>d?o:d}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,c=this.minY,h=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>d?o:d}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class ct extends pd{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Og,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new zm,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(ct.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new ke),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ke),e=this._localBoundsRect),this._localBounds||(this._localBounds=new zm);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,c=0,h=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=c,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new mW),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*lH}set angle(e){this.transform.rotation=e*uH}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class mW extends ct{constructor(){super(...arguments),this.sortDirty=null}}ct.prototype.displayObjectUpdateTransform=ct.prototype.updateTransform;const gW=new st;function yW(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const N3=class Z_ extends ct{constructor(){super(),this.children=[],this.sortableChildren=Z_.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);ou(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,ou(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,ou(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(yW),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==Z_.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=gW.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const c=this.children[o],h=c.cullable;c.cullable=h||!this.cullArea,c.render(e),c.cullable=h}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Ot.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,h=this.children.length;c<h;++c)this.children[c].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};N3.defaultSortableChildren=!1;let kr=N3;kr.prototype.containerUpdateTransform=kr.prototype.updateTransform;Object.defineProperties(pe,{SORTABLE_CHILDREN:{get(){return kr.defaultSortableChildren},set(t){Ne("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),kr.defaultSortableChildren=t}}});var Ug=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Ug||{});const _c=new Le,vW=new Uint16Array([0,1,2,0,2,3]);class es extends kr{constructor(e){super(),this._anchor=new zi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new tt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Ae.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||he.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=vW,this.pluginName="batch",this.isSprite=!0,this._roundPixels=pe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=vo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=vo(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,h=this.vertexData,d=e.trim,f=e.orig,m=this._anchor;let g=0,_=0,x=0,E=0;if(d?(_=d.x-m._x*f.width,g=_+d.width,E=d.y-m._y*f.height,x=E+d.height):(_=-m._x*f.width,g=_+f.width,E=-m._y*f.height,x=E+f.height),h[0]=n*_+s*E+a,h[1]=o*E+i*_+c,h[2]=n*g+s*E+a,h[3]=o*E+i*g+c,h[4]=n*g+s*x+a,h[5]=o*x+i*g+c,h[6]=n*_+s*x+a,h[7]=o*x+i*_+c,this._roundPixels){const w=pe.RESOLUTION;for(let b=0;b<h.length;++b)h[b]=Math.round(h[b]*w)/w}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,c=s.c,h=s.d,d=s.tx,f=s.ty,m=-i._x*n.width,g=m+n.width,_=-i._y*n.height,x=_+n.height;if(r[0]=o*m+c*_+d,r[1]=h*_+a*m+f,r[2]=o*g+c*_+d,r[3]=h*_+a*g+f,r[4]=o*g+c*x+d,r[5]=h*x+a*g+f,r[6]=o*m+c*x+d,r[7]=h*x+a*m+f,this._roundPixels){const E=pe.RESOLUTION;for(let w=0;w<r.length;++w)r[w]=Math.round(r[w]*E)/E}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new zm),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ke),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,_c);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return _c.x>=i&&_c.x<i+r&&(s=-n*this.anchor.y,_c.y>=s&&_c.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof he?e:he.from(e,r);return new es(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=vo(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=vo(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||he.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Kf={willReadFrequently:!0},Ni=class xe{static get experimentalLetterSpacingSupported(){let e=xe._experimentalLetterSpacingSupported;if(e!==void 0){const r=pe.ADAPTER.getCanvasRenderingContext2D().prototype;e=xe._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,c,h){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=c,this.fontProperties=h}static measureText(e,r,n,i=xe._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=xe.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",Kf);a.font=s;const c=(n?xe.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(c.length);let d=0;for(let _=0;_<c.length;_++){const x=xe._measureText(c[_],r.letterSpacing,a);h[_]=x,d=Math.max(d,x)}let f=d+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);const m=r.lineHeight||o.fontSize+r.strokeThickness;let g=Math.max(m,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(m+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new xe(e,r,f,g,c,h,m+r.leading,d,o)}static _measureText(e,r,n){let i=!1;xe.experimentalLetterSpacingSupported&&(xe.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(xe.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=xe._canvas){const i=n.getContext("2d",Kf);let s=0,o="",a="";const c=Object.create(null),{letterSpacing:h,whiteSpace:d}=r,f=xe.collapseSpaces(d),m=xe.collapseNewlines(d);let g=!f;const _=r.wordWrapWidth+h,x=xe.tokenize(e);for(let E=0;E<x.length;E++){let w=x[E];if(xe.isNewline(w)){if(!m){a+=xe.addLine(o),g=!f,o="",s=0;continue}w=" "}if(f){const S=xe.isBreakingSpace(w),A=xe.isBreakingSpace(o[o.length-1]);if(S&&A)continue}const b=xe.getFromCache(w,h,c,i);if(b>_)if(o!==""&&(a+=xe.addLine(o),o="",s=0),xe.canBreakWords(w,r.breakWords)){const S=xe.wordWrapSplit(w);for(let A=0;A<S.length;A++){let k=S[A],L=k,I=1;for(;S[A+I];){const z=S[A+I];if(!xe.canBreakChars(L,z,w,A,r.breakWords))k+=z;else break;L=z,I++}A+=I-1;const M=xe.getFromCache(k,h,c,i);M+s>_&&(a+=xe.addLine(o),g=!1,o="",s=0),o+=k,s+=M}}else{o.length>0&&(a+=xe.addLine(o),o="",s=0);const S=E===x.length-1;a+=xe.addLine(w,!S),g=!1,o="",s=0}else b+s>_&&(g=!1,a+=xe.addLine(o),o="",s=0),(o.length>0||!xe.isBreakingSpace(w)||g)&&(o+=w,s+=b)}return a+=xe.addLine(o,!1),a}static addLine(e,r=!0){return e=xe.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=xe._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!xe.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:xe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:xe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(xe.isBreakingSpace(s,o)||xe.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return xe.graphemeSegmenter(e)}static measureFont(e){if(xe._fonts[e])return xe._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=xe._canvas,i=xe._context;i.font=e;const s=xe.METRICS_STRING+xe.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(xe.BASELINE_SYMBOL).width);const c=Math.ceil(xe.HEIGHT_MULTIPLIER*a);if(a=a*xe.BASELINE_MULTIPLIER|0,o===0||c===0)return xe._fonts[e]=r,r;n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const h=i.getImageData(0,0,o,c).data,d=h.length,f=o*4;let m=0,g=0,_=!1;for(m=0;m<a;++m){for(let x=0;x<f;x+=4)if(h[g+x]!==255){_=!0;break}if(!_)g+=f;else break}for(r.ascent=a-m,g=d-f,_=!1,m=c;m>a;--m){for(let x=0;x<f;x+=4)if(h[g+x]!==255){_=!0;break}if(!_)g-=f;else break}return r.descent=m-a,r.fontSize=r.ascent+r.descent,xe._fonts[e]=r,r}static clearMetrics(e=""){e?delete xe._fonts[e]:xe._fonts={}}static get _canvas(){var e;if(!xe.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",Kf))!=null&&e.measureText)return xe.__canvas=n,n;r=pe.ADAPTER.createCanvas()}catch{r=pe.ADAPTER.createCanvas()}r.width=r.height=10,xe.__canvas=r}return xe.__canvas}static get _context(){return xe.__context||(xe.__context=xe._canvas.getContext("2d",Kf)),xe.__context}};Ni.METRICS_STRING="|ÉqÅ",Ni.BASELINE_SYMBOL="M",Ni.BASELINE_MULTIPLIER=1.4,Ni.HEIGHT_MULTIPLIER=2,Ni.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Ni.experimentalLetterSpacing=!1,Ni._fonts={},Ni._newlines=[10,13],Ni._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let uo=Ni;const _W=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],D3=class Lc{constructor(e){this.styleID=0,this.reset(),Bv(this,e,e)}clone(){const e={};return Bv(e,this,Lc.defaultStyle),new Lc(e)}reset(){Bv(this,Lc.defaultStyle,Lc.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=Uv(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=Uv(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){xW(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=Uv(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!_W.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};D3.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ug.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Ps=D3;function Uv(t){const e=tt.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function xW(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Bv(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const wW={texture:!0,children:!1,baseTexture:!0},L3=class J_ extends es{constructor(e,r,n){let i=!1;n||(n=pe.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=he.from(n);s.orig=new ke,s.trim=new ke,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=J_.defaultResolution??pe.RESOLUTION,this._autoResolution=J_.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return uo.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ne("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),uo.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=uo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,c=i.lineHeight,h=i.lineWidths,d=i.maxLineWidth,f=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,g;const _=r.dropShadow?2:1;for(let x=0;x<_;++x){const E=r.dropShadow&&x===0,w=E?Math.ceil(Math.max(1,o)+r.padding*2):0,b=w*this._resolution;if(E){n.fillStyle="black",n.strokeStyle="black";const A=r.dropShadowColor,k=r.dropShadowBlur*this._resolution,L=r.dropShadowDistance*this._resolution;n.shadowColor=tt.shared.setValue(A).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=k,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*L,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*L+b}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let S=(c-f.fontSize)/2;c-f.fontSize<0&&(S=0);for(let A=0;A<a.length;A++)m=r.strokeThickness/2,g=r.strokeThickness/2+A*c+f.ascent+S,r.align==="right"?m+=d-h[A]:r.align==="center"&&(m+=(d-h[A])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[A],m+r.padding,g+r.padding-w,!0),r.fill&&this.drawLetterSpacing(a[A],m+r.padding,g+r.padding-w)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(uo.experimentalLetterSpacingSupported&&(uo.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const c=uo.graphemeSegmenter(e);let h=this.context.measureText(e).width,d=0;for(let f=0;f<c.length;++f){const m=c[f];i?this.context.strokeText(m,a,n):this.context.fillText(m,a,n);let g="";for(let _=f+1;_<c.length;++_)g+=c[_];d=this.context.measureText(g).width,a+=h-d+s,h=d}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=KG(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,c=this.canvas.width/this._resolution-o-a*2,h=this.canvas.height/this._resolution-o-a*2,d=i.slice(),f=e.fillGradientStops.slice();if(!f.length){const m=d.length+1;for(let g=1;g<m;++g)f.push(g/m)}if(d.unshift(i[0]),f.unshift(0),d.push(i[i.length-1]),f.push(1),e.fillGradientType===Ug.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,a,c/2,h+a);const m=n.fontProperties.fontSize+e.strokeThickness;for(let g=0;g<r.length;g++){const _=n.lineHeight*(g-1)+m,x=n.lineHeight*g;let E=x;g>0&&_>x&&(E=(x+_)/2);const w=x+m,b=n.lineHeight*(g+1);let S=w;g+1<r.length&&b<w&&(S=(w+b)/2);const A=(S-E)/h;for(let k=0;k<d.length;k++){let L=0;typeof f[k]=="number"?L=f[k]:L=k/d.length;let I=Math.min(1,Math.max(0,E/h+L*A));I=Number(I.toFixed(5)),s.addColorStop(I,d[k])}}}else{s=this.context.createLinearGradient(a,h/2,c+a,h/2);const m=d.length+1;let g=1;for(let _=0;_<d.length;_++){let x;typeof f[_]=="number"?x=f[_]:x=g/m,s.addColorStop(x,d[_]),g++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},wW,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=vo(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=vo(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Ps?this._style=e:this._style=new Ps(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};L3.defaultAutoResolution=!0;let ab=L3;class jm{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Op{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const h in a){const d=a[h].split("="),f=d[0],m=d[1].replace(/"/gm,""),g=parseFloat(m),_=isNaN(g)?m:g;c[f]=_}n[o].push(c)}const i=new jm;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class ex{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new jm,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const d=o[h];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(let h=0;h<a.length;h++)r.kerning.push({first:parseInt(a[h].getAttribute("first"),10),second:parseInt(a[h].getAttribute("second"),10),amount:parseInt(a[h].getAttribute("amount"),10)});for(let h=0;h<c.length;h++)r.distanceField.push({fieldType:c[h].getAttribute("fieldType"),distanceRange:parseInt(c[h].getAttribute("distanceRange"),10)});return r}}class tx{static test(e){return typeof e=="string"&&e.includes("<font>")?ex.test(pe.ADAPTER.parseXML(e)):!1}static parse(e){return ex.parse(pe.ADAPTER.parseXML(e))}}const zv=[Op,ex,tx];function bW(t){for(let e=0;e<zv.length;e++)if(zv[e].test(t))return zv[e];return null}function SW(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const c=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,d=t.width/n-c-h*2,f=t.height/n-c-h*2,m=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const _=m.length+1;for(let x=1;x<_;++x)g.push(x/_)}if(m.unshift(o[0]),g.unshift(0),m.push(o[o.length-1]),g.push(1),r.fillGradientType===Ug.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,h,d/2,f+h);let _=0;const x=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let E=0;E<i.length;E++){const w=s.lineHeight*E;for(let b=0;b<m.length;b++){let S=0;typeof g[b]=="number"?S=g[b]:S=b/m.length;const A=w/f+S*x;let k=Math.max(_,A);k=Math.min(k,1),a.addColorStop(k,m[b]),_=k}}}else{a=e.createLinearGradient(h,f/2,d+h,f/2);const _=m.length+1;let x=1;for(let E=0;E<m.length;E++){let w;typeof g[E]=="number"?w=g[E]:w=x/_,a.addColorStop(w,m[E]),x++}}return a}function EW(t,e,r,n,i,s,o){const a=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const h=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=SW(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,m=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=tt.shared.setValue(f).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,h,d+r.lineHeight-c.descent),o.fill&&e.fillText(a,h,d+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Fp(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function O3(t){return Array.from?Array.from(t):t.split("")}function TW(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,c=o;a<=c;a++)e.push(String.fromCharCode(a))}else e.push(...O3(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const ro=class Di{constructor(e,r,n){var d;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,c=ks(o.file),h={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=h;for(let f=0;f<e.page.length;f++){const{id:m,file:g}=e.page[f];h[m]=r instanceof Array?r[f]:r[g],a!=null&&a.fieldType&&a.fieldType!=="none"&&(h[m].baseTexture.alphaMode=Wr.NO_PREMULTIPLIED_ALPHA,h[m].baseTexture.mipmap=qi.OFF)}for(let f=0;f<e.char.length;f++){const{id:m,page:g}=e.char[f];let{x:_,y:x,width:E,height:w,xoffset:b,yoffset:S,xadvance:A}=e.char[f];_/=c,x/=c,E/=c,w/=c,b/=c,S/=c,A/=c;const k=new ke(_+h[g].frame.x/c,x+h[g].frame.y/c,E,w);this.chars[m]={xOffset:b,yOffset:S,xAdvance:A,kerning:{},texture:new he(h[g].baseTexture,k),page:g}}for(let f=0;f<e.kerning.length;f++){let{first:m,second:g,amount:_}=e.kerning[f];m/=c,g/=c,_/=c,this.chars[g]&&(this.chars[g].kerning[m]=_)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((d=a==null?void 0:a.fieldType)==null?void 0:d.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof jm)i=e;else{const o=bW(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof he&&(r=[r]);const s=new Di(i,r,n);return Di.available[s.font]=s,s}static uninstall(e){const r=Di.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Di.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:c,...h}=Object.assign({},Di.defaultOptions,n),d=TW(i),f=r instanceof Ps?r:new Ps(r),m=a,g=new jm;g.info[0]={face:f.fontFamily,size:f.fontSize},g.common[0]={lineHeight:f.fontSize};let _=0,x=0,E,w,b,S=0;const A=[];for(let L=0;L<d.length;L++){E||(E=pe.ADAPTER.createCanvas(),E.width=a,E.height=c,w=E.getContext("2d"),b=new Ce(E,{resolution:o,...h}),A.push(new he(b)),g.page.push({id:A.length-1,file:""}));const I=d[L],M=uo.measureText(I,f,!1,E),z=M.width,$=Math.ceil(M.height),Z=Math.ceil((f.fontStyle==="italic"?2:1)*z);if(x>=c-$*o){if(x===0)throw new Error(`[BitmapFont] textureHeight ${c}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${I}')`);--L,E=null,w=null,b=null,x=0,_=0,S=0;continue}if(S=Math.max($+M.fontProperties.descent,S),Z*o+_>=m){if(_===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${I}')`);--L,x+=S*o,x=Math.ceil(x),_=0,S=0;continue}EW(E,w,M,_,x,o,f);const Y=Fp(M.text);g.char.push({id:Y,page:A.length-1,x:_/o,y:x/o,width:Z,height:$,xoffset:0,yoffset:0,xadvance:z-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),_+=(Z+2*s)*o,_=Math.ceil(_)}if(!(n!=null&&n.skipKerning))for(let L=0,I=d.length;L<I;L++){const M=d[L];for(let z=0;z<I;z++){const $=d[z],Z=w.measureText(M).width,Y=w.measureText($).width,O=w.measureText(M+$).width-(Z+Y);O&&g.kerning.push({first:Fp(M),second:Fp($),amount:O})}}const k=new Di(g,A,!0);return Di.available[e]!==void 0&&Di.uninstall(e),Di.available[e]=k,k}};ro.ALPHA=[["a","z"],["A","Z"]," "],ro.NUMERIC=[["0","9"]],ro.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],ro.ASCII=[[" ","~"]],ro.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:ro.ALPHANUMERIC},ro.available={};let no=ro;class AW{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const jv=new Le,RC=new Na,F3=class U3 extends kr{constructor(e,r,n,i=si.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Ji.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=pe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===si.TRIANGLES&&r.length<U3.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,c=i.d,h=i.tx,d=i.ty,f=this.vertexData;for(let m=0;m<f.length/2;m++){const g=r[m*2],_=r[m*2+1];f[m*2]=s*g+a*_+h,f[m*2+1]=o*g+c*_+d}if(this._roundPixels){const m=pe.RESOLUTION;for(let g=0;g<f.length;++g)f[g]=Math.round(f[g]*m)/m}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new AW(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,jv);const r=this.geometry.getBuffer("aVertexPosition").data,n=RC.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const c=i[a]*2,h=i[a+1]*2,d=i[a+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[h],n[3]=r[h+1],n[4]=r[d],n[5]=r[d+1],RC.contains(jv.x,jv.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};F3.BATCHABLE_SIZE=100;let $h=F3;class Bg extends Fo{constructor(e,r,n){super();const i=new Ct(e),s=new Ct(r,!0),o=new Ct(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,be.FLOAT).addAttribute("aTextureCoord",s,2,!1,be.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var CW=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,RW=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Gh extends Hi{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:st.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||xs.from(RW,CW),n),this._colorDirty=!1,this.uvMatrix=new sb(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new tt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;tt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var kW=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,PW=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const kC=[],PC=[],IC=[],B3=class z3 extends kr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:c}=Object.assign({},z3.styleDefaults,r);if(!no.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new tt(i),this._font=void 0,this._fontName=a,this._fontSize=c,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new zi(()=>{this.dirty=!0},this,0,0),this._roundPixels=pe.ROUND_PIXELS,this.dirty=!0,this._resolution=pe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Z;const e=no.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Le,s=[],o=[],a=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=O3(c),d=this._maxWidth*e.size/r,f=e.distanceFieldType==="none"?kC:PC;let m=null,g=0,_=0,x=0,E=-1,w=0,b=0,S=0,A=0;for(let Y=0;Y<h.length;Y++){const O=h[Y],W=Fp(O);if(/(?:\s)/.test(O)&&(E=Y,w=g,A++),O==="\r"||O===`
`){o.push(g),a.push(-1),_=Math.max(_,g),++x,++b,i.x=0,i.y+=e.lineHeight,m=null,A=0;continue}const de=e.chars[W];if(!de)continue;m&&de.kerning[m]&&(i.x+=de.kerning[m]);const ae=IC.pop()||{texture:he.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Le};ae.texture=de.texture,ae.line=x,ae.charCode=W,ae.position.x=Math.round(i.x+de.xOffset+this._letterSpacing/2),ae.position.y=Math.round(i.y+de.yOffset),ae.prevSpaces=A,s.push(ae),g=ae.position.x+Math.max(de.xAdvance-de.xOffset,de.texture.orig.width),i.x+=de.xAdvance+this._letterSpacing,S=Math.max(S,de.yOffset+de.texture.height),m=W,E!==-1&&d>0&&i.x>d&&(++b,ou(s,1+E-b,1+Y-E),Y=E,E=-1,o.push(w),a.push(s.length>0?s[s.length-1].prevSpaces:0),_=Math.max(_,w),x++,i.x=0,i.y+=e.lineHeight,m=null,A=0)}const k=h[h.length-1];k!=="\r"&&k!==`
`&&(/(?:\s)/.test(k)&&(g=w),o.push(g),_=Math.max(_,g),a.push(-1));const L=[];for(let Y=0;Y<=x;Y++){let O=0;this._align==="right"?O=_-o[Y]:this._align==="center"?O=(_-o[Y])/2:this._align==="justify"&&(O=a[Y]<0?0:(_-o[Y])/a[Y]),L.push(O)}const I=s.length,M={},z=[],$=this._activePagesMeshData;f.push(...$);for(let Y=0;Y<I;Y++){const O=s[Y].texture,W=O.baseTexture.uid;if(!M[W]){let de=f.pop();if(!de){const le=new Bg;let D,V;e.distanceFieldType==="none"?(D=new Gh(he.EMPTY),V=Ae.NORMAL):(D=new Gh(he.EMPTY,{program:xs.from(PW,kW),uniforms:{uFWidth:0}}),V=Ae.NORMAL_NPM);const U=new $h(le,D);U.blendMode=V,de={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:U,vertices:null,uvs:null,indices:null}}de.index=0,de.indexCount=0,de.vertexCount=0,de.uvsCount=0,de.total=0;const{_textureCache:ae}=this;ae[W]=ae[W]||new he(O.baseTexture),de.mesh.texture=ae[W],de.mesh.tint=this._tintColor.value,z.push(de),M[W]=de}M[W].total++}for(let Y=0;Y<$.length;Y++)z.includes($[Y])||this.removeChild($[Y].mesh);for(let Y=0;Y<z.length;Y++)z[Y].mesh.parent!==this&&this.addChild(z[Y].mesh);this._activePagesMeshData=z;for(const Y in M){const O=M[Y],W=O.total;if(!(((Z=O.indices)==null?void 0:Z.length)>6*W)||O.vertices.length<$h.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*W),O.uvs=new Float32Array(4*2*W),O.indices=new Uint16Array(6*W);else{const de=O.total,ae=O.vertices;for(let le=de*4*2;le<ae.length;le++)ae[le]=0}O.mesh.size=6*W}for(let Y=0;Y<I;Y++){const O=s[Y];let W=O.position.x+L[O.line]*(this._align==="justify"?O.prevSpaces:1);this._roundPixels&&(W=Math.round(W));const de=W*n,ae=O.position.y*n,le=O.texture,D=M[le.baseTexture.uid],V=le.frame,U=le._uvs,j=D.index++;D.indices[j*6+0]=0+j*4,D.indices[j*6+1]=1+j*4,D.indices[j*6+2]=2+j*4,D.indices[j*6+3]=0+j*4,D.indices[j*6+4]=2+j*4,D.indices[j*6+5]=3+j*4,D.vertices[j*8+0]=de,D.vertices[j*8+1]=ae,D.vertices[j*8+2]=de+V.width*n,D.vertices[j*8+3]=ae,D.vertices[j*8+4]=de+V.width*n,D.vertices[j*8+5]=ae+V.height*n,D.vertices[j*8+6]=de,D.vertices[j*8+7]=ae+V.height*n,D.uvs[j*8+0]=U.x0,D.uvs[j*8+1]=U.y0,D.uvs[j*8+2]=U.x1,D.uvs[j*8+3]=U.y1,D.uvs[j*8+4]=U.x2,D.uvs[j*8+5]=U.y2,D.uvs[j*8+6]=U.x3,D.uvs[j*8+7]=U.y3}this._textWidth=_*n,this._textHeight=(i.y+e.lineHeight)*n;for(const Y in M){const O=M[Y];if(this.anchor.x!==0||this.anchor.y!==0){let le=0;const D=this._textWidth*this.anchor.x,V=this._textHeight*this.anchor.y;for(let U=0;U<O.total;U++)O.vertices[le++]-=D,O.vertices[le++]-=V,O.vertices[le++]-=D,O.vertices[le++]-=V,O.vertices[le++]-=D,O.vertices[le++]-=V,O.vertices[le++]-=D,O.vertices[le++]-=V}this._maxLineHeight=S*n;const W=O.mesh.geometry.getBuffer("aVertexPosition"),de=O.mesh.geometry.getBuffer("aTextureCoord"),ae=O.mesh.geometry.getIndex();W.data=O.vertices,de.data=O.uvs,ae.data=O.indices,W.update(),de.update(),ae.update()}for(let Y=0;Y<s.length;Y++)IC.push(s[Y]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=no.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:c}=this.worldTransform,h=Math.sqrt(s*s+o*o),d=Math.sqrt(a*a+c*c),f=(Math.abs(h)+Math.abs(d))/2,m=this.fontSize/i,g=e._view.resolution;for(const _ of this._activePagesMeshData)_.mesh.shader.uniforms.uFWidth=f*r*m*g}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=no.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!no.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??no.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=no.available[this._fontName].distanceFieldType==="none"?kC:PC;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=he.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};B3.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let IW=B3;const MC={loader:ce.LoadParser,resolver:ce.ResolveParser,cache:ce.CacheParser,detection:ce.DetectionParser};ve.handle(ce.Asset,t=>{const e=t.ref;Object.entries(MC).filter(([r])=>!!e[r]).forEach(([r,n])=>ve.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(MC).filter(r=>!!e[r]).forEach(r=>ve.remove(e[r]))});class MW{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Lu(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Ho(t,e){const r=t.split("?")[0],n=Rr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const ii=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),rx=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function j3(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?j3(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function NW(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),j3(t,i,0,r,n)}else n.push(t);return n}const $m=t=>!Array.isArray(t);class DW{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=ii(e);let i;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof he){const a=r;n.forEach(c=>{a.baseTexture!==he.EMPTY.baseTexture&&Ce.addToCache(a.baseTexture,c),he.addToCache(a,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const ba=new DW;class LW{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&((o=h.test)!=null&&o.call(h,e,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await((a=h.testParse)==null?void 0:a.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=$m(e),o=ii(e,h=>({alias:[h],src:h})),a=o.length,c=o.map(async h=>{const d=Rr.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,h)),i[h.src]=await this.promiseCache[d].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[d],delete i[h.src],new Error(`[Loader.load] Failed to load ${d}.
${f}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=ii(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Rr.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var mi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(mi||{});const OW=".json",FW="application/json",UW={extension:{type:ce.LoadParser,priority:mi.Low},name:"loadJson",test(t){return Lu(t,FW)||Ho(t,OW)},async load(t){return await(await pe.ADAPTER.fetch(t)).json()}};ve.add(UW);const BW=".txt",zW="text/plain",jW={name:"loadTxt",extension:{type:ce.LoadParser,priority:mi.Low},test(t){return Lu(t,zW)||Ho(t,BW)},async load(t){return await(await pe.ADAPTER.fetch(t)).text()}};ve.add(jW);const $W=["normal","bold","100","200","300","400","500","600","700","800","900"],GW=[".ttf",".otf",".woff",".woff2"],HW=["font/ttf","font/otf","font/woff","font/woff2"],WW=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function VW(t){const e=Rr.extname(t),r=Rr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(WW)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const XW={extension:{type:ce.LoadParser,priority:mi.Low},name:"loadWebFont",test(t){return Lu(t,HW)||Ho(t,GW)},async load(t,e){var n,i,s;const r=pe.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??VW(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(d=>$W.includes(d)))??["normal"],h=e.data??{};for(let d=0;d<c.length;d++){const f=c[d],m=new FontFace(a,`url(${encodeURI(t)})`,{...h,weight:f});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>pe.ADAPTER.getFontFaceSet().delete(e))}};ve.add(XW);let NC=0,$v;const YW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",qW={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${YW}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},QW={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Gv;class KW{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([qW.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){$v===void 0&&($v=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<$v&&(Gv||(Gv=URL.createObjectURL(new Blob([QW.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Gv),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[NC]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:NC++,id:n})}}const DC=new KW;function gd(t,e,r){t.resource.internal=!0;const n=new he(t),i=()=>{delete e.promiseCache[r],ba.has(r)&&ba.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const ZW=[".jpeg",".jpg",".png",".webp",".avif"],JW=["image/jpeg","image/png","image/webp","image/avif"];async function eV(t){const e=await pe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const zg={name:"loadTextures",extension:{type:ce.LoadParser,priority:mi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Lu(t,JW)||Ho(t,ZW)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await DC.isImageBitmapSupported()?i=await DC.loadImageBitmap(t):i=await eV(t):i=await new Promise((c,h)=>{const d=new Image;d.crossOrigin=this.config.crossOrigin,d.src=t,d.complete?c(d):(d.onload=()=>c(d),d.onerror=f=>h(f))});const s={...e.data};s.resolution??(s.resolution=ks(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Ce(i,s);return o.resource.src=t,gd(o,r,t)},unload(t){t.destroy(!0)}};ve.add(zg);const tV=".svg",rV="image/svg+xml",nV={extension:{type:ce.LoadParser,priority:mi.High},name:"loadSVG",test(t){return Lu(t,rV)||Ho(t,tV)},async testParse(t){return q_.test(t)},async parse(t,e,r){var s;const n=new q_(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Ce(n,{resolution:ks(t),...e==null?void 0:e.data});return i.resource.src=e.src,gd(i,r,e.src)},async load(t,e){return(await pe.ADAPTER.fetch(t)).text()},unload:zg.unload};ve.add(nV);const iV=[".mp4",".m4v",".webm",".ogv"],sV=["video/mp4","video/webm","video/ogg"],oV={name:"loadVideo",extension:{type:ce.LoadParser,priority:mi.High},config:{defaultAutoPlay:!0},test(t){return Lu(t,sV)||Ho(t,iV)},async load(t,e,r){var o;let n;const i=await(await pe.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions},c=new M3(s,a);await c.load();const h=new Ce(c,{alphaMode:await NG(),resolution:ks(t),...e==null?void 0:e.data});h.resource.src=t,n=gd(h,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};ve.add(oV);class aV{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return ii(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const c=this._createBundleAssetId(e,o);n.push(c),a=[o,c]}else{const c=o.map(h=>this._createBundleAssetId(e,h));n.push(...c),a=[...o,...c]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ne("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=c=>{this.hasKey(c)&&console.warn(`[Resolver] already has key: ${c} overwriting`)},ii(o).forEach(c=>{const{src:h,srcs:d}=c;let{data:f,format:m,loadParser:g}=c;const _=ii(h||d).map(w=>typeof w=="string"?NW(w):Array.isArray(w)?w:[w]),x=this.getAlias(c);Array.isArray(x)?x.forEach(a):a(x);const E=[];_.forEach(w=>{w.forEach(b=>{let S={};if(typeof b!="object"){S.src=b;for(let A=0;A<this._parsers.length;A++){const k=this._parsers[A];if(k.test(b)){S=k.parse(b);break}}}else f=b.data??f,m=b.format??m,g=b.loadParser??g,S={...S,...b};if(!x)throw new Error(`[Resolver] alias is undefined for this asset: ${S.src}`);S=this.buildResolvedAsset(S,{aliases:x,data:f,format:m,loadParser:g}),E.push(S)})}),x.forEach(w=>{this._assetMap[w]=E})})}resolveBundle(e){const r=$m(e);e=ii(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const c in o){const h=o[c];a[this._extractAssetIdFromBundle(i,c)]=h}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=$m(e);e=ii(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(c=>{a.params[c].forEach(h=>{const d=s.filter(f=>f[c]?f[c]===h:!1);d.length&&(s=d)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Rr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.src.split(".").pop(),e.srcs=e.src,e.name=e.alias,e}}class lV{constructor(){this._detections=[],this._initialized=!1,this.resolver=new aV,this.loader=new LW,this.cache=ba,this._backgroundLoader=new MW(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=$m(e),i=ii(e).map(a=>{if(typeof a!="string"){const c=this.resolver.getAlias(a);return c.some(h=>!this.resolver.hasKey(h))&&this.add(a),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,c=0;const h=()=>{r==null||r(++a/c)},d=o.map(f=>{const m=i[f];return c+=Object.keys(m).length,this._mapLoadToResolve(m,h).then(g=>{s[f]=g})});return await Promise.all(d),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return ba.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=ba.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,c)=>{const h=s[a.src],d=[a.src];a.alias&&d.push(...a.alias),o[i[c]]=h,ba.set(d,h)}),o}async unload(e){this._initialized||await this.init();const r=ii(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=ii(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{ba.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return zg.config.preferWorkers}set preferWorkers(e){Ne("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Zf=new lV;ve.handleByList(ce.LoadParser,Zf.loader.parsers).handleByList(ce.ResolveParser,Zf.resolver.parsers).handleByList(ce.CacheParser,Zf.cache.parsers).handleByList(ce.DetectionParser,Zf.detections);const uV={extension:ce.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof he),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};ve.add(uV);const cV={extension:{type:ce.DetectionParser,priority:1},test:async()=>{const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=";return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t})},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ve.add(cV);const hV={extension:{type:ce.DetectionParser,priority:0},test:async()=>{const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=";return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t})},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ve.add(hV);const LC=["png","jpg","jpeg"],dV={extension:{type:ce.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...LC],remove:async t=>t.filter(e=>!LC.includes(e))};ve.add(dV);const fV="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function lb(t){return fV?!1:document.createElement("video").canPlayType(t)!==""}const pV={extension:{type:ce.DetectionParser,priority:0},test:async()=>lb("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ve.add(pV);const mV={extension:{type:ce.DetectionParser,priority:0},test:async()=>lb("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ve.add(mV);const gV={extension:{type:ce.DetectionParser,priority:0},test:async()=>lb("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ve.add(gV);const yV={extension:ce.ResolveParser,test:zg.test,parse:t=>{var e;return{resolution:parseFloat(((e=pe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};ve.add(yV);const vV=[".xml",".fnt"],_V={extension:{type:ce.LoadParser,priority:mi.Normal},name:"loadBitmapFont",test(t){return vV.includes(Rr.extname(t).toLowerCase())},async testParse(t){return Op.test(t)||tx.test(t)},async parse(t,e,r){const n=Op.test(t)?Op.parse(t):tx.parse(t),{src:i}=e,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const d=s[h].file;let f=Rr.join(Rr.dirname(i),d);f=rx(f,i),o.push(f)}const a=await r.load(o),c=o.map(h=>a[h]);return no.install(n,c,!0)},async load(t,e){return(await pe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ve.add(_V);const Gm={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===nr.CIRC){const _=t.shape;r=_.x,n=_.y,o=a=_.radius,i=s=0}else if(t.type===nr.ELIP){const _=t.shape;r=_.x,n=_.y,o=_.width,a=_.height,i=s=0}else{const _=t.shape,x=_.width/2,E=_.height/2;r=_.x+x,n=_.y+E,o=a=Math.max(0,Math.min(_.radius,Math.min(x,E))),i=x-o,s=E-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+a)),h=c*8+(i?4:0)+(s?4:0);if(e.length=h,h===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let d=0,f=c*4+(i?2:0)+2,m=f,g=h;{const _=i+o,x=s,E=r+_,w=r-_,b=n+x;if(e[d++]=E,e[d++]=b,e[--f]=b,e[--f]=w,s){const S=n-x;e[m++]=w,e[m++]=S,e[--g]=S,e[--g]=E}}for(let _=1;_<c;_++){const x=Math.PI/2*(_/c),E=i+Math.cos(x)*o,w=s+Math.sin(x)*a,b=r+E,S=r-E,A=n+w,k=n-w;e[d++]=b,e[d++]=A,e[--f]=A,e[--f]=S,e[m++]=S,e[m++]=k,e[--g]=k,e[--g]=b}{const _=i,x=s+a,E=r+_,w=r-_,b=n+x,S=n-x;e[d++]=E,e[d++]=b,e[--g]=S,e[--g]=E,i&&(e[d++]=w,e[d++]=b,e[--g]=S,e[--g]=w)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,c;if(t.type!==nr.RREC){const d=t.shape;a=d.x,c=d.y}else{const d=t.shape;a=d.x+d.width/2,c=d.y+d.height/2}const h=t.matrix;n.push(t.matrix?h.a*a+h.c*c+h.tx:a,t.matrix?h.b*a+h.d*c+h.ty:c),s++,n.push(r[0],r[1]);for(let d=2;d<r.length;d+=2)n.push(r[d],r[d+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function OC(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],c=t[i+1];n+=(a-s)*(c+o),s=a,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,c=s,h=s+1;[t[o],t[c]]=[t[c],t[o]],[t[a],t[h]]=[t[h],t[a]]}}}const $3={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){OC(r,!1);const o=[];for(let h=0;h<n.length;h++){const d=n[h];OC(d.points,!0),o.push(r.length/2),r=r.concat(d.points)}const a=x9(r,o,2);if(!a)return;const c=i.length/2;for(let h=0;h<a.length;h+=3)s.push(a[h]+c),s.push(a[h+1]+c),s.push(a[h+2]+c);for(let h=0;h<r.length;h++)i.push(r[h])}}},xV={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},wV={build(t){Gm.build(t)},triangulate(t,e){Gm.triangulate(t,e)}};var Cn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Cn||{}),_o=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(_o||{});const Au={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class FC{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],c=o[o.length-1]-r,h=a-e,d=i-r,f=n-e,m=Math.abs(c*f-h*d);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const g=c*c+h*h,_=d*d+f*f,x=c*d+h*f,E=s*Math.sqrt(g)/m,w=s*Math.sqrt(_)/m,b=E*x/g,S=w*x/_,A=E*f+w*h,k=E*d+w*c,L=h*(w+b),I=c*(w+b),M=f*(E+S),z=d*(E+S),$=Math.atan2(I-k,L-A),Z=Math.atan2(z-k,M-A);return{cx:A+e,cy:k+r,radius:s,startAngle:$,endAngle:Z,anticlockwise:h*d>f*c}}static arc(e,r,n,i,s,o,a,c,h){const d=a-o,f=Au._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/Lm)*40),m=d/(f*2),g=m*2,_=Math.cos(m),x=Math.sin(m),E=f-1,w=E%1/E;for(let b=0;b<=E;++b){const S=b+w*b,A=m+o+g*S,k=Math.cos(A),L=-Math.sin(A);h.push((_*k+x*L)*s+n,(_*-L+x*k)*s+i)}}}class bV{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class ub{static curveLength(e,r,n,i,s,o,a,c){let h=0,d=0,f=0,m=0,g=0,_=0,x=0,E=0,w=0,b=0,S=0,A=e,k=r;for(let L=1;L<=10;++L)d=L/10,f=d*d,m=f*d,g=1-d,_=g*g,x=_*g,E=x*e+3*_*d*n+3*g*f*s+m*a,w=x*r+3*_*d*i+3*g*f*o+m*c,b=A-E,S=k-w,A=E,k=w,h+=Math.sqrt(b*b+S*S);return h}static curveTo(e,r,n,i,s,o,a){const c=a[a.length-2],h=a[a.length-1];a.length-=2;const d=Au._segmentsCount(ub.curveLength(c,h,e,r,n,i,s,o));let f=0,m=0,g=0,_=0,x=0;a.push(c,h);for(let E=1,w=0;E<=d;++E)w=E/d,f=1-w,m=f*f,g=m*f,_=w*w,x=_*w,a.push(g*c+3*m*w*e+3*f*_*n+x*s,g*h+3*m*w*r+3*f*_*i+x*o)}}function UC(t,e,r,n,i,s,o,a){const c=t-r*i,h=e-n*i,d=t+r*s,f=e+n*s;let m,g;o?(m=n,g=-r):(m=-n,g=r);const _=c+m,x=h+g,E=d+m,w=f+g;return a.push(_,x,E,w),2}function ca(t,e,r,n,i,s,o,a){const c=r-t,h=n-e;let d=Math.atan2(c,h),f=Math.atan2(i-t,s-e);a&&d<f?d+=Math.PI*2:!a&&d>f&&(f+=Math.PI*2);let m=d;const g=f-d,_=Math.abs(g),x=Math.sqrt(c*c+h*h),E=(15*_*Math.sqrt(x)/Math.PI>>0)+1,w=g/E;if(m+=w,a){o.push(t,e,r,n);for(let b=1,S=m;b<E;b++,S+=w)o.push(t,e,t+Math.sin(S)*x,e+Math.cos(S)*x);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let b=1,S=m;b<E;b++,S+=w)o.push(t+Math.sin(S)*x,e+Math.cos(S)*x,t,e);o.push(i,s,t,e)}return E*2}function SV(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Le(n[0],n[1]),a=new Le(n[n.length-2],n[n.length-1]),c=r.type!==nr.POLY||r.closeStroke,h=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(c){n=n.slice(),h&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const le=(o.x+a.x)*.5,D=(a.y+o.y)*.5;n.unshift(le,D),n.push(le,D)}const d=e.points,f=n.length/2;let m=n.length;const g=d.length/2,_=s.width/2,x=_*_,E=s.miterLimit*s.miterLimit;let w=n[0],b=n[1],S=n[2],A=n[3],k=0,L=0,I=-(b-A),M=w-S,z=0,$=0,Z=Math.sqrt(I*I+M*M);I/=Z,M/=Z,I*=_,M*=_;const Y=s.alignment,O=(1-Y)*2,W=Y*2;c||(s.cap===_o.ROUND?m+=ca(w-I*(O-W)*.5,b-M*(O-W)*.5,w-I*O,b-M*O,w+I*W,b+M*W,d,!0)+2:s.cap===_o.SQUARE&&(m+=UC(w,b,I,M,O,W,!0,d))),d.push(w-I*O,b-M*O,w+I*W,b+M*W);for(let le=1;le<f-1;++le){w=n[(le-1)*2],b=n[(le-1)*2+1],S=n[le*2],A=n[le*2+1],k=n[(le+1)*2],L=n[(le+1)*2+1],I=-(b-A),M=w-S,Z=Math.sqrt(I*I+M*M),I/=Z,M/=Z,I*=_,M*=_,z=-(A-L),$=S-k,Z=Math.sqrt(z*z+$*$),z/=Z,$/=Z,z*=_,$*=_;const D=S-w,V=b-A,U=S-k,j=L-A,ie=D*U+V*j,Se=V*U-j*D,we=Se<0;if(Math.abs(Se)<.001*Math.abs(ie)){d.push(S-I*O,A-M*O,S+I*W,A+M*W),ie>=0&&(s.join===Cn.ROUND?m+=ca(S,A,S-I*O,A-M*O,S-z*O,A-$*O,d,!1)+4:m+=2,d.push(S-z*W,A-$*W,S+z*O,A+$*O));continue}const $e=(-I+w)*(-M+A)-(-I+S)*(-M+b),Te=(-z+k)*(-$+A)-(-z+S)*(-$+L),ze=(D*Te-U*$e)/Se,Et=(j*$e-V*Te)/Se,kt=(ze-S)*(ze-S)+(Et-A)*(Et-A),je=S+(ze-S)*O,Pe=A+(Et-A)*O,Ge=S-(ze-S)*W,Fe=A-(Et-A)*W,Pt=Math.min(D*D+V*V,U*U+j*j),Zt=we?O:W,Nr=Pt+Zt*Zt*x,Za=kt<=Nr;let ts=s.join;if(ts===Cn.MITER&&kt/x>E&&(ts=Cn.BEVEL),Za)switch(ts){case Cn.MITER:{d.push(je,Pe,Ge,Fe);break}case Cn.BEVEL:{we?d.push(je,Pe,S+I*W,A+M*W,je,Pe,S+z*W,A+$*W):d.push(S-I*O,A-M*O,Ge,Fe,S-z*O,A-$*O,Ge,Fe),m+=2;break}case Cn.ROUND:{we?(d.push(je,Pe,S+I*W,A+M*W),m+=ca(S,A,S+I*W,A+M*W,S+z*W,A+$*W,d,!0)+4,d.push(je,Pe,S+z*W,A+$*W)):(d.push(S-I*O,A-M*O,Ge,Fe),m+=ca(S,A,S-I*O,A-M*O,S-z*O,A-$*O,d,!1)+4,d.push(S-z*O,A-$*O,Ge,Fe));break}}else{switch(d.push(S-I*O,A-M*O,S+I*W,A+M*W),ts){case Cn.MITER:{we?d.push(Ge,Fe,Ge,Fe):d.push(je,Pe,je,Pe),m+=2;break}case Cn.ROUND:{we?m+=ca(S,A,S+I*W,A+M*W,S+z*W,A+$*W,d,!0)+2:m+=ca(S,A,S-I*O,A-M*O,S-z*O,A-$*O,d,!1)+2;break}}d.push(S-z*O,A-$*O,S+z*W,A+$*W),m+=2}}w=n[(f-2)*2],b=n[(f-2)*2+1],S=n[(f-1)*2],A=n[(f-1)*2+1],I=-(b-A),M=w-S,Z=Math.sqrt(I*I+M*M),I/=Z,M/=Z,I*=_,M*=_,d.push(S-I*O,A-M*O,S+I*W,A+M*W),c||(s.cap===_o.ROUND?m+=ca(S-I*(O-W)*.5,A-M*(O-W)*.5,S-I*O,A-M*O,S+I*W,A+M*W,d,!1)+2:s.cap===_o.SQUARE&&(m+=UC(S,A,I,M,O,W,!1,d)));const de=e.indices,ae=Au.epsilon*Au.epsilon;for(let le=g;le<m+g-2;++le)w=d[le*2],b=d[le*2+1],S=d[(le+1)*2],A=d[(le+1)*2+1],k=d[(le+2)*2],L=d[(le+2)*2+1],!(Math.abs(w*(A-L)+S*(L-b)+k*(b-A))<ae)&&de.push(le,le+1,le+2)}function EV(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==nr.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,c=i.length/2,h=o.length/2;let d=h;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,h)}function BC(t,e){t.lineStyle.native?EV(t,e):SV(t,e)}class cb{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,c=r-2*i+o,h=2*n-2*e,d=2*i-2*r,f=4*(a*a+c*c),m=4*(a*h+c*d),g=h*h+d*d,_=2*Math.sqrt(f+m+g),x=Math.sqrt(f),E=2*f*x,w=2*Math.sqrt(g),b=m/x;return(E*_+x*m*(_-w)+(4*g*f-m*m)*Math.log((2*x+b+_)/(b+w)))/(4*E)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],c=Au._segmentsCount(cb.curveLength(o,a,e,r,n,i));let h=0,d=0;for(let f=1;f<=c;++f){const m=f/c;h=o+(e-o)*m,d=a+(r-a)*m,s.push(h+(e+(n-e)*m-h)*m,d+(r+(i-r)*m-d)*m)}}}const Hv={[nr.POLY]:$3,[nr.CIRC]:Gm,[nr.ELIP]:Gm,[nr.RECT]:xV,[nr.RREC]:wV},zC=[],Jf=[];class Hm{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Hm(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Sl=new Le,G3=class H3 extends Q2{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new zm,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Jf.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),zC.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new Hm(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Hm(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,Sl):Sl.copyFrom(e),i.shape.contains(Sl.x,Sl.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Sl.x,Sl.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const h=r[c],d=h.fillStyle,f=h.lineStyle;Hv[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(d.visible||f.visible)&&this.processHoles(h.holes);for(let m=0;m<2;m++){const g=m===0?d:f;if(!g.visible)continue;const _=g.texture.baseTexture,x=this.indices.length,E=this.points.length/2;_.wrapMode=bs.REPEAT,m===0?this.processFill(h):this.processLine(h);const w=this.points.length/2-E;w!==0&&(n&&!this._compareStyles(i,g)&&(n.end(x,E),n=null),n||(n=zC.pop()||new bV,n.begin(g,x,E),this.batches.push(n),i=g),this.addUvs(this.points,e,g.texture,E,w,g.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<H3.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ce._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),Jf.push(this.drawCalls[f]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Jf.pop();i||(i=new B_,i.texArray=new G_),i.texArray.count=0,i.start=0,i.size=0,i.type=si.TRIANGLES;let s=0,o=null,a=0,c=!1,h=si.TRIANGLES,d=0;this.drawCalls.push(i);for(let f=0;f<this.batches.length;f++){const m=this.batches[f],g=8,_=m.style,x=_.texture.baseTexture;c!==!!_.native&&(c=!!_.native,h=c?si.LINES:si.TRIANGLES,o=null,s=g,e++),o!==x&&(o=x,x._batchEnabled!==e&&(s===g&&(e++,s=0,i.size>0&&(i=Jf.pop(),i||(i=new B_,i.texArray=new G_),this.drawCalls.push(i)),i.start=d,i.size=0,i.texArray.count=0,i.type=h),x.touched=1,x._batchEnabled=e,x._batchLocation=s,x.wrapMode=bs.REPEAT,i.texArray.elements[i.texArray.count++]=x,s++)),i.size+=m.size,d+=m.size,a=x._batchLocation,this.addColors(r,_.color,_.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,a,m.attribSize,m.attribStart)}Ce._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let c=0;for(let h=0;h<e.length/2;h++)o[c++]=e[h*2],o[c++]=e[h*2+1],o[c++]=r[h*2],o[c++]=r[h*2+1],a[c++]=n[h],o[c++]=i[h];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?$3.triangulate(e,this):Hv[e.type].triangulate(e,this)}processLine(e){BC(e,this);for(let r=0;r<e.holes.length;r++)BC(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];Hv[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=tt.shared.setValue(r).toLittleEndianNumber(),a=tt.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let c=0;c<i;c++)e[s+c]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const c=r.length,h=n.frame;for(;a<s;){let f=e[(i+a)*2],m=e[(i+a)*2+1];if(o){const g=o.a*f+o.c*m+o.tx;m=o.b*f+o.d*m+o.ty,f=g}a++,r.push(f/h.width,m/h.height)}const d=n.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(r,n,c,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,c=r.frame,h=c.width/s.width,d=c.height/s.height;let f=c.x/c.width,m=c.y/c.height,g=Math.floor(e[n]+o),_=Math.floor(e[n+1]+o);for(let x=n+2;x<a;x+=2)g=Math.min(g,Math.floor(e[x]+o)),_=Math.min(_,Math.floor(e[x+1]+o));f-=g,m-=_;for(let x=n;x<a;x+=2)e[x]=(e[x]+f)*h,e[x+1]=(e[x+1]+m)*d}};G3.BATCHABLE_SIZE=100;let TV=G3;class jg{constructor(){this.color=16777215,this.alpha=1,this.texture=he.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new jg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=he.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class hb extends jg{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=_o.BUTT,this.join=Cn.MITER,this.miterLimit=10}clone(){const e=new hb;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=_o.BUTT,this.join=Cn.MITER,this.miterLimit=10}}const Wv={},nx=class Up extends kr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new jg,this._lineStyle=new hb,this._matrix=null,this._holeMode=!1,this.state=Ji.for2d(),this._geometry=e||new TV,this._geometry.refCount++,this._transformID=-1,this._tintColor=new tt(16777215),this.blendMode=Ae.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Up(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:he.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:_o.BUTT,join:Cn.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Na,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Na,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),cb.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),ub.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=FC.curveTo(e,r,n,i,s,o);if(a){const{cx:c,cy:h,radius:d,startAngle:f,endAngle:m,anticlockwise:g}=a;this.arc(c,h,d,f,m,g)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=Lm:o&&i<=s&&(i+=Lm),s-i===0)return this;const a=e+Math.cos(i)*n,c=r+Math.sin(i)*n,h=this._geometry.closePointEps;let d=this.currentPath?this.currentPath.points:null;if(d){const f=Math.abs(d[d.length-2]-a),m=Math.abs(d[d.length-1]-c);f<h&&m<h||d.push(a,c)}else this.moveTo(a,c),d=this.currentPath.points;return FC.arc(a,c,e,r,n,i,s,o,d),this}beginFill(e=0,r){return this.beginTextureFill({texture:he.WHITE,color:e,alpha:r})}normalizeColor(e){const r=tt.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:he.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new ke(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new Lg(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new Ng(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new Dg(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Na(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===nr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),h=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),d={vertexData:a,blendMode:r,indices:h,uvs:c,_batchRGB:tt.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=d}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,tt.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,c=o.length;a<c;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let c=0;c<a;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!Wv[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new st,default:hi.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;Wv[n]=new Hi(a,o)}r=Wv[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Up._TEMP_POINT),this._geometry.containsPoint(Up._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=tt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,h=this._geometry.points,d=this.vertexData;let f=0;for(let m=0;m<h.length;m+=2){const g=h[m],_=h[m+1];d[f++]=n*g+s*_+a,d[f++]=o*_+i*g+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};nx.curves=Au,nx._TEMP_POINT=new Le;let nh=nx;class AV extends Bg{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,c=this.height/o;for(let d=0;d<e;d++){const f=d%this.segWidth,m=d/this.segWidth|0;r.push(f*a,m*c),n.push(f/s,m/o)}const h=s*o;for(let d=0;d<h;d++){const f=d%s,m=d/s|0,g=m*this.segWidth+f,_=m*this.segWidth+f+1,x=(m+1)*this.segWidth+f,E=(m+1)*this.segWidth+f+1;i.push(g,_,x,_,E,x)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class CV extends Bg{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,c=e[0];const h=this._width*this.textureScale,d=e.length;for(let m=0;m<d;m++){const g=m*4;if(this.textureScale>0){const _=c.x-e[m].x,x=c.y-e[m].y,E=Math.sqrt(_*_+x*x);c=e[m],a+=E/h}else a=m/(d-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let f=0;for(let m=0;m<d-1;m++){const g=m*2;o[f++]=g,o[f++]=g+1,o[f++]=g+2,o[f++]=g+2,o[f++]=g+1,o[f++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<a;h++){const d=e[h],f=h*4;h<e.length-1?n=e[h+1]:n=d,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=c,s*=c),o[f]=d.x+i,o[f+1]=d.y+s,o[f+2]=d.x-i,o[f+3]=d.y-s,r=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class RV extends $h{constructor(e,r,n){const i=new AV(e.width,e.height,r,n),s=new Gh(he.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const ep=10;class kV extends RV{constructor(e,r,n,i,s){var o,a,c,h;super(he.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??ep,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??ep,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??ep,this._bottomHeight=s??((h=e.defaultBorders)==null?void 0:h.bottom)??ep,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class PV extends $h{constructor(e=he.EMPTY,r,n,i,s){const o=new Bg(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Gh(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class IV extends $h{constructor(e,r,n=0){const i=new CV(e.height,r,n),s=new Gh(e);n>0&&(e.baseTexture.wrapMode=bs.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class MV extends kr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Ae.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new tt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class jC{constructor(e,r,n){this.geometry=new Fo,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||be.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Ct(XG(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ct(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Ct(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===be.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===be.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===be.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===be.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var NV=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,DV=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class W3 extends Fg{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new st,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:be.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Hi.from(DV,NV,{}),this.state=Ji.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,h=c.alphaMode>0;this.state.blendMode=X2(e.blendMode,h),s.state.set(this.state);const d=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=tt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let g=0,_=0;g<o;g+=i,_+=1){let x=o-g;x>i&&(x=i),_>=a.length&&a.push(this._generateOneMoreBuffer(e));const E=a[_];E.uploadDynamic(r,g,x);const w=e._bufferUpdateIDs[_]||0;m=m||E._updateID<w,m&&(E._updateID=e._updateID,E.uploadStatic(r,g,x)),s.geometry.bind(E.geometry),d.drawElements(d.TRIANGLES,x*6,d.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new jC(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new jC(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,c=0,h=0,d=0;for(let f=0;f<n;++f){const m=e[r+f],g=m._texture,_=m.scale.x,x=m.scale.y,E=g.trim,w=g.orig;E?(c=E.x-m.anchor.x*w.width,a=c+E.width,d=E.y-m.anchor.y*w.height,h=d+E.height):(a=w.width*(1-m.anchor.x),c=w.width*-m.anchor.x,h=w.height*(1-m.anchor.y),d=w.height*-m.anchor.y),i[o]=c*_,i[o+1]=d*x,i[o+s]=a*_,i[o+s+1]=d*x,i[o+s*2]=a*_,i[o+s*2+1]=h*x,i[o+s*3]=c*_,i[o+s*3+1]=h*x,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a],h=tt.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}W3.extension={name:"particle",type:ce.RendererPlugin};ve.add(W3);class Hh extends es{constructor(e,r=!0){super(e[0]instanceof he?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Qt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Qt.shared.add(this.update,this,Bo.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(he.from(e[n]));return new Hh(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(he.from(e[n]));return new Hh(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof he)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Qt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Qt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const xc=new Le;class db extends es{constructor(e,r=100,n=100){super(e),this.tileTransform=new Og,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new sb(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ke),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,xc);const r=this._width,n=this._height,i=-r*this.anchor._x;if(xc.x>=i&&xc.x<i+r){const s=-n*this.anchor._y;if(xc.y>=s&&xc.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof he?e:he.from(e,r);return new db(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var LV=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,OV=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,FV=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,$C=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,UV=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const tp=new st;class V3 extends Fg{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new o3,this.state=Ji.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Hi.from($C,UV,r),this.shader=e.context.webGLVersion>1?Hi.from(OV,LV,r):Hi.from($C,FV,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,c=a.baseTexture,h=c.alphaMode>0,d=e.tileTransform.localTransform,f=e.uvMatrix;let m=c.isPowerOfTwo&&a.frame.width===c.width&&a.frame.height===c.height;m&&(c._glTextures[r.CONTEXT_UID]?m=c.wrapMode!==bs.CLAMP:c.wrapMode===bs.CLAMP&&(c.wrapMode=bs.REPEAT));const g=m?this.simpleShader:this.shader,_=a.width,x=a.height,E=e._width,w=e._height;tp.set(d.a*_/E,d.b*_/w,d.c*x/E,d.d*x/w,d.tx/E,d.ty/w),tp.invert(),m?tp.prepend(f.mapCoord):(g.uniforms.uMapCoord=f.mapCoord.toArray(!0),g.uniforms.uClampFrame=f.uClampFrame,g.uniforms.uClampOffset=f.uClampOffset),g.uniforms.uTransform=tp.toArray(!0),g.uniforms.uColor=tt.shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=X2(e.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}V3.extension={name:"tilingSprite",type:ce.RendererPlugin};ve.add(V3);const X3=class ix{constructor(e){this.stage=new kr,e=Object.assign({forceCanvas:!1},e),this.renderer=aW(e),ix._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=ix._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};X3._plugins=[];let $g=X3;ve.handleByList(ce.Application,$g._plugins);class Y3{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Y3.extension=ce.Application;ve.add(Y3);var q3={exports:{}},BV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zV=BV,jV=zV;function Q3(){}function K3(){}K3.resetWarningCache=Q3;var $V=function(){function t(n,i,s,o,a,c){if(c!==jV){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:K3,resetWarningCache:Q3};return r.PropTypes=r,r};q3.exports=$V();var GV=q3.exports;const nt=rd(GV);function hn(t){return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(t)}function Z3(t){var e=function(r,n){if(hn(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(hn(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return hn(e)==="symbol"?e:String(e)}function At(t,e,r){return(e=Z3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Is(t){return function(e){if(Array.isArray(e))return Vv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Vv(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vv(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function St(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var HV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VV=function(t){return t==null};function Oc(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Is(t);else{if(t===null||hn(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!VV(r)&&!isNaN(r)}).map(Number)}function GC(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Xv(t){return t instanceof Le||t instanceof zi}var Wm=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Yv(t,e,r){if(Xv(t[e])&&Xv(r))t[e].copyFrom(r);else if(Xv(t[e])){var n=Oc(r);St(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),hn(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var El,J3=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},eM=function(t){return function(){return!t.apply(void 0,arguments)}},sx="children",XV=(At(El={},sx,!0),At(El,"parent",!0),At(El,"worldAlpha",!0),At(El,"worldTransform",!0),At(El,"worldVisible",!0),El),ox={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Qi=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var c,h;a==null||(c=a.__reactpixi)===null||c===void 0||(h=c.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,c){if(r.hasOwnProperty(a))return St(c.typeofs.some(function(h){return hn(r[a])===h})||c.instanceofs.some(function(h){return r[a]instanceof h}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return St(r.texture instanceof he,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,he]});St(!!s,"".concat(t," could not get texture from props"));var o=he.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},YV=eM(J3([].concat(Is(Object.keys(XV)),Is(Wm))));function Ki(t,e,r){var n=!1;if(St(ct.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",hn(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Wm.length;o++){var a=Wm[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<c.length;h++){var d=c[h];e[d]!==r[d]&&(n=!0,Yv(t,d,r[d]))}return n}for(var f=c.filter(YV),m=0;m<f.length;m++){var g=f[m],_=r[g];r[g]!==e[g]&&(n=!0),_!==void 0?Yv(t,g,_):g in ox?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(_," for"),t),n=!0,Yv(t,g,ox[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(_," for"),t)}return n}var qV=function(t,e){var r=e.text,n=e.style;return new IW(r,n)},QV=function(){return new kr};function Wo(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var c,h,d={},f=Object.keys(o);for(h=0;h<f.length;h++)c=f[h],a.indexOf(c)>=0||(d[c]=o[c]);return d}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var KV=["draw","geometry"],ZV=function(t,e){var r=e.geometry;St(!r||r instanceof nh,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new nh(r.geometry):new nh;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var c=Ki(i,s,Wo(o,KV));return s.draw!==a&&typeof a=="function"&&(c=!0,a.call(n,n)),c},n},JV=["image","texture"],eX=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,c=e.bottomHeight,h=c===void 0?10:c,d=Qi("NineSlicePlane",t,e),f=new kV(d,n,s,a,h);return f.applyProps=function(m,g,_){var x=_.image,E=_.texture,w=Ki(m,g,Wo(_,JV));return(x||E)&&(E!==g.texture&&(w=!0),m.texture=Qi("NineSlicePlane",t,_)),w},f};function HC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(n){At(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var tX=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,c=rp(rp({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),h=rp(rp({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),d=new MV(n,c,s,a);return d.willUnmount=function(f,m,g){f.destroy(h)},d},rX=["image","texture"],nX=function(t,e){var r=new es(Qi("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,c=Ki(n,i,Wo(s,rX));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=Qi("Sprite",t,s)),c},r},iX=["textures","isPlaying","initialFrame","images"],sX=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(h){return h.map(function(d){return St(d instanceof he||(d==null?void 0:d.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),d})},c=n?Hh.fromImages(n):new Hh(a(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(h,d,f){var m=f.textures,g=f.isPlaying,_=f.initialFrame,x=f.images,E=Ki(h,d,Wo(f,iX));if(x&&d.images!==x){for(var w=[],b=0;b<x.length;++b)w.push(he.from(x[b]));h.textures=w,E=!0}if(m&&d.textures!==m&&(h.textures=a(m),E=!0),g!==d.isPlaying||_!==d.initialFrame){var S=typeof _=="number"?_:c.currentFrame||0;c[g?"gotoAndPlay":"gotoAndStop"](S),E=!0}return E},c},oX=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new ab(n,s);return o?(a.updateText(),new es(a.texture)):a},aX=["tileScale","tilePosition","image","texture"],lX=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Qi("TilingSprite",t,e),a=new db(o,n,s);return a.applyProps=function(c,h,d){var f=d.tileScale,m=d.tilePosition,g=d.image,_=d.texture,x=Ki(c,h,Wo(d,aX));if(m){var E,w=Oc(m);(E=c.tilePosition).set.apply(E,Is(w)),x=!GC(Oc(h.tilePosition),w)||x}if(f){var b,S=Oc(f);(b=c.tileScale).set.apply(b,Is(S)),x=!GC(Oc(h.tileScale),S)||x}return(g||_)&&(_!==h.texture&&(x=!0),c.texture=Qi("Sprite",t,d)),x},a},uX=["image","texture"],cX=function(t,e){var r=Qi("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?si.TRIANGLES:o,c=new PV(r,n,i,s,a);return c.applyProps=function(h,d,f){var m=f.image,g=f.texture,_=Ki(h,d,Wo(f,uX));return(m||g)&&(g!==d.texture&&(_=!0),h.texture=Qi("Mesh",t,f)),_},c},hX=["image","texture"],dX=function(t,e){var r=Qi("SimpleRope",t,e),n=e.points,i=new IV(r,n);return i.applyProps=function(s,o,a){var c=a.image,h=a.texture,d=Wo(a,hX);St(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var f=Ki(s,o,d);return(c||h)&&(h!==o.texture&&(f=!0),s.texture=Qi("SimpleRope",t,a)),f},i},fX=Object.freeze({__proto__:null,BitmapText:qV,Container:QV,Graphics:ZV,NineSlicePlane:eX,ParticleContainer:tX,Sprite:nX,Text:oX,TilingSprite:lX,SimpleMesh:cX,SimpleRope:dX,AnimatedSprite:sX});function WC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(r),!0).forEach(function(n){At(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var qr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},pX=Object.keys(qr).reduce(function(t,e){return VC(VC({},t),{},At({},e,fX[e]))},{}),tM={};function mX(t,e){return St(!!t,"Expect type to be defined, got `%s`",t),St(!qr[t],"Component `%s` could not be created, already exists in default components.",t),tM[t]=e,t}var XC,YC,qC,QC,ax={},lx={},gX={get exports(){return lx},set exports(t){lx=t}},KC={};function yX(){return YC||(YC=1,gX.exports=(XC||(XC=1,function(t){function e(D,V){var U=D.length;D.push(V);e:for(;0<U;){var j=U-1>>>1,ie=D[j];if(!(0<i(ie,V)))break e;D[j]=V,D[U]=ie,U=j}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var V=D[0],U=D.pop();if(U!==V){D[0]=U;e:for(var j=0,ie=D.length,Se=ie>>>1;j<Se;){var we=2*(j+1)-1,$e=D[we],Te=we+1,ze=D[Te];if(0>i($e,U))Te<ie&&0>i(ze,$e)?(D[j]=ze,D[Te]=U,j=Te):(D[j]=$e,D[we]=U,j=we);else{if(!(Te<ie&&0>i(ze,U)))break e;D[j]=ze,D[Te]=U,j=Te}}}return V}function i(D,V){var U=D.sortIndex-V.sortIndex;return U!==0?U:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],h=[],d=1,f=null,m=3,g=!1,_=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function S(D){for(var V=r(h);V!==null;){if(V.callback===null)n(h);else{if(!(V.startTime<=D))break;n(h),V.sortIndex=V.expirationTime,e(c,V)}V=r(h)}}function A(D){if(x=!1,S(D),!_)if(r(c)!==null)_=!0,ae(k);else{var V=r(h);V!==null&&le(A,V.startTime-D)}}function k(D,V){_=!1,x&&(x=!1,w(z),z=-1),g=!0;var U=m;try{for(S(V),f=r(c);f!==null&&(!(f.expirationTime>V)||D&&!Y());){var j=f.callback;if(typeof j=="function"){f.callback=null,m=f.priorityLevel;var ie=j(f.expirationTime<=V);V=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===r(c)&&n(c),S(V)}else n(c);f=r(c)}if(f!==null)var Se=!0;else{var we=r(h);we!==null&&le(A,we.startTime-V),Se=!1}return Se}finally{f=null,m=U,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L,I=!1,M=null,z=-1,$=5,Z=-1;function Y(){return!(t.unstable_now()-Z<$)}function O(){if(M!==null){var D=t.unstable_now();Z=D;var V=!0;try{V=M(!0,D)}finally{V?L():(I=!1,M=null)}}else I=!1}if(typeof b=="function")L=function(){b(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,de=W.port2;W.port1.onmessage=O,L=function(){de.postMessage(null)}}else L=function(){E(O,0)};function ae(D){M=D,I||(I=!0,L())}function le(D,V){z=E(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,ae(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var U=m;m=V;try{return D()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=m;m=D;try{return V()}finally{m=U}},t.unstable_scheduleCallback=function(D,V,U){var j=t.unstable_now();switch(U=typeof U=="object"&&U!==null&&typeof(U=U.delay)=="number"&&0<U?j+U:j,D){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return D={id:d++,callback:V,priorityLevel:D,startTime:U,expirationTime:ie=U+ie,sortIndex:-1},U>j?(D.sortIndex=U,e(h,D),r(c)===null&&D===r(h)&&(x?(w(z),z=-1):x=!0,le(A,U-j))):(D.sortIndex=ie,e(c,D),_||g||(_=!0,ae(k))),D},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(D){var V=m;return function(){var U=m;m=V;try{return D.apply(this,arguments)}finally{m=U}}}}(KC)),KC)),lx}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function vX(){return QC||(QC=1,qC=function(t){var e={},r=qe,n=yX(),i=Object.assign;function s(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),A=Symbol.iterator;function k(l){return l===null||typeof l!="object"?null:typeof(l=A&&l[A]||l["@@iterator"])=="function"?l:null}function L(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case h:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case E:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case g:return(l.displayName||"Context")+".Consumer";case m:return(l._context.displayName||"Context")+".Provider";case _:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case w:return(u=l.displayName||null)!==null?u:L(l.type)||"Memo";case b:u=l._payload,l=l._init;try{return L(l(u))}catch{}}return null}function I(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(u);case 8:return u===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function M(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function z(l){if(M(l)!==l)throw Error(s(188))}function $(l){var u=l.alternate;if(!u){if((u=M(l))===null)throw Error(s(188));return u!==l?null:l}for(var p=l,y=u;;){var v=p.return;if(v===null)break;var T=v.alternate;if(T===null){if((y=v.return)!==null){p=y;continue}break}if(v.child===T.child){for(T=v.child;T;){if(T===p)return z(v),l;if(T===y)return z(v),u;T=T.sibling}throw Error(s(188))}if(p.return!==y.return)p=v,y=T;else{for(var C=!1,N=v.child;N;){if(N===p){C=!0,p=v,y=T;break}if(N===y){C=!0,y=v,p=T;break}N=N.sibling}if(!C){for(N=T.child;N;){if(N===p){C=!0,p=T,y=v;break}if(N===y){C=!0,y=T,p=v;break}N=N.sibling}if(!C)throw Error(s(189))}}if(p.alternate!==y)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?l:u}function Z(l){return(l=$(l))!==null?Y(l):null}function Y(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Y(l);if(u!==null)return u;l=l.sibling}return null}function O(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=O(l);if(u!==null)return u}l=l.sibling}return null}var W,de=Array.isArray,ae=t.getPublicInstance,le=t.getRootHostContext,D=t.getChildHostContext,V=t.prepareForCommit,U=t.resetAfterCommit,j=t.createInstance,ie=t.appendInitialChild,Se=t.finalizeInitialChildren,we=t.prepareUpdate,$e=t.shouldSetTextContent,Te=t.createTextInstance,ze=t.scheduleTimeout,Et=t.cancelTimeout,kt=t.noTimeout,je=t.isPrimaryRenderer,Pe=t.supportsMutation,Ge=t.supportsPersistence,Fe=t.supportsHydration,Pt=t.getInstanceFromNode,Zt=t.preparePortalMount,Nr=t.getCurrentEventPriority,Za=t.detachDeletedInstance,ts=t.supportsMicrotasks,Fu=t.scheduleMicrotask,Dr=t.supportsTestSelectors,Ja=t.findFiberRoot,el=t.getBoundingRect,wd=t.getTextContent,Ds=t.isHiddenSubtree,Zg=t.matchAccessibilityRole,Jg=t.setFocusIfFocusable,Ls=t.setupIntersectionObserver,Os=t.appendChild,Vo=t.appendChildToContainer,bd=t.commitTextUpdate,yi=t.commitMount,Sd=t.commitUpdate,ey=t.insertBefore,ty=t.insertInContainerBefore,Ed=t.removeChild,ry=t.removeChildFromContainer,Uu=t.resetTextContent,ny=t.hideInstance,iy=t.hideTextInstance,sy=t.unhideInstance,Dt=t.unhideTextInstance,vr=t.clearContainer,_r=t.cloneInstance,jn=t.createContainerChildSet,xr=t.appendChildToContainerChildSet,Qr=t.finalizeContainerChildren,Lr=t.replaceContainerChildren,rs=t.cloneHiddenInstance,Or=t.cloneHiddenTextInstance,Xo=t.canHydrateInstance,Yo=t.canHydrateTextInstance,tl=t.canHydrateSuspenseInstance,qo=t.isSuspenseInstancePending,rl=t.isSuspenseInstanceFallback,Qo=t.getSuspenseInstanceFallbackErrorDetails,Ko=t.registerSuspenseInstanceRetry,Fs=t.getNextHydratableSibling,eN=t.getFirstHydratableChild,tN=t.getFirstHydratableChildWithinContainer,rN=t.getFirstHydratableChildWithinSuspenseInstance,nN=t.hydrateInstance,iN=t.hydrateTextInstance,sN=t.hydrateSuspenseInstance,oN=t.getNextHydratableInstanceAfterSuspenseInstance,aN=t.commitHydratedContainer,lN=t.commitHydratedSuspenseInstance,uN=t.clearSuspenseBoundary,cN=t.clearSuspenseBoundaryFromContainer,hN=t.shouldDeleteUnhydratedTailInstances,dN=t.didNotMatchHydratedContainerTextInstance,fN=t.didNotMatchHydratedTextInstance;function Bu(l){if(W===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+l}var oy=!1;function ay(l,u){if(!l||oy)return"";oy=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(H){var y=H}Reflect.construct(l,[],u)}else{try{u.call()}catch(H){y=H}l.call(u.prototype)}else{try{throw Error()}catch(H){y=H}l()}}catch(H){if(H&&y&&typeof H.stack=="string"){for(var v=H.stack.split(`
`),T=y.stack.split(`
`),C=v.length-1,N=T.length-1;1<=C&&0<=N&&v[C]!==T[N];)N--;for(;1<=C&&0<=N;C--,N--)if(v[C]!==T[N]){if(C!==1||N!==1)do if(C--,0>--N||v[C]!==T[N]){var B=`
`+v[C].replace(" at new "," at ");return l.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",l.displayName)),B}while(1<=C&&0<=N);break}}}finally{oy=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?Bu(l):""}var pN=Object.prototype.hasOwnProperty,ly=[],nl=-1;function Us(l){return{current:l}}function ot(l){0>nl||(l.current=ly[nl],ly[nl]=null,nl--)}function Ke(l,u){nl++,ly[nl]=l.current,l.current=u}var Bs={},ar=Us(Bs),Fr=Us(!1),Zo=Bs;function il(l,u){var p=l.type.contextTypes;if(!p)return Bs;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var v,T={};for(v in p)T[v]=u[v];return y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=T),T}function Kr(l){return(l=l.childContextTypes)!=null}function uy(){ot(Fr),ot(ar)}function Rb(l,u,p){if(ar.current!==Bs)throw Error(s(168));Ke(ar,u),Ke(Fr,p)}function kb(l,u,p){var y=l.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return p;for(var v in y=y.getChildContext())if(!(v in u))throw Error(s(108,I(l)||"Unknown",v));return i({},p,y)}function Td(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Bs,Zo=ar.current,Ke(ar,l),Ke(Fr,Fr.current),!0}function Pb(l,u,p){var y=l.stateNode;if(!y)throw Error(s(169));p?(l=kb(l,u,Zo),y.__reactInternalMemoizedMergedChildContext=l,ot(Fr),ot(ar),Ke(ar,l)):ot(Fr),Ke(Fr,p)}var $n=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(mN(l)/gN|0)|0},mN=Math.log,gN=Math.LN2,cy=64,hy=4194304;function zu(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ad(l,u){var p=l.pendingLanes;if(p===0)return 0;var y=0,v=l.suspendedLanes,T=l.pingedLanes,C=268435455&p;if(C!==0){var N=C&~v;N!==0?y=zu(N):(T&=C)!==0&&(y=zu(T))}else(C=p&~v)!==0?y=zu(C):T!==0&&(y=zu(T));if(y===0)return 0;if(u!==0&&u!==y&&!(u&v)&&((v=y&-y)>=(T=u&-u)||v===16&&4194240&T))return u;if(4&y&&(y|=16&p),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=y;0<u;)v=1<<(p=31-$n(u)),y|=l[p],u&=~v;return y}function yN(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function dy(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function Ib(){var l=cy;return!(4194240&(cy<<=1))&&(cy=64),l}function fy(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function ju(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-$n(u)]=p}function py(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var y=31-$n(p),v=1<<y;v&u|l[y]&u&&(l[y]|=u),p&=~v}}var We=0;function Mb(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var my=n.unstable_scheduleCallback,Nb=n.unstable_cancelCallback,vN=n.unstable_shouldYield,_N=n.unstable_requestPaint,jt=n.unstable_now,gy=n.unstable_ImmediatePriority,xN=n.unstable_UserBlockingPriority,Db=n.unstable_NormalPriority,wN=n.unstable_IdlePriority,Cd=null,vi=null,Gn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},ns=null,Rd=!1,yy=!1;function Lb(l){ns===null?ns=[l]:ns.push(l)}function _i(){if(!yy&&ns!==null){yy=!0;var l=0,u=We;try{var p=ns;for(We=1;l<p.length;l++){var y=p[l];do y=y(!0);while(y!==null)}ns=null,Rd=!1}catch(v){throw ns!==null&&(ns=ns.slice(l+1)),my(gy,_i),v}finally{We=u,yy=!1}}return null}var sl=[],ol=0,kd=null,Pd=0,yn=[],vn=0,Jo=null,xi=1,is="";function ea(l,u){sl[ol++]=Pd,sl[ol++]=kd,kd=l,Pd=u}function Ob(l,u,p){yn[vn++]=xi,yn[vn++]=is,yn[vn++]=Jo,Jo=l;var y=xi;l=is;var v=32-$n(y)-1;y&=~(1<<v),p+=1;var T=32-$n(u)+v;if(30<T){var C=v-v%5;T=(y&(1<<C)-1).toString(32),y>>=C,v-=C,xi=1<<32-$n(u)+v|p<<v|y,is=T+l}else xi=1<<T|p<<v|y,is=l}function vy(l){l.return!==null&&(ea(l,1),Ob(l,1,0))}function _y(l){for(;l===kd;)kd=sl[--ol],sl[ol]=null,Pd=sl[--ol],sl[ol]=null;for(;l===Jo;)Jo=yn[--vn],yn[vn]=null,is=yn[--vn],yn[vn]=null,xi=yn[--vn],yn[vn]=null}var Zr=null,_n=null,at=!1,$u=!1,Hn=null;function Fb(l,u){var p=En(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,(u=l.deletions)===null?(l.deletions=[p],l.flags|=16):u.push(p)}function Ub(l,u){switch(l.tag){case 5:return(u=Xo(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Zr=l,_n=eN(u),!0);case 6:return(u=Yo(u,l.pendingProps))!==null&&(l.stateNode=u,Zr=l,_n=null,!0);case 13:if((u=tl(u))!==null){var p=Jo!==null?{id:xi,overflow:is}:null;return l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},(p=En(18,null,null,0)).stateNode=u,p.return=l,l.child=p,Zr=l,_n=null,!0}return!1;default:return!1}}function xy(l){return(1&l.mode)!=0&&(128&l.flags)==0}function wy(l){if(at){var u=_n;if(u){var p=u;if(!Ub(l,u)){if(xy(l))throw Error(s(418));u=Fs(p);var y=Zr;u&&Ub(l,u)?Fb(y,p):(l.flags=-4097&l.flags|2,at=!1,Zr=l)}}else{if(xy(l))throw Error(s(418));l.flags=-4097&l.flags|2,at=!1,Zr=l}}}function Bb(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Zr=l}function Id(l){if(!Fe||l!==Zr)return!1;if(!at)return Bb(l),at=!0,!1;if(l.tag!==3&&(l.tag!==5||hN(l.type)&&!$e(l.type,l.memoizedProps))){var u=_n;if(u){if(xy(l))throw zb(),Error(s(418));for(;u;)Fb(l,u),u=Fs(u)}}if(Bb(l),l.tag===13){if(!Fe)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));_n=oN(l)}else _n=Zr?Fs(l.stateNode):null;return!0}function zb(){for(var l=_n;l;)l=Fs(l)}function al(){Fe&&(_n=Zr=null,$u=at=!1)}function by(l){Hn===null?Hn=[l]:Hn.push(l)}var bN=o.ReactCurrentBatchConfig;function Md(l,u){if(Gn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var v=p[y];if(!pN.call(u,v)||!Gn(l[v],u[v]))return!1}return!0}function SN(l){switch(l.tag){case 5:return Bu(l.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return l=ay(l.type,!1);case 11:return l=ay(l.type.render,!1);case 1:return l=ay(l.type,!0);default:return""}}function Wn(l,u){if(l&&l.defaultProps){for(var p in u=i({},u),l=l.defaultProps)u[p]===void 0&&(u[p]=l[p]);return u}return u}var Nd=Us(null),Dd=null,ll=null,Sy=null;function Ey(){Sy=ll=Dd=null}function jb(l,u,p){je?(Ke(Nd,u._currentValue),u._currentValue=p):(Ke(Nd,u._currentValue2),u._currentValue2=p)}function Ty(l){var u=Nd.current;ot(Nd),je?l._currentValue=u:l._currentValue2=u}function Ay(l,u,p){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===p)break;l=l.return}}function ul(l,u){Dd=l,Sy=ll=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(Ur=!0),l.firstContext=null)}function xn(l){var u=je?l._currentValue:l._currentValue2;if(Sy!==l)if(l={context:l,memoizedValue:u,next:null},ll===null){if(Dd===null)throw Error(s(308));ll=l,Dd.dependencies={lanes:0,firstContext:l}}else ll=ll.next=l;return u}var ta=null;function Cy(l){ta===null?ta=[l]:ta.push(l)}function $b(l,u,p,y){var v=u.interleaved;return v===null?(p.next=p,Cy(u)):(p.next=v.next,v.next=p),u.interleaved=p,wi(l,y)}function wi(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,(p=l.alternate)!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var zs=!1;function Ry(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gb(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ss(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function js(l,u,p){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(2&Ue)!=0){var v=y.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),y.pending=u,wi(l,p)}return(v=y.interleaved)===null?(u.next=u,Cy(y)):(u.next=v.next,v.next=u),y.interleaved=u,wi(l,p)}function Ld(l,u,p){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&p)!=0)){var y=u.lanes;p|=y&=l.pendingLanes,u.lanes=p,py(l,p)}}function Hb(l,u){var p=l.updateQueue,y=l.alternate;if(y!==null&&p===(y=y.updateQueue)){var v=null,T=null;if((p=p.firstBaseUpdate)!==null){do{var C={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?v=T=C:T=T.next=C,p=p.next}while(p!==null);T===null?v=T=u:T=T.next=u}else v=T=u;return p={baseState:y.baseState,firstBaseUpdate:v,lastBaseUpdate:T,shared:y.shared,effects:y.effects},void(l.updateQueue=p)}(l=p.lastBaseUpdate)===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function Od(l,u,p,y){var v=l.updateQueue;zs=!1;var T=v.firstBaseUpdate,C=v.lastBaseUpdate,N=v.shared.pending;if(N!==null){v.shared.pending=null;var B=N,H=B.next;B.next=null,C===null?T=H:C.next=H,C=B;var Q=l.alternate;Q!==null&&(N=(Q=Q.updateQueue).lastBaseUpdate)!==C&&(N===null?Q.firstBaseUpdate=H:N.next=H,Q.lastBaseUpdate=B)}if(T!==null){var ue=v.baseState;for(C=0,Q=H=B=null,N=T;;){var q=N.lane,re=N.eventTime;if((y&q)===q){Q!==null&&(Q=Q.next={eventTime:re,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ye=l,Me=N;switch(q=u,re=p,Me.tag){case 1:if(typeof(ye=Me.payload)=="function"){ue=ye.call(re,ue,q);break e}ue=ye;break e;case 3:ye.flags=-65537&ye.flags|128;case 0:if((q=typeof(ye=Me.payload)=="function"?ye.call(re,ue,q):ye)==null)break e;ue=i({},ue,q);break e;case 2:zs=!0}}N.callback!==null&&N.lane!==0&&(l.flags|=64,(q=v.effects)===null?v.effects=[N]:q.push(N))}else re={eventTime:re,lane:q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Q===null?(H=Q=re,B=ue):Q=Q.next=re,C|=q;if((N=N.next)===null){if((N=v.shared.pending)===null)break;N=(q=N).next,q.next=null,v.lastBaseUpdate=q,v.shared.pending=null}}if(Q===null&&(B=ue),v.baseState=B,v.firstBaseUpdate=H,v.lastBaseUpdate=Q,(u=v.shared.interleaved)!==null){v=u;do C|=v.lane,v=v.next;while(v!==u)}else T===null&&(v.shared.lanes=0);na|=C,l.lanes=C,l.memoizedState=ue}}function Wb(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var y=l[u],v=y.callback;if(v!==null){if(y.callback=null,y=p,typeof v!="function")throw Error(s(191,v));v.call(y)}}}var Vb=new r.Component().refs;function ky(l,u,p,y){p=(p=p(y,u=l.memoizedState))==null?u:i({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Fd={isMounted:function(l){return!!(l=l._reactInternals)&&M(l)===l},enqueueSetState:function(l,u,p){l=l._reactInternals;var y=cr(),v=Ws(l),T=ss(y,v);T.payload=u,p!=null&&(T.callback=p),(u=js(l,T,v))!==null&&(Sn(u,l,v,y),Ld(u,l,v))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var y=cr(),v=Ws(l),T=ss(y,v);T.tag=1,T.payload=u,p!=null&&(T.callback=p),(u=js(l,T,v))!==null&&(Sn(u,l,v,y),Ld(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=cr(),y=Ws(l),v=ss(p,y);v.tag=2,u!=null&&(v.callback=u),(u=js(l,v,y))!==null&&(Sn(u,l,y,p),Ld(u,l,y))}};function Xb(l,u,p,y,v,T,C){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,T,C):!u.prototype||!u.prototype.isPureReactComponent||!Md(p,y)||!Md(v,T)}function Yb(l,u,p){var y=!1,v=Bs,T=u.contextType;return typeof T=="object"&&T!==null?T=xn(T):(v=Kr(u)?Zo:ar.current,T=(y=(y=u.contextTypes)!=null)?il(l,v):Bs),u=new u(p,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Fd,l.stateNode=u,u._reactInternals=l,y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=v,l.__reactInternalMemoizedMaskedChildContext=T),u}function qb(l,u,p,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==l&&Fd.enqueueReplaceState(u,u.state,null)}function Py(l,u,p,y){var v=l.stateNode;v.props=p,v.state=l.memoizedState,v.refs=Vb,Ry(l);var T=u.contextType;typeof T=="object"&&T!==null?v.context=xn(T):(T=Kr(u)?Zo:ar.current,v.context=il(l,T)),v.state=l.memoizedState,typeof(T=u.getDerivedStateFromProps)=="function"&&(ky(l,u,T,p),v.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(u=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),u!==v.state&&Fd.enqueueReplaceState(v,v.state,null),Od(l,p,v,y),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308)}function Gu(l,u,p){if((l=p.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner){if(p.tag!==1)throw Error(s(309));var y=p.stateNode}if(!y)throw Error(s(147,l));var v=y,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(C){var N=v.refs;N===Vb&&(N=v.refs={}),C===null?delete N[T]:N[T]=C},u._stringRef=T,u)}if(typeof l!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,l))}return l}function Ud(l,u){throw l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Qb(l){return(0,l._init)(l._payload)}function Kb(l){function u(K,F){if(l){var G=K.deletions;G===null?(K.deletions=[F],K.flags|=16):G.push(F)}}function p(K,F){if(!l)return null;for(;F!==null;)u(K,F),F=F.sibling;return null}function y(K,F){for(K=new Map;F!==null;)F.key!==null?K.set(F.key,F):K.set(F.index,F),F=F.sibling;return K}function v(K,F){return(K=Xs(K,F)).index=0,K.sibling=null,K}function T(K,F,G){return K.index=G,l?(G=K.alternate)!==null?(G=G.index)<F?(K.flags|=2,F):G:(K.flags|=2,F):(K.flags|=1048576,F)}function C(K){return l&&K.alternate===null&&(K.flags|=2),K}function N(K,F,G,J){return F===null||F.tag!==6?((F=g0(G,K.mode,J)).return=K,F):((F=v(F,G)).return=K,F)}function B(K,F,G,J){var Ee=G.type;return Ee===h?Q(K,F,G.props.children,J,G.key):F!==null&&(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===b&&Qb(Ee)===F.type)?((J=v(F,G.props)).ref=Gu(K,F,G),J.return=K,J):((J=hf(G.type,G.key,G.props,null,K.mode,J)).ref=Gu(K,F,G),J.return=K,J)}function H(K,F,G,J){return F===null||F.tag!==4||F.stateNode.containerInfo!==G.containerInfo||F.stateNode.implementation!==G.implementation?((F=y0(G,K.mode,J)).return=K,F):((F=v(F,G.children||[])).return=K,F)}function Q(K,F,G,J,Ee){return F===null||F.tag!==7?((F=oa(G,K.mode,J,Ee)).return=K,F):((F=v(F,G)).return=K,F)}function ue(K,F,G){if(typeof F=="string"&&F!==""||typeof F=="number")return(F=g0(""+F,K.mode,G)).return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case a:return(G=hf(F.type,F.key,F.props,null,K.mode,G)).ref=Gu(K,null,F),G.return=K,G;case c:return(F=y0(F,K.mode,G)).return=K,F;case b:return ue(K,(0,F._init)(F._payload),G)}if(de(F)||k(F))return(F=oa(F,K.mode,G,null)).return=K,F;Ud(K,F)}return null}function q(K,F,G,J){var Ee=F!==null?F.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ee!==null?null:N(K,F,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case a:return G.key===Ee?B(K,F,G,J):null;case c:return G.key===Ee?H(K,F,G,J):null;case b:return q(K,F,(Ee=G._init)(G._payload),J)}if(de(G)||k(G))return Ee!==null?null:Q(K,F,G,J,null);Ud(K,G)}return null}function re(K,F,G,J,Ee){if(typeof J=="string"&&J!==""||typeof J=="number")return N(F,K=K.get(G)||null,""+J,Ee);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case a:return B(F,K=K.get(J.key===null?G:J.key)||null,J,Ee);case c:return H(F,K=K.get(J.key===null?G:J.key)||null,J,Ee);case b:return re(K,F,G,(0,J._init)(J._payload),Ee)}if(de(J)||k(J))return Q(F,K=K.get(G)||null,J,Ee,null);Ud(F,J)}return null}function ye(K,F,G,J){for(var Ee=null,Xe=null,_e=F,Ve=F=0,er=null;_e!==null&&Ve<G.length;Ve++){_e.index>Ve?(er=_e,_e=null):er=_e.sibling;var Ye=q(K,_e,G[Ve],J);if(Ye===null){_e===null&&(_e=er);break}l&&_e&&Ye.alternate===null&&u(K,_e),F=T(Ye,F,Ve),Xe===null?Ee=Ye:Xe.sibling=Ye,Xe=Ye,_e=er}if(Ve===G.length)return p(K,_e),at&&ea(K,Ve),Ee;if(_e===null){for(;Ve<G.length;Ve++)(_e=ue(K,G[Ve],J))!==null&&(F=T(_e,F,Ve),Xe===null?Ee=_e:Xe.sibling=_e,Xe=_e);return at&&ea(K,Ve),Ee}for(_e=y(K,_e);Ve<G.length;Ve++)(er=re(_e,K,Ve,G[Ve],J))!==null&&(l&&er.alternate!==null&&_e.delete(er.key===null?Ve:er.key),F=T(er,F,Ve),Xe===null?Ee=er:Xe.sibling=er,Xe=er);return l&&_e.forEach(function(Ys){return u(K,Ys)}),at&&ea(K,Ve),Ee}function Me(K,F,G,J){var Ee=k(G);if(typeof Ee!="function")throw Error(s(150));if((G=Ee.call(G))==null)throw Error(s(151));for(var Xe=Ee=null,_e=F,Ve=F=0,er=null,Ye=G.next();_e!==null&&!Ye.done;Ve++,Ye=G.next()){_e.index>Ve?(er=_e,_e=null):er=_e.sibling;var Ys=q(K,_e,Ye.value,J);if(Ys===null){_e===null&&(_e=er);break}l&&_e&&Ys.alternate===null&&u(K,_e),F=T(Ys,F,Ve),Xe===null?Ee=Ys:Xe.sibling=Ys,Xe=Ys,_e=er}if(Ye.done)return p(K,_e),at&&ea(K,Ve),Ee;if(_e===null){for(;!Ye.done;Ve++,Ye=G.next())(Ye=ue(K,Ye.value,J))!==null&&(F=T(Ye,F,Ve),Xe===null?Ee=Ye:Xe.sibling=Ye,Xe=Ye);return at&&ea(K,Ve),Ee}for(_e=y(K,_e);!Ye.done;Ve++,Ye=G.next())(Ye=re(_e,K,Ve,Ye.value,J))!==null&&(l&&Ye.alternate!==null&&_e.delete(Ye.key===null?Ve:Ye.key),F=T(Ye,F,Ve),Xe===null?Ee=Ye:Xe.sibling=Ye,Xe=Ye);return l&&_e.forEach(function(XN){return u(K,XN)}),at&&ea(K,Ve),Ee}return function K(F,G,J,Ee){if(typeof J=="object"&&J!==null&&J.type===h&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case a:e:{for(var Xe=J.key,_e=G;_e!==null;){if(_e.key===Xe){if((Xe=J.type)===h){if(_e.tag===7){p(F,_e.sibling),(G=v(_e,J.props.children)).return=F,F=G;break e}}else if(_e.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===b&&Qb(Xe)===_e.type){p(F,_e.sibling),(G=v(_e,J.props)).ref=Gu(F,_e,J),G.return=F,F=G;break e}p(F,_e);break}u(F,_e),_e=_e.sibling}J.type===h?((G=oa(J.props.children,F.mode,Ee,J.key)).return=F,F=G):((Ee=hf(J.type,J.key,J.props,null,F.mode,Ee)).ref=Gu(F,G,J),Ee.return=F,F=Ee)}return C(F);case c:e:{for(_e=J.key;G!==null;){if(G.key===_e){if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){p(F,G.sibling),(G=v(G,J.children||[])).return=F,F=G;break e}p(F,G);break}u(F,G),G=G.sibling}(G=y0(J,F.mode,Ee)).return=F,F=G}return C(F);case b:return K(F,G,(_e=J._init)(J._payload),Ee)}if(de(J))return ye(F,G,J,Ee);if(k(J))return Me(F,G,J,Ee);Ud(F,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,G!==null&&G.tag===6?(p(F,G.sibling),(G=v(G,J)).return=F,F=G):(p(F,G),(G=g0(J,F.mode,Ee)).return=F,F=G),C(F)):p(F,G)}}var cl=Kb(!0),Zb=Kb(!1),Hu={},wn=Us(Hu),Wu=Us(Hu),hl=Us(Hu);function bi(l){if(l===Hu)throw Error(s(174));return l}function Iy(l,u){Ke(hl,u),Ke(Wu,l),Ke(wn,Hu),l=le(u),ot(wn),Ke(wn,l)}function dl(){ot(wn),ot(Wu),ot(hl)}function Jb(l){var u=bi(hl.current),p=bi(wn.current);p!==(u=D(p,l.type,u))&&(Ke(Wu,l),Ke(wn,u))}function My(l){Wu.current===l&&(ot(wn),ot(Wu))}var xt=Us(0);function Bd(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&((p=p.dehydrated)===null||qo(p)||rl(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ny=[];function Dy(){for(var l=0;l<Ny.length;l++){var u=Ny[l];je?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Ny.length=0}var zd=o.ReactCurrentDispatcher,Ly=o.ReactCurrentBatchConfig,ra=0,ht=null,$t=null,Gt=null,jd=!1,Vu=!1,Xu=0,EN=0;function lr(){throw Error(s(321))}function Oy(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!Gn(l[p],u[p]))return!1;return!0}function Fy(l,u,p,y,v,T){if(ra=T,ht=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,zd.current=l===null||l.memoizedState===null?RN:kN,l=p(y,v),Vu){T=0;do{if(Vu=!1,Xu=0,25<=T)throw Error(s(301));T+=1,Gt=$t=null,u.updateQueue=null,zd.current=PN,l=p(y,v)}while(Vu)}if(zd.current=Hd,u=$t!==null&&$t.next!==null,ra=0,Gt=$t=ht=null,jd=!1,u)throw Error(s(300));return l}function Uy(){var l=Xu!==0;return Xu=0,l}function Si(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?ht.memoizedState=Gt=l:Gt=Gt.next=l,Gt}function bn(){if($t===null){var l=ht.alternate;l=l!==null?l.memoizedState:null}else l=$t.next;var u=Gt===null?ht.memoizedState:Gt.next;if(u!==null)Gt=u,$t=l;else{if(l===null)throw Error(s(310));l={memoizedState:($t=l).memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Gt===null?ht.memoizedState=Gt=l:Gt=Gt.next=l}return Gt}function Yu(l,u){return typeof u=="function"?u(l):u}function By(l){var u=bn(),p=u.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=l;var y=$t,v=y.baseQueue,T=p.pending;if(T!==null){if(v!==null){var C=v.next;v.next=T.next,T.next=C}y.baseQueue=v=T,p.pending=null}if(v!==null){T=v.next,y=y.baseState;var N=C=null,B=null,H=T;do{var Q=H.lane;if((ra&Q)===Q)B!==null&&(B=B.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),y=H.hasEagerState?H.eagerState:l(y,H.action);else{var ue={lane:Q,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};B===null?(N=B=ue,C=y):B=B.next=ue,ht.lanes|=Q,na|=Q}H=H.next}while(H!==null&&H!==T);B===null?C=y:B.next=N,Gn(y,u.memoizedState)||(Ur=!0),u.memoizedState=y,u.baseState=C,u.baseQueue=B,p.lastRenderedState=y}if((l=p.interleaved)!==null){v=l;do T=v.lane,ht.lanes|=T,na|=T,v=v.next;while(v!==l)}else v===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function zy(l){var u=bn(),p=u.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=l;var y=p.dispatch,v=p.pending,T=u.memoizedState;if(v!==null){p.pending=null;var C=v=v.next;do T=l(T,C.action),C=C.next;while(C!==v);Gn(T,u.memoizedState)||(Ur=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),p.lastRenderedState=T}return[T,y]}function eS(){}function tS(l,u){var p=ht,y=bn(),v=u(),T=!Gn(y.memoizedState,v);if(T&&(y.memoizedState=v,Ur=!0),y=y.queue,jy(iS.bind(null,p,y,l),[l]),y.getSnapshot!==u||T||Gt!==null&&1&Gt.memoizedState.tag){if(p.flags|=2048,qu(9,nS.bind(null,p,y,v,u),void 0,null),Ht===null)throw Error(s(349));30&ra||rS(p,u,v)}return v}function rS(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},(u=ht.updateQueue)===null?(u={lastEffect:null,stores:null},ht.updateQueue=u,u.stores=[l]):(p=u.stores)===null?u.stores=[l]:p.push(l)}function nS(l,u,p,y){u.value=p,u.getSnapshot=y,sS(u)&&oS(l)}function iS(l,u,p){return p(function(){sS(u)&&oS(l)})}function sS(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!Gn(l,p)}catch{return!0}}function oS(l){var u=wi(l,1);u!==null&&Sn(u,l,1,-1)}function aS(l){var u=Si();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yu,lastRenderedState:l},u.queue=l,l=l.dispatch=CN.bind(null,ht,l),[u.memoizedState,l]}function qu(l,u,p,y){return l={tag:l,create:u,destroy:p,deps:y,next:null},(u=ht.updateQueue)===null?(u={lastEffect:null,stores:null},ht.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect)===null?u.lastEffect=l.next=l:(y=p.next,p.next=l,l.next=y,u.lastEffect=l),l}function lS(){return bn().memoizedState}function $d(l,u,p,y){var v=Si();ht.flags|=l,v.memoizedState=qu(1|u,p,void 0,y===void 0?null:y)}function Gd(l,u,p,y){var v=bn();y=y===void 0?null:y;var T=void 0;if($t!==null){var C=$t.memoizedState;if(T=C.destroy,y!==null&&Oy(y,C.deps))return void(v.memoizedState=qu(u,p,T,y))}ht.flags|=l,v.memoizedState=qu(1|u,p,T,y)}function uS(l,u){return $d(8390656,8,l,u)}function jy(l,u){return Gd(2048,8,l,u)}function cS(l,u){return Gd(4,2,l,u)}function hS(l,u){return Gd(4,4,l,u)}function dS(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function fS(l,u,p){return p=p!=null?p.concat([l]):null,Gd(4,4,dS.bind(null,u,l),p)}function $y(){}function pS(l,u){var p=bn();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&Oy(u,y[1])?y[0]:(p.memoizedState=[l,u],l)}function mS(l,u){var p=bn();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&Oy(u,y[1])?y[0]:(l=l(),p.memoizedState=[l,u],l)}function gS(l,u,p){return 21&ra?(Gn(p,u)||(p=Ib(),ht.lanes|=p,na|=p,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,Ur=!0),l.memoizedState=p)}function TN(l,u){var p=We;We=p!==0&&4>p?p:4,l(!0);var y=Ly.transition;Ly.transition={};try{l(!1),u()}finally{We=p,Ly.transition=y}}function yS(){return bn().memoizedState}function AN(l,u,p){var y=Ws(l);p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},vS(l)?_S(u,p):(p=$b(l,u,p,y))!==null&&(Sn(p,l,y,cr()),xS(p,u,y))}function CN(l,u,p){var y=Ws(l),v={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(vS(l))_S(u,v);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,N=T(C,p);if(v.hasEagerState=!0,v.eagerState=N,Gn(N,C)){var B=u.interleaved;return B===null?(v.next=v,Cy(u)):(v.next=B.next,B.next=v),void(u.interleaved=v)}}catch{}(p=$b(l,u,v,y))!==null&&(Sn(p,l,y,v=cr()),xS(p,u,y))}}function vS(l){var u=l.alternate;return l===ht||u!==null&&u===ht}function _S(l,u){Vu=jd=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function xS(l,u,p){if(4194240&p){var y=u.lanes;p|=y&=l.pendingLanes,u.lanes=p,py(l,p)}}var Hd={readContext:xn,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},RN={readContext:xn,useCallback:function(l,u){return Si().memoizedState=[l,u===void 0?null:u],l},useContext:xn,useEffect:uS,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,$d(4194308,4,dS.bind(null,u,l),p)},useLayoutEffect:function(l,u){return $d(4194308,4,l,u)},useInsertionEffect:function(l,u){return $d(4,2,l,u)},useMemo:function(l,u){var p=Si();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var y=Si();return u=p!==void 0?p(u):u,y.memoizedState=y.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},y.queue=l,l=l.dispatch=AN.bind(null,ht,l),[y.memoizedState,l]},useRef:function(l){return l={current:l},Si().memoizedState=l},useState:aS,useDebugValue:$y,useDeferredValue:function(l){return Si().memoizedState=l},useTransition:function(){var l=aS(!1),u=l[0];return l=TN.bind(null,l[1]),Si().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var y=ht,v=Si();if(at){if(p===void 0)throw Error(s(407));p=p()}else{if(p=u(),Ht===null)throw Error(s(349));30&ra||rS(y,u,p)}v.memoizedState=p;var T={value:p,getSnapshot:u};return v.queue=T,uS(iS.bind(null,y,T,l),[l]),y.flags|=2048,qu(9,nS.bind(null,y,T,p,u),void 0,null),p},useId:function(){var l=Si(),u=Ht.identifierPrefix;if(at){var p=is;u=":"+u+"R"+(p=(xi&~(1<<32-$n(xi)-1)).toString(32)+p),0<(p=Xu++)&&(u+="H"+p.toString(32)),u+=":"}else u=":"+u+"r"+(p=EN++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},kN={readContext:xn,useCallback:pS,useContext:xn,useEffect:jy,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:hS,useMemo:mS,useReducer:By,useRef:lS,useState:function(){return By(Yu)},useDebugValue:$y,useDeferredValue:function(l){return gS(bn(),$t.memoizedState,l)},useTransition:function(){return[By(Yu)[0],bn().memoizedState]},useMutableSource:eS,useSyncExternalStore:tS,useId:yS,unstable_isNewReconciler:!1},PN={readContext:xn,useCallback:pS,useContext:xn,useEffect:jy,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:hS,useMemo:mS,useReducer:zy,useRef:lS,useState:function(){return zy(Yu)},useDebugValue:$y,useDeferredValue:function(l){var u=bn();return $t===null?u.memoizedState=l:gS(u,$t.memoizedState,l)},useTransition:function(){return[zy(Yu)[0],bn().memoizedState]},useMutableSource:eS,useSyncExternalStore:tS,useId:yS,unstable_isNewReconciler:!1};function fl(l,u){try{var p="",y=u;do p+=SN(y),y=y.return;while(y);var v=p}catch(T){v=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:v,digest:null}}function Gy(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function Hy(l,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var IN=typeof WeakMap=="function"?WeakMap:Map;function wS(l,u,p){(p=ss(-1,p)).tag=3,p.payload={element:null};var y=u.value;return p.callback=function(){sf||(sf=!0,u0=y),Hy(0,u)},p}function bS(l,u,p){(p=ss(-1,p)).tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var v=u.value;p.payload=function(){return y(v)},p.callback=function(){Hy(0,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){Hy(0,u),typeof y!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),p}function SS(l,u,p){var y=l.pingCache;if(y===null){y=l.pingCache=new IN;var v=new Set;y.set(u,v)}else(v=y.get(u))===void 0&&(v=new Set,y.set(u,v));v.has(p)||(v.add(p),l=zN.bind(null,l,u,p),u.then(l,l))}function ES(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function TS(l,u,p,y,v){return 1&l.mode?(l.flags|=65536,l.lanes=v,l):(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:((u=ss(-1,1)).tag=2,js(p,u,1))),p.lanes|=1),l)}var MN=o.ReactCurrentOwner,Ur=!1;function Br(l,u,p,y){u.child=l===null?Zb(u,null,p,y):cl(u,l.child,p,y)}function AS(l,u,p,y,v){p=p.render;var T=u.ref;return ul(u,v),y=Fy(l,u,p,y,T,v),p=Uy(),l===null||Ur?(at&&p&&vy(u),u.flags|=1,Br(l,u,y,v),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~v,os(l,u,v))}function CS(l,u,p,y,v){if(l===null){var T=p.type;return typeof T!="function"||m0(T)||T.defaultProps!==void 0||p.compare!==null||p.defaultProps!==void 0?((l=hf(p.type,null,y,u,u.mode,v)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=T,RS(l,u,T,y,v))}if(T=l.child,(l.lanes&v)==0){var C=T.memoizedProps;if((p=(p=p.compare)!==null?p:Md)(C,y)&&l.ref===u.ref)return os(l,u,v)}return u.flags|=1,(l=Xs(T,y)).ref=u.ref,l.return=u,u.child=l}function RS(l,u,p,y,v){if(l!==null){var T=l.memoizedProps;if(Md(T,y)&&l.ref===u.ref){if(Ur=!1,u.pendingProps=y=T,(l.lanes&v)==0)return u.lanes=l.lanes,os(l,u,v);131072&l.flags&&(Ur=!0)}}return Wy(l,u,p,y,v)}function kS(l,u,p){var y=u.pendingProps,v=y.children,T=l!==null?l.memoizedState:null;if(y.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ml,Jr),Jr|=p;else{if(!(1073741824&p))return l=T!==null?T.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Ke(ml,Jr),Jr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=T!==null?T.baseLanes:p,Ke(ml,Jr),Jr|=y}else T!==null?(y=T.baseLanes|p,u.memoizedState=null):y=p,Ke(ml,Jr),Jr|=y;return Br(l,u,v,p),u.child}function PS(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Wy(l,u,p,y,v){var T=Kr(p)?Zo:ar.current;return T=il(u,T),ul(u,v),p=Fy(l,u,p,y,T,v),y=Uy(),l===null||Ur?(at&&y&&vy(u),u.flags|=1,Br(l,u,p,v),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~v,os(l,u,v))}function IS(l,u,p,y,v){if(Kr(p)){var T=!0;Td(u)}else T=!1;if(ul(u,v),u.stateNode===null)Yd(l,u),Yb(u,p,y),Py(u,p,y,v),y=!0;else if(l===null){var C=u.stateNode,N=u.memoizedProps;C.props=N;var B=C.context,H=p.contextType;typeof H=="object"&&H!==null?H=xn(H):H=il(u,H=Kr(p)?Zo:ar.current);var Q=p.getDerivedStateFromProps,ue=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function";ue||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(N!==y||B!==H)&&qb(u,C,y,H),zs=!1;var q=u.memoizedState;C.state=q,Od(u,y,C,v),B=u.memoizedState,N!==y||q!==B||Fr.current||zs?(typeof Q=="function"&&(ky(u,p,Q,y),B=u.memoizedState),(N=zs||Xb(u,p,N,y,q,B,H))?(ue||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=B),C.props=y,C.state=B,C.context=H,y=N):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{C=u.stateNode,Gb(l,u),N=u.memoizedProps,H=u.type===u.elementType?N:Wn(u.type,N),C.props=H,ue=u.pendingProps,q=C.context,typeof(B=p.contextType)=="object"&&B!==null?B=xn(B):B=il(u,B=Kr(p)?Zo:ar.current);var re=p.getDerivedStateFromProps;(Q=typeof re=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(N!==ue||q!==B)&&qb(u,C,y,B),zs=!1,q=u.memoizedState,C.state=q,Od(u,y,C,v);var ye=u.memoizedState;N!==ue||q!==ye||Fr.current||zs?(typeof re=="function"&&(ky(u,p,re,y),ye=u.memoizedState),(H=zs||Xb(u,p,H,y,q,ye,B)||!1)?(Q||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,ye,B),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,ye,B)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||N===l.memoizedProps&&q===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||N===l.memoizedProps&&q===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=ye),C.props=y,C.state=ye,C.context=B,y=H):(typeof C.componentDidUpdate!="function"||N===l.memoizedProps&&q===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||N===l.memoizedProps&&q===l.memoizedState||(u.flags|=1024),y=!1)}return Vy(l,u,p,y,T,v)}function Vy(l,u,p,y,v,T){PS(l,u);var C=(128&u.flags)!=0;if(!y&&!C)return v&&Pb(u,p,!1),os(l,u,T);y=u.stateNode,MN.current=u;var N=C&&typeof p.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,l!==null&&C?(u.child=cl(u,l.child,null,T),u.child=cl(u,null,N,T)):Br(l,u,N,T),u.memoizedState=y.state,v&&Pb(u,p,!0),u.child}function MS(l){var u=l.stateNode;u.pendingContext?Rb(0,u.pendingContext,u.pendingContext!==u.context):u.context&&Rb(0,u.context,!1),Iy(l,u.containerInfo)}function NS(l,u,p,y,v){return al(),by(v),u.flags|=256,Br(l,u,p,y),u.child}var Qu,Ku,Wd,Vd,Xy={dehydrated:null,treeContext:null,retryLane:0};function Yy(l){return{baseLanes:l,cachePool:null,transitions:null}}function DS(l,u,p){var y,v=u.pendingProps,T=xt.current,C=!1,N=(128&u.flags)!=0;if((y=N)||(y=(l===null||l.memoizedState!==null)&&(2&T)!=0),y?(C=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(T|=1),Ke(xt,1&T),l===null)return wy(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?rl(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(N=v.children,l=v.fallback,C?(v=u.mode,C=u.child,N={mode:"hidden",children:N},!(1&v)&&C!==null?(C.childLanes=0,C.pendingProps=N):C=df(N,v,0,null),l=oa(l,v,p,null),C.return=u,l.return=u,C.sibling=l,u.child=C,u.child.memoizedState=Yy(p),u.memoizedState=Xy,l):qy(u,N));if((T=l.memoizedState)!==null&&(y=T.dehydrated)!==null)return function(H,Q,ue,q,re,ye,Me){if(ue)return 256&Q.flags?(Q.flags&=-257,Xd(H,Q,Me,q=Gy(Error(s(422))))):Q.memoizedState!==null?(Q.child=H.child,Q.flags|=128,null):(ye=q.fallback,re=Q.mode,q=df({mode:"visible",children:q.children},re,0,null),(ye=oa(ye,re,Me,null)).flags|=2,q.return=Q,ye.return=Q,q.sibling=ye,Q.child=q,1&Q.mode&&cl(Q,H.child,null,Me),Q.child.memoizedState=Yy(Me),Q.memoizedState=Xy,ye);if(!(1&Q.mode))return Xd(H,Q,Me,null);if(rl(re))return q=Qo(re).digest,ye=Error(s(419)),q=Gy(ye,q,void 0),Xd(H,Q,Me,q);if(ue=(Me&H.childLanes)!=0,Ur||ue){if((q=Ht)!==null){switch(Me&-Me){case 4:re=2;break;case 16:re=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:re=32;break;case 536870912:re=268435456;break;default:re=0}(re=re&(q.suspendedLanes|Me)?0:re)!==0&&re!==ye.retryLane&&(ye.retryLane=re,wi(H,re),Sn(q,H,re,-1))}return p0(),Xd(H,Q,Me,q=Gy(Error(s(421))))}return qo(re)?(Q.flags|=128,Q.child=H.child,Q=jN.bind(null,H),Ko(re,Q),null):(H=ye.treeContext,Fe&&(_n=rN(re),Zr=Q,at=!0,Hn=null,$u=!1,H!==null&&(yn[vn++]=xi,yn[vn++]=is,yn[vn++]=Jo,xi=H.id,is=H.overflow,Jo=Q)),Q=qy(Q,q.children),Q.flags|=4096,Q)}(l,u,N,v,y,T,p);if(C){C=v.fallback,N=u.mode,y=(T=l.child).sibling;var B={mode:"hidden",children:v.children};return!(1&N)&&u.child!==T?((v=u.child).childLanes=0,v.pendingProps=B,u.deletions=null):(v=Xs(T,B)).subtreeFlags=14680064&T.subtreeFlags,y!==null?C=Xs(y,C):(C=oa(C,N,p,null)).flags|=2,C.return=u,v.return=u,v.sibling=C,u.child=v,v=C,C=u.child,N=(N=l.child.memoizedState)===null?Yy(p):{baseLanes:N.baseLanes|p,cachePool:null,transitions:N.transitions},C.memoizedState=N,C.childLanes=l.childLanes&~p,u.memoizedState=Xy,v}return l=(C=l.child).sibling,v=Xs(C,{mode:"visible",children:v.children}),!(1&u.mode)&&(v.lanes=p),v.return=u,v.sibling=null,l!==null&&((p=u.deletions)===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=v,u.memoizedState=null,v}function qy(l,u){return(u=df({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function Xd(l,u,p,y){return y!==null&&by(y),cl(u,l.child,null,p),(l=qy(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function LS(l,u,p){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),Ay(l.return,u,p)}function Qy(l,u,p,y,v){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:v}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=y,T.tail=p,T.tailMode=v)}function OS(l,u,p){var y=u.pendingProps,v=y.revealOrder,T=y.tail;if(Br(l,u,y.children,p),(2&(y=xt.current))!=0)y=1&y|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&LS(l,p,u);else if(l.tag===19)LS(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(Ke(xt,y),(1&u.mode)==0)u.memoizedState=null;else switch(v){case"forwards":for(p=u.child,v=null;p!==null;)(l=p.alternate)!==null&&Bd(l)===null&&(v=p),p=p.sibling;(p=v)===null?(v=u.child,u.child=null):(v=p.sibling,p.sibling=null),Qy(u,!1,v,p,T);break;case"backwards":for(p=null,v=u.child,u.child=null;v!==null;){if((l=v.alternate)!==null&&Bd(l)===null){u.child=v;break}l=v.sibling,v.sibling=p,p=v,v=l}Qy(u,!0,p,null,T);break;case"together":Qy(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Yd(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function os(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),na|=u.lanes,(p&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(p=Xs(l=u.child,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,(p=p.sibling=Xs(l,l.pendingProps)).return=u;p.sibling=null}return u.child}function Ei(l){l.flags|=4}function FS(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Pe)Qu=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)ie(l,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Ku=function(){},Wd=function(l,u,p,y,v){if((l=l.memoizedProps)!==y){var T=u.stateNode,C=bi(wn.current);p=we(T,p,l,y,v,C),(u.updateQueue=p)&&Ei(u)}},Vd=function(l,u,p,y){p!==y&&Ei(u)};else if(Ge){Qu=function(l,u,p,y){for(var v=u.child;v!==null;){if(v.tag===5){var T=v.stateNode;p&&y&&(T=rs(T,v.type,v.memoizedProps,v)),ie(l,T)}else if(v.tag===6)T=v.stateNode,p&&y&&(T=Or(T,v.memoizedProps,v)),ie(l,T);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)(T=v.child)!==null&&(T.return=v),Qu(l,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};var US=function(l,u,p,y){for(var v=u.child;v!==null;){if(v.tag===5){var T=v.stateNode;p&&y&&(T=rs(T,v.type,v.memoizedProps,v)),xr(l,T)}else if(v.tag===6)T=v.stateNode,p&&y&&(T=Or(T,v.memoizedProps,v)),xr(l,T);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)(T=v.child)!==null&&(T.return=v),US(l,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};Ku=function(l,u){var p=u.stateNode;if(!FS(l,u)){l=p.containerInfo;var y=jn(l);US(y,u,!1,!1),p.pendingChildren=y,Ei(u),Qr(l,y)}},Wd=function(l,u,p,y,v){var T=l.stateNode,C=l.memoizedProps;if((l=FS(l,u))&&C===y)u.stateNode=T;else{var N=u.stateNode,B=bi(wn.current),H=null;C!==y&&(H=we(N,p,C,y,v,B)),l&&H===null?u.stateNode=T:(T=_r(T,H,p,C,y,u,l,N),Se(T,p,y,v,B)&&Ei(u),u.stateNode=T,l?Ei(u):Qu(T,u,!1,!1))}},Vd=function(l,u,p,y){p!==y?(l=bi(hl.current),p=bi(wn.current),u.stateNode=Te(y,l,p,u),Ei(u)):u.stateNode=l.stateNode}}else Ku=function(){},Wd=function(){},Vd=function(){};function Zu(l,u){if(!at)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function wr(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,y=0;if(u)for(var v=l.child;v!==null;)p|=v.lanes|v.childLanes,y|=14680064&v.subtreeFlags,y|=14680064&v.flags,v.return=l,v=v.sibling;else for(v=l.child;v!==null;)p|=v.lanes|v.childLanes,y|=v.subtreeFlags,y|=v.flags,v.return=l,v=v.sibling;return l.subtreeFlags|=y,l.childLanes=p,u}function NN(l,u,p){var y=u.pendingProps;switch(_y(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(u),null;case 1:case 17:return Kr(u.type)&&uy(),wr(u),null;case 3:return p=u.stateNode,dl(),ot(Fr),ot(ar),Dy(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),l!==null&&l.child!==null||(Id(u)?Ei(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,Hn!==null&&(d0(Hn),Hn=null))),Ku(l,u),wr(u),null;case 5:My(u),p=bi(hl.current);var v=u.type;if(l!==null&&u.stateNode!=null)Wd(l,u,v,y,p),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(s(166));return wr(u),null}if(l=bi(wn.current),Id(u)){if(!Fe)throw Error(s(175));l=nN(u.stateNode,u.type,u.memoizedProps,p,l,u,!$u),u.updateQueue=l,l!==null&&Ei(u)}else{var T=j(v,y,p,l,u);Qu(T,u,!1,!1),u.stateNode=T,Se(T,v,y,p,l)&&Ei(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return wr(u),null;case 6:if(l&&u.stateNode!=null)Vd(l,u,l.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(s(166));if(l=bi(hl.current),p=bi(wn.current),Id(u)){if(!Fe)throw Error(s(176));if(l=u.stateNode,p=u.memoizedProps,(y=iN(l,p,u,!$u))&&(v=Zr)!==null)switch(v.tag){case 3:dN(v.stateNode.containerInfo,l,p,(1&v.mode)!=0);break;case 5:fN(v.type,v.memoizedProps,v.stateNode,l,p,(1&v.mode)!=0)}y&&Ei(u)}else u.stateNode=Te(y,l,p,u)}return wr(u),null;case 13:if(ot(xt),y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(at&&_n!==null&&1&u.mode&&!(128&u.flags))zb(),al(),u.flags|=98560,v=!1;else if(v=Id(u),y!==null&&y.dehydrated!==null){if(l===null){if(!v)throw Error(s(318));if(!Fe)throw Error(s(344));if(!(v=(v=u.memoizedState)!==null?v.dehydrated:null))throw Error(s(317));sN(v,u)}else al(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;wr(u),v=!1}else Hn!==null&&(d0(Hn),Hn=null),v=!0;if(!v)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=p,u):((p=y!==null)!=(l!==null&&l.memoizedState!==null)&&p&&(u.child.flags|=8192,1&u.mode&&(l===null||1&xt.current?Lt===0&&(Lt=3):p0())),u.updateQueue!==null&&(u.flags|=4),wr(u),null);case 4:return dl(),Ku(l,u),l===null&&Zt(u.stateNode.containerInfo),wr(u),null;case 10:return Ty(u.type._context),wr(u),null;case 19:if(ot(xt),(v=u.memoizedState)===null)return wr(u),null;if(y=(128&u.flags)!=0,(T=v.rendering)===null)if(y)Zu(v,!1);else{if(Lt!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((T=Bd(l))!==null){for(u.flags|=128,Zu(v,!1),(l=T.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=p,p=u.child;p!==null;)v=l,(y=p).flags&=14680066,(T=y.alternate)===null?(y.childLanes=0,y.lanes=v,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,v=T.dependencies,y.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),p=p.sibling;return Ke(xt,1&xt.current|2),u.child}l=l.sibling}v.tail!==null&&jt()>l0&&(u.flags|=128,y=!0,Zu(v,!1),u.lanes=4194304)}else{if(!y)if((l=Bd(T))!==null){if(u.flags|=128,y=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Zu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!at)return wr(u),null}else 2*jt()-v.renderingStartTime>l0&&p!==1073741824&&(u.flags|=128,y=!0,Zu(v,!1),u.lanes=4194304);v.isBackwards?(T.sibling=u.child,u.child=T):((l=v.last)!==null?l.sibling=T:u.child=T,v.last=T)}return v.tail!==null?(u=v.tail,v.rendering=u,v.tail=u.sibling,v.renderingStartTime=jt(),u.sibling=null,l=xt.current,Ke(xt,y?1&l|2:1&l),u):(wr(u),null);case 22:case 23:return f0(),p=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==p&&(u.flags|=8192),p&&1&u.mode?1073741824&Jr&&(wr(u),Pe&&6&u.subtreeFlags&&(u.flags|=8192)):wr(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function DN(l,u){switch(_y(u),u.tag){case 1:return Kr(u.type)&&uy(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return dl(),ot(Fr),ot(ar),Dy(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return My(u),null;case 13:if(ot(xt),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));al()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return ot(xt),null;case 4:return dl(),null;case 10:return Ty(u.type._context),null;case 22:case 23:return f0(),null;default:return null}}var qd=!1,ur=!1,LN=typeof WeakSet=="function"?WeakSet:Set,me=null;function pl(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){lt(l,u,y)}else p.current=null}function BS(l,u,p){try{p()}catch(y){lt(l,u,y)}}var zS=!1;function Ju(l,u,p){var y=u.updateQueue;if((y=y!==null?y.lastEffect:null)!==null){var v=y=y.next;do{if((v.tag&l)===l){var T=v.destroy;v.destroy=void 0,T!==void 0&&BS(u,p,T)}v=v.next}while(v!==y)}}function Qd(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var p=u=u.next;do{if((p.tag&l)===l){var y=p.create;p.destroy=y()}p=p.next}while(p!==u)}}function Ky(l){var u=l.ref;if(u!==null){var p=l.stateNode;l.tag===5?l=ae(p):l=p,typeof u=="function"?u(l):u.current=l}}function jS(l){var u=l.alternate;u!==null&&(l.alternate=null,jS(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&Za(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function $S(l){return l.tag===5||l.tag===3||l.tag===4}function GS(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||$S(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function Zy(l,u,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?ty(p,l,u):Vo(p,l);else if(y!==4&&(l=l.child)!==null)for(Zy(l,u,p),l=l.sibling;l!==null;)Zy(l,u,p),l=l.sibling}function Jy(l,u,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?ey(p,l,u):Os(p,l);else if(y!==4&&(l=l.child)!==null)for(Jy(l,u,p),l=l.sibling;l!==null;)Jy(l,u,p),l=l.sibling}var br=null,Ti=!1;function Ai(l,u,p){for(p=p.child;p!==null;)e0(l,u,p),p=p.sibling}function e0(l,u,p){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Cd,p)}catch{}switch(p.tag){case 5:ur||pl(p,u);case 6:if(Pe){var y=br,v=Ti;br=null,Ai(l,u,p),Ti=v,(br=y)!==null&&(Ti?ry(br,p.stateNode):Ed(br,p.stateNode))}else Ai(l,u,p);break;case 18:Pe&&br!==null&&(Ti?cN(br,p.stateNode):uN(br,p.stateNode));break;case 4:Pe?(y=br,v=Ti,br=p.stateNode.containerInfo,Ti=!0,Ai(l,u,p),br=y,Ti=v):(Ge&&(y=p.stateNode.containerInfo,v=jn(y),Lr(y,v)),Ai(l,u,p));break;case 0:case 11:case 14:case 15:if(!ur&&(y=p.updateQueue)!==null&&(y=y.lastEffect)!==null){v=y=y.next;do{var T=v,C=T.destroy;T=T.tag,C!==void 0&&(2&T||4&T)&&BS(p,u,C),v=v.next}while(v!==y)}Ai(l,u,p);break;case 1:if(!ur&&(pl(p,u),typeof(y=p.stateNode).componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(N){lt(p,u,N)}Ai(l,u,p);break;case 21:Ai(l,u,p);break;case 22:1&p.mode?(ur=(y=ur)||p.memoizedState!==null,Ai(l,u,p),ur=y):Ai(l,u,p);break;default:Ai(l,u,p)}}function HS(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new LN),u.forEach(function(y){var v=$N.bind(null,l,y);p.has(y)||(p.add(y),y.then(v,v))})}}function Vn(l,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var v=p[y];try{var T=l,C=u;if(Pe){var N=C;e:for(;N!==null;){switch(N.tag){case 5:br=N.stateNode,Ti=!1;break e;case 3:case 4:br=N.stateNode.containerInfo,Ti=!0;break e}N=N.return}if(br===null)throw Error(s(160));e0(T,C,v),br=null,Ti=!1}else e0(T,C,v);var B=v.alternate;B!==null&&(B.return=null),v.return=null}catch(H){lt(v,u,H)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)WS(u,l),u=u.sibling}function WS(l,u){var p=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Vn(u,l),Ci(l),4&y){try{Ju(3,l,l.return),Qd(3,l)}catch(q){lt(l,l.return,q)}try{Ju(5,l,l.return)}catch(q){lt(l,l.return,q)}}break;case 1:Vn(u,l),Ci(l),512&y&&p!==null&&pl(p,p.return);break;case 5:if(Vn(u,l),Ci(l),512&y&&p!==null&&pl(p,p.return),Pe){if(32&l.flags){var v=l.stateNode;try{Uu(v)}catch(q){lt(l,l.return,q)}}if(4&y&&(v=l.stateNode)!=null){var T=l.memoizedProps;if(p=p!==null?p.memoizedProps:T,y=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{Sd(v,u,y,p,T,l)}catch(q){lt(l,l.return,q)}}}break;case 6:if(Vn(u,l),Ci(l),4&y&&Pe){if(l.stateNode===null)throw Error(s(162));v=l.stateNode,T=l.memoizedProps,p=p!==null?p.memoizedProps:T;try{bd(v,p,T)}catch(q){lt(l,l.return,q)}}break;case 3:if(Vn(u,l),Ci(l),4&y){if(Pe&&Fe&&p!==null&&p.memoizedState.isDehydrated)try{aN(u.containerInfo)}catch(q){lt(l,l.return,q)}if(Ge){v=u.containerInfo,T=u.pendingChildren;try{Lr(v,T)}catch(q){lt(l,l.return,q)}}}break;case 4:if(Vn(u,l),Ci(l),4&y&&Ge){v=(T=l.stateNode).containerInfo,T=T.pendingChildren;try{Lr(v,T)}catch(q){lt(l,l.return,q)}}break;case 13:Vn(u,l),Ci(l),8192&(v=l.child).flags&&(T=v.memoizedState!==null,v.stateNode.isHidden=T,!T||v.alternate!==null&&v.alternate.memoizedState!==null||(a0=jt())),4&y&&HS(l);break;case 22:var C=p!==null&&p.memoizedState!==null;if(1&l.mode?(ur=(p=ur)||C,Vn(u,l),ur=p):Vn(u,l),Ci(l),8192&y){if(p=l.memoizedState!==null,(l.stateNode.isHidden=p)&&!C&&(1&l.mode)!=0)for(me=l,y=l.child;y!==null;){for(u=me=y;me!==null;){var N=(C=me).child;switch(C.tag){case 0:case 11:case 14:case 15:Ju(4,C,C.return);break;case 1:pl(C,C.return);var B=C.stateNode;if(typeof B.componentWillUnmount=="function"){var H=C,Q=C.return;try{var ue=H;B.props=ue.memoizedProps,B.state=ue.memoizedState,B.componentWillUnmount()}catch(q){lt(H,Q,q)}}break;case 5:pl(C,C.return);break;case 22:if(C.memoizedState!==null){YS(u);continue}}N!==null?(N.return=C,me=N):YS(u)}y=y.sibling}if(Pe){e:if(y=null,Pe)for(u=l;;){if(u.tag===5){if(y===null){y=u;try{v=u.stateNode,p?ny(v):sy(u.stateNode,u.memoizedProps)}catch(q){lt(l,l.return,q)}}}else if(u.tag===6){if(y===null)try{T=u.stateNode,p?iy(T):Dt(T,u.memoizedProps)}catch(q){lt(l,l.return,q)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;y===u&&(y=null),u=u.return}y===u&&(y=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Vn(u,l),Ci(l),4&y&&HS(l);break;case 21:break;default:Vn(u,l),Ci(l)}}function Ci(l){var u=l.flags;if(2&u){try{if(Pe){e:{for(var p=l.return;p!==null;){if($S(p)){var y=p;break e}p=p.return}throw Error(s(160))}switch(y.tag){case 5:var v=y.stateNode;32&y.flags&&(Uu(v),y.flags&=-33),Jy(l,GS(l),v);break;case 3:case 4:var T=y.stateNode.containerInfo;Zy(l,GS(l),T);break;default:throw Error(s(161))}}}catch(C){lt(l,l.return,C)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function ON(l,u,p){me=l,VS(l)}function VS(l,u,p){for(var y=(1&l.mode)!=0;me!==null;){var v=me,T=v.child;if(v.tag===22&&y){var C=v.memoizedState!==null||qd;if(!C){var N=v.alternate,B=N!==null&&N.memoizedState!==null||ur;N=qd;var H=ur;if(qd=C,(ur=B)&&!H)for(me=v;me!==null;)B=(C=me).child,C.tag===22&&C.memoizedState!==null?qS(v):B!==null?(B.return=C,me=B):qS(v);for(;T!==null;)me=T,VS(T),T=T.sibling;me=v,qd=N,ur=H}XS(l)}else 8772&v.subtreeFlags&&T!==null?(T.return=v,me=T):XS(l)}}function XS(l){for(;me!==null;){var u=me;if(8772&u.flags){var p=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:ur||Qd(5,u);break;case 1:var y=u.stateNode;if(4&u.flags&&!ur)if(p===null)y.componentDidMount();else{var v=u.elementType===u.type?p.memoizedProps:Wn(u.type,p.memoizedProps);y.componentDidUpdate(v,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&Wb(u,T,y);break;case 3:var C=u.updateQueue;if(C!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=ae(u.child.stateNode);break;case 1:p=u.child.stateNode}Wb(u,C,p)}break;case 5:var N=u.stateNode;p===null&&4&u.flags&&yi(N,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Fe&&u.memoizedState===null){var B=u.alternate;if(B!==null){var H=B.memoizedState;if(H!==null){var Q=H.dehydrated;Q!==null&&lN(Q)}}}break;default:throw Error(s(163))}ur||512&u.flags&&Ky(u)}catch(ue){lt(u,u.return,ue)}}if(u===l){me=null;break}if((p=u.sibling)!==null){p.return=u.return,me=p;break}me=u.return}}function YS(l){for(;me!==null;){var u=me;if(u===l){me=null;break}var p=u.sibling;if(p!==null){p.return=u.return,me=p;break}me=u.return}}function qS(l){for(;me!==null;){var u=me;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Qd(4,u)}catch(B){lt(u,p,B)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var v=u.return;try{y.componentDidMount()}catch(B){lt(u,v,B)}}var T=u.return;try{Ky(u)}catch(B){lt(u,T,B)}break;case 5:var C=u.return;try{Ky(u)}catch(B){lt(u,C,B)}}}catch(B){lt(u,u.return,B)}if(u===l){me=null;break}var N=u.sibling;if(N!==null){N.return=u.return,me=N;break}me=u.return}}var Kd=0,Zd=1,Jd=2,ef=3,tf=4;if(typeof Symbol=="function"&&Symbol.for){var ec=Symbol.for;Kd=ec("selector.component"),Zd=ec("selector.has_pseudo_class"),Jd=ec("selector.role"),ef=ec("selector.test_id"),tf=ec("selector.text")}function t0(l){var u=Pt(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((l=Ja(l))===null)throw Error(s(362));return l.stateNode.current}function r0(l,u){switch(u.$$typeof){case Kd:if(l.type===u.value)return!0;break;case Zd:e:{u=u.value,l=[l,0];for(var p=0;p<l.length;){var y=l[p++],v=l[p++],T=u[v];if(y.tag!==5||!Ds(y)){for(;T!=null&&r0(y,T);)T=u[++v];if(v===u.length){u=!0;break e}for(y=y.child;y!==null;)l.push(y,v),y=y.sibling}}u=!1}return u;case Jd:if(l.tag===5&&Zg(l.stateNode,u.value))return!0;break;case tf:if((l.tag===5||l.tag===6)&&(l=wd(l))!==null&&0<=l.indexOf(u.value))return!0;break;case ef:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function n0(l){switch(l.$$typeof){case Kd:return"<"+(L(l.value)||"Unknown")+">";case Zd:return":has("+(n0(l)||"")+")";case Jd:return'[role="'+l.value+'"]';case tf:return'"'+l.value+'"';case ef:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function QS(l,u){var p=[];l=[l,0];for(var y=0;y<l.length;){var v=l[y++],T=l[y++],C=u[T];if(v.tag!==5||!Ds(v)){for(;C!=null&&r0(v,C);)C=u[++T];if(T===u.length)p.push(v);else for(v=v.child;v!==null;)l.push(v,T),v=v.sibling}}return p}function i0(l,u){if(!Dr)throw Error(s(363));l=QS(l=t0(l),u),u=[],l=Array.from(l);for(var p=0;p<l.length;){var y=l[p++];if(y.tag===5)Ds(y)||u.push(y.stateNode);else for(y=y.child;y!==null;)l.push(y),y=y.sibling}return u}var FN=Math.ceil,rf=o.ReactCurrentDispatcher,s0=o.ReactCurrentOwner,Tt=o.ReactCurrentBatchConfig,Ue=0,Ht=null,It=null,Jt=0,Jr=0,ml=Us(0),Lt=0,tc=null,na=0,nf=0,o0=0,rc=null,en=null,a0=0,l0=1/0,$s=null;function gl(){l0=jt()+500}var KS,sf=!1,u0=null,Gs=null,of=!1,Hs=null,af=0,nc=0,c0=null,lf=-1,uf=0;function cr(){return 6&Ue?jt():lf!==-1?lf:lf=jt()}function Ws(l){return 1&l.mode?2&Ue&&Jt!==0?Jt&-Jt:bN.transition!==null?(uf===0&&(uf=Ib()),uf):(l=We)!==0?l:Nr():1}function Sn(l,u,p,y){if(50<nc)throw nc=0,c0=null,Error(s(185));ju(l,p,y),2&Ue&&l===Ht||(l===Ht&&(!(2&Ue)&&(nf|=p),Lt===4&&Vs(l,Jt)),zr(l,y),p===1&&Ue===0&&!(1&u.mode)&&(gl(),Rd&&_i()))}function zr(l,u){var p=l.callbackNode;(function(v,T){for(var C=v.suspendedLanes,N=v.pingedLanes,B=v.expirationTimes,H=v.pendingLanes;0<H;){var Q=31-$n(H),ue=1<<Q,q=B[Q];q===-1?ue&C&&!(ue&N)||(B[Q]=yN(ue,T)):q<=T&&(v.expiredLanes|=ue),H&=~ue}})(l,u);var y=Ad(l,l===Ht?Jt:0);if(y===0)p!==null&&Nb(p),l.callbackNode=null,l.callbackPriority=0;else if(u=y&-y,l.callbackPriority!==u){if(p!=null&&Nb(p),u===1)l.tag===0?function(v){Rd=!0,Lb(v)}(JS.bind(null,l)):Lb(JS.bind(null,l)),ts?Fu(function(){!(6&Ue)&&_i()}):my(gy,_i),p=null;else{switch(Mb(y)){case 1:p=gy;break;case 4:p=xN;break;case 16:default:p=Db;break;case 536870912:p=wN}p=aE(p,ZS.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function ZS(l,u){if(lf=-1,uf=0,(6&Ue)!=0)throw Error(s(327));var p=l.callbackNode;if(sa()&&l.callbackNode!==p)return null;var y=Ad(l,l===Ht?Jt:0);if(y===0)return null;if(30&y||y&l.expiredLanes||u)u=cf(l,y);else{u=y;var v=Ue;Ue|=2;var T=rE();for(Ht===l&&Jt===u||($s=null,gl(),ia(l,u));;)try{BN();break}catch(N){tE(l,N)}Ey(),rf.current=T,Ue=v,It!==null?u=0:(Ht=null,Jt=0,u=Lt)}if(u!==0){if(u===2&&(v=dy(l))!==0&&(y=v,u=h0(l,v)),u===1)throw p=tc,ia(l,0),Vs(l,y),zr(l,jt()),p;if(u===6)Vs(l,y);else{if(v=l.current.alternate,(30&y)==0&&!function(N){for(var B=N;;){if(16384&B.flags){var H=B.updateQueue;if(H!==null&&(H=H.stores)!==null)for(var Q=0;Q<H.length;Q++){var ue=H[Q],q=ue.getSnapshot;ue=ue.value;try{if(!Gn(q(),ue))return!1}catch{return!1}}}if(H=B.child,16384&B.subtreeFlags&&H!==null)H.return=B,B=H;else{if(B===N)break;for(;B.sibling===null;){if(B.return===null||B.return===N)return!0;B=B.return}B.sibling.return=B.return,B=B.sibling}}return!0}(v)&&((u=cf(l,y))===2&&(T=dy(l))!==0&&(y=T,u=h0(l,T)),u===1))throw p=tc,ia(l,0),Vs(l,y),zr(l,jt()),p;switch(l.finishedWork=v,l.finishedLanes=y,u){case 0:case 1:throw Error(s(345));case 2:case 5:yl(l,en,$s);break;case 3:if(Vs(l,y),(130023424&y)===y&&10<(u=a0+500-jt())){if(Ad(l,0)!==0)break;if(((v=l.suspendedLanes)&y)!==y){cr(),l.pingedLanes|=l.suspendedLanes&v;break}l.timeoutHandle=ze(yl.bind(null,l,en,$s),u);break}yl(l,en,$s);break;case 4:if(Vs(l,y),(4194240&y)===y)break;for(u=l.eventTimes,v=-1;0<y;){var C=31-$n(y);T=1<<C,(C=u[C])>v&&(v=C),y&=~T}if(y=v,10<(y=(120>(y=jt()-y)?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*FN(y/1960))-y)){l.timeoutHandle=ze(yl.bind(null,l,en,$s),y);break}yl(l,en,$s);break;default:throw Error(s(329))}}}return zr(l,jt()),l.callbackNode===p?ZS.bind(null,l):null}function h0(l,u){var p=rc;return l.current.memoizedState.isDehydrated&&(ia(l,u).flags|=256),(l=cf(l,u))!==2&&(u=en,en=p,u!==null&&d0(u)),l}function d0(l){en===null?en=l:en.push.apply(en,l)}function Vs(l,u){for(u&=~o0,u&=~nf,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-$n(u),y=1<<p;l[p]=-1,u&=~y}}function JS(l){if(6&Ue)throw Error(s(327));sa();var u=Ad(l,0);if(!(1&u))return zr(l,jt()),null;var p=cf(l,u);if(l.tag!==0&&p===2){var y=dy(l);y!==0&&(u=y,p=h0(l,y))}if(p===1)throw p=tc,ia(l,0),Vs(l,u),zr(l,jt()),p;if(p===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,yl(l,en,$s),zr(l,jt()),null}function eE(l){Hs!==null&&Hs.tag===0&&!(6&Ue)&&sa();var u=Ue;Ue|=1;var p=Tt.transition,y=We;try{if(Tt.transition=null,We=1,l)return l()}finally{We=y,Tt.transition=p,!(6&(Ue=u))&&_i()}}function f0(){Jr=ml.current,ot(ml)}function ia(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==kt&&(l.timeoutHandle=kt,Et(p)),It!==null)for(p=It.return;p!==null;){var y=p;switch(_y(y),y.tag){case 1:(y=y.type.childContextTypes)!=null&&uy();break;case 3:dl(),ot(Fr),ot(ar),Dy();break;case 5:My(y);break;case 4:dl();break;case 13:case 19:ot(xt);break;case 10:Ty(y.type._context);break;case 22:case 23:f0()}p=p.return}if(Ht=l,It=l=Xs(l.current,null),Jt=Jr=u,Lt=0,tc=null,o0=nf=na=0,en=rc=null,ta!==null){for(u=0;u<ta.length;u++)if((y=(p=ta[u]).interleaved)!==null){p.interleaved=null;var v=y.next,T=p.pending;if(T!==null){var C=T.next;T.next=v,y.next=C}p.pending=y}ta=null}return l}function tE(l,u){for(;;){var p=It;try{if(Ey(),zd.current=Hd,jd){for(var y=ht.memoizedState;y!==null;){var v=y.queue;v!==null&&(v.pending=null),y=y.next}jd=!1}if(ra=0,Gt=$t=ht=null,Vu=!1,Xu=0,s0.current=null,p===null||p.return===null){Lt=1,tc=u,It=null;break}e:{var T=l,C=p.return,N=p,B=u;if(u=Jt,N.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var H=B,Q=N,ue=Q.tag;if(!(1&Q.mode)&&(ue===0||ue===11||ue===15)){var q=Q.alternate;q?(Q.updateQueue=q.updateQueue,Q.memoizedState=q.memoizedState,Q.lanes=q.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var re=ES(C);if(re!==null){re.flags&=-257,TS(re,C,N,0,u),1&re.mode&&SS(T,H,u),B=H;var ye=(u=re).updateQueue;if(ye===null){var Me=new Set;Me.add(B),u.updateQueue=Me}else ye.add(B);break e}if(!(1&u)){SS(T,H,u),p0();break e}B=Error(s(426))}else if(at&&1&N.mode){var K=ES(C);if(K!==null){!(65536&K.flags)&&(K.flags|=256),TS(K,C,N,0,u),by(fl(B,N));break e}}T=B=fl(B,N),Lt!==4&&(Lt=2),rc===null?rc=[T]:rc.push(T),T=C;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u,Hb(T,wS(0,B,u));break e;case 1:N=B;var F=T.type,G=T.stateNode;if(!(128&T.flags)&&(typeof F.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Gs===null||!Gs.has(G)))){T.flags|=65536,u&=-u,T.lanes|=u,Hb(T,bS(T,N,u));break e}}T=T.return}while(T!==null)}iE(p)}catch(J){u=J,It===p&&p!==null&&(It=p=p.return);continue}break}}function rE(){var l=rf.current;return rf.current=Hd,l===null?Hd:l}function p0(){Lt!==0&&Lt!==3&&Lt!==2||(Lt=4),Ht===null||!(268435455&na)&&!(268435455&nf)||Vs(Ht,Jt)}function cf(l,u){var p=Ue;Ue|=2;var y=rE();for(Ht===l&&Jt===u||($s=null,ia(l,u));;)try{UN();break}catch(v){tE(l,v)}if(Ey(),Ue=p,rf.current=y,It!==null)throw Error(s(261));return Ht=null,Jt=0,Lt}function UN(){for(;It!==null;)nE(It)}function BN(){for(;It!==null&&!vN();)nE(It)}function nE(l){var u=KS(l.alternate,l,Jr);l.memoizedProps=l.pendingProps,u===null?iE(l):It=u,s0.current=null}function iE(l){var u=l;do{var p=u.alternate;if(l=u.return,(32768&u.flags)==0){if((p=NN(p,u,Jr))!==null)return void(It=p)}else{if((p=DN(p,u))!==null)return p.flags&=32767,void(It=p);if(l===null)return Lt=6,void(It=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(It=u);It=u=l}while(u!==null);Lt===0&&(Lt=5)}function yl(l,u,p){var y=We,v=Tt.transition;try{Tt.transition=null,We=1,function(T,C,N,B){do sa();while(Hs!==null);if(6&Ue)throw Error(s(327));N=T.finishedWork;var H=T.finishedLanes;if(N===null)return null;if(T.finishedWork=null,T.finishedLanes=0,N===T.current)throw Error(s(177));T.callbackNode=null,T.callbackPriority=0;var Q=N.lanes|N.childLanes;if(function(re,ye){var Me=re.pendingLanes&~ye;re.pendingLanes=ye,re.suspendedLanes=0,re.pingedLanes=0,re.expiredLanes&=ye,re.mutableReadLanes&=ye,re.entangledLanes&=ye,ye=re.entanglements;var K=re.eventTimes;for(re=re.expirationTimes;0<Me;){var F=31-$n(Me),G=1<<F;ye[F]=0,K[F]=-1,re[F]=-1,Me&=~G}}(T,Q),T===Ht&&(It=Ht=null,Jt=0),!(2064&N.subtreeFlags)&&!(2064&N.flags)||of||(of=!0,aE(Db,function(){return sa(),null})),Q=(15990&N.flags)!=0,(15990&N.subtreeFlags)!=0||Q){Q=Tt.transition,Tt.transition=null;var ue=We;We=1;var q=Ue;Ue|=4,s0.current=null,function(re,ye){for(V(re.containerInfo),me=ye;me!==null;)if(ye=(re=me).child,(1028&re.subtreeFlags)!=0&&ye!==null)ye.return=re,me=ye;else for(;me!==null;){re=me;try{var Me=re.alternate;if(1024&re.flags)switch(re.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Me!==null){var K=Me.memoizedProps,F=Me.memoizedState,G=re.stateNode,J=G.getSnapshotBeforeUpdate(re.elementType===re.type?K:Wn(re.type,K),F);G.__reactInternalSnapshotBeforeUpdate=J}break;case 3:Pe&&vr(re.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Ee){lt(re,re.return,Ee)}if((ye=re.sibling)!==null){ye.return=re.return,me=ye;break}me=re.return}Me=zS,zS=!1}(T,N),WS(N,T),U(T.containerInfo),T.current=N,ON(N),_N(),Ue=q,We=ue,Tt.transition=Q}else T.current=N;if(of&&(of=!1,Hs=T,af=H),Q=T.pendingLanes,Q===0&&(Gs=null),function(re){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Cd,re,void 0,(128&re.current.flags)==128)}catch{}}(N.stateNode),zr(T,jt()),C!==null)for(B=T.onRecoverableError,N=0;N<C.length;N++)H=C[N],B(H.value,{componentStack:H.stack,digest:H.digest});if(sf)throw sf=!1,T=u0,u0=null,T;1&af&&T.tag!==0&&sa(),Q=T.pendingLanes,1&Q?T===c0?nc++:(nc=0,c0=T):nc=0,_i()}(l,u,p,y)}finally{Tt.transition=v,We=y}return null}function sa(){if(Hs!==null){var l=Mb(af),u=Tt.transition,p=We;try{if(Tt.transition=null,We=16>l?16:l,Hs===null)var y=!1;else{if(l=Hs,Hs=null,af=0,(6&Ue)!=0)throw Error(s(331));var v=Ue;for(Ue|=4,me=l.current;me!==null;){var T=me,C=T.child;if(16&me.flags){var N=T.deletions;if(N!==null){for(var B=0;B<N.length;B++){var H=N[B];for(me=H;me!==null;){var Q=me;switch(Q.tag){case 0:case 11:case 15:Ju(8,Q,T)}var ue=Q.child;if(ue!==null)ue.return=Q,me=ue;else for(;me!==null;){var q=(Q=me).sibling,re=Q.return;if(jS(Q),Q===H){me=null;break}if(q!==null){q.return=re,me=q;break}me=re}}}var ye=T.alternate;if(ye!==null){var Me=ye.child;if(Me!==null){ye.child=null;do{var K=Me.sibling;Me.sibling=null,Me=K}while(Me!==null)}}me=T}}if(2064&T.subtreeFlags&&C!==null)C.return=T,me=C;else e:for(;me!==null;){if(2048&(T=me).flags)switch(T.tag){case 0:case 11:case 15:Ju(9,T,T.return)}var F=T.sibling;if(F!==null){F.return=T.return,me=F;break e}me=T.return}}var G=l.current;for(me=G;me!==null;){var J=(C=me).child;if(2064&C.subtreeFlags&&J!==null)J.return=C,me=J;else e:for(C=G;me!==null;){if(2048&(N=me).flags)try{switch(N.tag){case 0:case 11:case 15:Qd(9,N)}}catch(Xe){lt(N,N.return,Xe)}if(N===C){me=null;break e}var Ee=N.sibling;if(Ee!==null){Ee.return=N.return,me=Ee;break e}me=N.return}}if(Ue=v,_i(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Cd,l)}catch{}y=!0}return y}finally{We=p,Tt.transition=u}}return!1}function sE(l,u,p){l=js(l,u=wS(0,u=fl(p,u),1),1),u=cr(),l!==null&&(ju(l,1,u),zr(l,u))}function lt(l,u,p){if(l.tag===3)sE(l,l,p);else for(;u!==null;){if(u.tag===3){sE(u,l,p);break}if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Gs===null||!Gs.has(y))){u=js(u,l=bS(u,l=fl(p,l),1),1),l=cr(),u!==null&&(ju(u,1,l),zr(u,l));break}}u=u.return}}function zN(l,u,p){var y=l.pingCache;y!==null&&y.delete(u),u=cr(),l.pingedLanes|=l.suspendedLanes&p,Ht===l&&(Jt&p)===p&&(Lt===4||Lt===3&&(130023424&Jt)===Jt&&500>jt()-a0?ia(l,0):o0|=p),zr(l,u)}function oE(l,u){u===0&&(1&l.mode?(u=hy,!(130023424&(hy<<=1))&&(hy=4194304)):u=1);var p=cr();(l=wi(l,u))!==null&&(ju(l,u,p),zr(l,p))}function jN(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),oE(l,p)}function $N(l,u){var p=0;switch(l.tag){case 13:var y=l.stateNode,v=l.memoizedState;v!==null&&(p=v.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(s(314))}y!==null&&y.delete(u),oE(l,p)}function aE(l,u){return my(l,u)}function GN(l,u,p,y){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(l,u,p,y){return new GN(l,u,p,y)}function m0(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Xs(l,u){var p=l.alternate;return p===null?((p=En(l.tag,u,l.key,l.mode)).elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=14680064&l.flags,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function hf(l,u,p,y,v,T){var C=2;if(y=l,typeof l=="function")m0(l)&&(C=1);else if(typeof l=="string")C=5;else e:switch(l){case h:return oa(p.children,v,T,u);case d:C=8,v|=8;break;case f:return(l=En(12,p,u,2|v)).elementType=f,l.lanes=T,l;case x:return(l=En(13,p,u,v)).elementType=x,l.lanes=T,l;case E:return(l=En(19,p,u,v)).elementType=E,l.lanes=T,l;case S:return df(p,v,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case m:C=10;break e;case g:C=9;break e;case _:C=11;break e;case w:C=14;break e;case b:C=16,y=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(u=En(C,p,u,v)).elementType=l,u.type=y,u.lanes=T,u}function oa(l,u,p,y){return(l=En(7,l,y,u)).lanes=p,l}function df(l,u,p,y){return(l=En(22,l,y,u)).elementType=S,l.lanes=p,l.stateNode={isHidden:!1},l}function g0(l,u,p){return(l=En(6,l,null,u)).lanes=p,l}function y0(l,u,p){return(u=En(4,l.children!==null?l.children:[],l.key,u)).lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function HN(l,u,p,y,v){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=kt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fy(0),this.expirationTimes=fy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fy(0),this.identifierPrefix=y,this.onRecoverableError=v,Fe&&(this.mutableSourceEagerHydrationData=null)}function lE(l,u,p,y,v,T,C,N,B){return l=new HN(l,u,p,N,B),u===1?(u=1,T===!0&&(u|=8)):u=0,T=En(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(T),l}function uE(l){if(!l)return Bs;e:{if(M(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Kr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(l.tag===1){var p=l.type;if(Kr(p))return kb(l,p,u)}return u}function cE(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=Z(u))===null?null:l.stateNode}function hE(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function ff(l,u){hE(l,u),(l=l.alternate)&&hE(l,u)}function WN(l){return(l=Z(l))===null?null:l.stateNode}function VN(){return null}return KS=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||Fr.current)Ur=!0;else{if(!(l.lanes&p)&&!(128&u.flags))return Ur=!1,function(ue,q,re){switch(q.tag){case 3:MS(q),al();break;case 5:Jb(q);break;case 1:Kr(q.type)&&Td(q);break;case 4:Iy(q,q.stateNode.containerInfo);break;case 10:jb(0,q.type._context,q.memoizedProps.value);break;case 13:var ye=q.memoizedState;if(ye!==null)return ye.dehydrated!==null?(Ke(xt,1&xt.current),q.flags|=128,null):re&q.child.childLanes?DS(ue,q,re):(Ke(xt,1&xt.current),(ue=os(ue,q,re))!==null?ue.sibling:null);Ke(xt,1&xt.current);break;case 19:if(ye=(re&q.childLanes)!=0,(128&ue.flags)!=0){if(ye)return OS(ue,q,re);q.flags|=128}var Me=q.memoizedState;if(Me!==null&&(Me.rendering=null,Me.tail=null,Me.lastEffect=null),Ke(xt,xt.current),ye)break;return null;case 22:case 23:return q.lanes=0,kS(ue,q,re)}return os(ue,q,re)}(l,u,p);Ur=(131072&l.flags)!=0}else Ur=!1,at&&1048576&u.flags&&Ob(u,Pd,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Yd(l,u),l=u.pendingProps;var v=il(u,ar.current);ul(u,p),v=Fy(null,u,y,l,v,p);var T=Uy();return u.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Kr(y)?(T=!0,Td(u)):T=!1,u.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Ry(u),v.updater=Fd,u.stateNode=v,v._reactInternals=u,Py(u,y,l,p),u=Vy(null,u,y,!0,T,p)):(u.tag=0,at&&T&&vy(u),Br(null,u,v,p),u=u.child),u;case 16:y=u.elementType;e:{switch(Yd(l,u),l=u.pendingProps,y=(v=y._init)(y._payload),u.type=y,v=u.tag=function(ue){if(typeof ue=="function")return m0(ue)?1:0;if(ue!=null){if((ue=ue.$$typeof)===_)return 11;if(ue===w)return 14}return 2}(y),l=Wn(y,l),v){case 0:u=Wy(null,u,y,l,p);break e;case 1:u=IS(null,u,y,l,p);break e;case 11:u=AS(null,u,y,l,p);break e;case 14:u=CS(null,u,y,Wn(y.type,l),p);break e}throw Error(s(306,y,""))}return u;case 0:return y=u.type,v=u.pendingProps,Wy(l,u,y,v=u.elementType===y?v:Wn(y,v),p);case 1:return y=u.type,v=u.pendingProps,IS(l,u,y,v=u.elementType===y?v:Wn(y,v),p);case 3:e:{if(MS(u),l===null)throw Error(s(387));y=u.pendingProps,v=(T=u.memoizedState).element,Gb(l,u),Od(u,y,null,p);var C=u.memoizedState;if(y=C.element,Fe&&T.isDehydrated){if(T={element:y,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=T,u.memoizedState=T,256&u.flags){u=NS(l,u,y,p,v=fl(Error(s(423)),u));break e}if(y!==v){u=NS(l,u,y,p,v=fl(Error(s(424)),u));break e}for(Fe&&(_n=tN(u.stateNode.containerInfo),Zr=u,at=!0,Hn=null,$u=!1),p=Zb(u,null,y,p),u.child=p;p;)p.flags=-3&p.flags|4096,p=p.sibling}else{if(al(),y===v){u=os(l,u,p);break e}Br(l,u,y,p)}u=u.child}return u;case 5:return Jb(u),l===null&&wy(u),y=u.type,v=u.pendingProps,T=l!==null?l.memoizedProps:null,C=v.children,$e(y,v)?C=null:T!==null&&$e(y,T)&&(u.flags|=32),PS(l,u),Br(l,u,C,p),u.child;case 6:return l===null&&wy(u),null;case 13:return DS(l,u,p);case 4:return Iy(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=cl(u,null,y,p):Br(l,u,y,p),u.child;case 11:return y=u.type,v=u.pendingProps,AS(l,u,y,v=u.elementType===y?v:Wn(y,v),p);case 7:return Br(l,u,u.pendingProps,p),u.child;case 8:case 12:return Br(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(y=u.type._context,v=u.pendingProps,T=u.memoizedProps,jb(0,y,C=v.value),T!==null)if(Gn(T.value,C)){if(T.children===v.children&&!Fr.current){u=os(l,u,p);break e}}else for((T=u.child)!==null&&(T.return=u);T!==null;){var N=T.dependencies;if(N!==null){C=T.child;for(var B=N.firstContext;B!==null;){if(B.context===y){if(T.tag===1){(B=ss(-1,p&-p)).tag=2;var H=T.updateQueue;if(H!==null){var Q=(H=H.shared).pending;Q===null?B.next=B:(B.next=Q.next,Q.next=B),H.pending=B}}T.lanes|=p,(B=T.alternate)!==null&&(B.lanes|=p),Ay(T.return,p,u),N.lanes|=p;break}B=B.next}}else if(T.tag===10)C=T.type===u.type?null:T.child;else if(T.tag===18){if((C=T.return)===null)throw Error(s(341));C.lanes|=p,(N=C.alternate)!==null&&(N.lanes|=p),Ay(C,p,u),C=T.sibling}else C=T.child;if(C!==null)C.return=T;else for(C=T;C!==null;){if(C===u){C=null;break}if((T=C.sibling)!==null){T.return=C.return,C=T;break}C=C.return}T=C}Br(l,u,v.children,p),u=u.child}return u;case 9:return v=u.type,y=u.pendingProps.children,ul(u,p),y=y(v=xn(v)),u.flags|=1,Br(l,u,y,p),u.child;case 14:return v=Wn(y=u.type,u.pendingProps),CS(l,u,y,v=Wn(y.type,v),p);case 15:return RS(l,u,u.type,u.pendingProps,p);case 17:return y=u.type,v=u.pendingProps,v=u.elementType===y?v:Wn(y,v),Yd(l,u),u.tag=1,Kr(y)?(l=!0,Td(u)):l=!1,ul(u,p),Yb(u,y,v),Py(u,y,v,p),Vy(null,u,y,!0,l,p);case 19:return OS(l,u,p);case 22:return kS(l,u,p)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=wi(l,134217728);u!==null&&Sn(u,l,134217728,cr()),ff(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=wi(l,1);u!==null&&Sn(u,l,1,cr()),ff(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Ws(l),p=wi(l,u);p!==null&&Sn(p,l,u,cr()),ff(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=zu(u.pendingLanes);p!==0&&(py(u,1|p),zr(u,jt()),!(6&Ue)&&(gl(),_i()))}break;case 13:eE(function(){var y=wi(l,1);if(y!==null){var v=cr();Sn(y,l,1,v)}}),ff(l,1)}},e.batchedUpdates=function(l,u){var p=Ue;Ue|=1;try{return l(u)}finally{(Ue=p)===0&&(gl(),Rd&&_i())}},e.createComponentSelector=function(l){return{$$typeof:Kd,value:l}},e.createContainer=function(l,u,p,y,v,T,C){return lE(l,u,!1,null,0,y,0,T,C)},e.createHasPseudoClassSelector=function(l){return{$$typeof:Zd,value:l}},e.createHydrationContainer=function(l,u,p,y,v,T,C,N,B){return(l=lE(p,y,!0,l,0,T,0,N,B)).context=uE(null),p=l.current,(T=ss(y=cr(),v=Ws(p))).callback=u??null,js(p,T,v),l.current.lanes=v,ju(l,v,y),zr(l,y),l},e.createPortal=function(l,u,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:l,containerInfo:u,implementation:p}},e.createRoleSelector=function(l){return{$$typeof:Jd,value:l}},e.createTestNameSelector=function(l){return{$$typeof:ef,value:l}},e.createTextSelector=function(l){return{$$typeof:tf,value:l}},e.deferredUpdates=function(l){var u=We,p=Tt.transition;try{return Tt.transition=null,We=16,l()}finally{We=u,Tt.transition=p}},e.discreteUpdates=function(l,u,p,y,v){var T=We,C=Tt.transition;try{return Tt.transition=null,We=1,l(u,p,y,v)}finally{We=T,Tt.transition=C,Ue===0&&gl()}},e.findAllNodes=i0,e.findBoundingRects=function(l,u){if(!Dr)throw Error(s(363));u=i0(l,u),l=[];for(var p=0;p<u.length;p++)l.push(el(u[p]));for(u=l.length-1;0<u;u--)for(var y=(p=l[u]).x,v=y+p.width,T=p.y,C=T+p.height,N=u-1;0<=N;N--)if(u!==N){var B=l[N],H=B.x,Q=H+B.width,ue=B.y,q=ue+B.height;if(y>=H&&T>=ue&&v<=Q&&C<=q){l.splice(u,1);break}if(!(y!==H||p.width!==B.width||q<T||ue>C)){ue>T&&(B.height+=ue-T,B.y=T),q<C&&(B.height=C-ue),l.splice(u,1);break}if(!(T!==ue||p.height!==B.height||Q<y||H>v)){H>y&&(B.width+=H-y,B.x=y),Q<v&&(B.width=v-H),l.splice(u,1);break}}return l},e.findHostInstance=cE,e.findHostInstanceWithNoPortals=function(l){return(l=(l=$(l))!==null?O(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return cE(l)},e.flushControlled=function(l){var u=Ue;Ue|=1;var p=Tt.transition,y=We;try{Tt.transition=null,We=1,l()}finally{We=y,Tt.transition=p,(Ue=u)===0&&(gl(),_i())}},e.flushPassiveEffects=sa,e.flushSync=eE,e.focusWithin=function(l,u){if(!Dr)throw Error(s(363));for(u=QS(l=t0(l),u),u=Array.from(u),l=0;l<u.length;){var p=u[l++];if(!Ds(p)){if(p.tag===5&&Jg(p.stateNode))return!0;for(p=p.child;p!==null;)u.push(p),p=p.sibling}}return!1},e.getCurrentUpdatePriority=function(){return We},e.getFindAllNodesFailureDescription=function(l,u){if(!Dr)throw Error(s(363));var p=0,y=[];l=[t0(l),0];for(var v=0;v<l.length;){var T=l[v++],C=l[v++],N=u[C];if((T.tag!==5||!Ds(T))&&(r0(T,N)&&(y.push(n0(N)),++C>p&&(p=C)),C<u.length))for(T=T.child;T!==null;)l.push(T,C),T=T.sibling}if(p<u.length){for(l=[];p<u.length;p++)l.push(n0(u[p]));return`findAllNodes was able to match part of the selector:
  `+y.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?ae(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:WN,findFiberByHostInstance:l.findFiberByHostInstance||VN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Cd=u.inject(l),vi=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,p,y){if(!Dr)throw Error(s(363));l=i0(l,u);var v=Ls(l,p,y).disconnect;return{disconnect:function(){v()}}},e.registerMutableSourceForHydration=function(l,u){var p=u._getVersion;p=p(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,p]:l.mutableSourceEagerHydrationData.push(u,p)},e.runWithPriority=function(l,u){var p=We;try{return We=l,u()}finally{We=p}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,p,y){var v=u.current,T=cr(),C=Ws(v);return p=uE(p),u.context===null?u.context=p:u.pendingContext=p,(u=ss(T,C)).payload={element:l},(y=y===void 0?null:y)!==null&&(u.callback=y),(l=js(v,u,C))!==null&&(Sn(l,v,C,T),Ld(l,v,C)),C},e}),qC}({get exports(){return ax},set exports(t){ax=t}}).exports=vX();var _X=WV(ax),rM={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},ux={},np={get exports(){return ux},set exports(t){ux=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?np.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(np.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(np.exports=function(){return Date.now()-r},r=Date.now()):(np.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(HV);var ZC,Yl={},ha={};({get exports(){return Yl},set exports(t){Yl=t}}).exports=(ZC||(ZC=1,ha.ConcurrentRoot=1,ha.ContinuousEventPriority=4,ha.DefaultEventPriority=16,ha.DiscreteEventPriority=1,ha.IdleEventPriority=536870912,ha.LegacyRoot=0),ha);var xX={};function qv(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function nM(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Is(t.children).forEach(function(s){nM(s,t)})}function JC(t,e){var r;nM(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,c=n.destroyTexture,h=c!==void 0&&c,d=n.destroyBaseTexture,f=d!==void 0&&d;s&&e.destroy({children:a,texture:h,baseTexture:f})}function eR(t,e,r){St(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var tR=null,oi=_X({getRootHostContext:function(){return xX},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Yl.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Yl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Yl.ContinuousEventPriority;default:return Yl.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=pX[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=tM[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Ki)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return tR=function(o,a,c,h){var d=null;for(var f in c)!h.hasOwnProperty(f)&&c.hasOwnProperty(f)&&c[f]!==null&&(f===sx||(d||(d=[]),d.push(f,null)));for(var m in h){var g=h[m],_=c!==null?c[m]:void 0;!h.hasOwnProperty(m)||g===_||g===null&&_===null||m===sx||(d||(d=[]),d.push(m,g))}return d}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){St(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:ux,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=qv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=JC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=JC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:eR,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=eR.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=Ki),(a(t,n,i)||tR)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),wX=rM.dependencies["react-dom"].replace(/[^0-9.]/g,""),bX=rM.name;oi.injectIntoDevTools({bundleType:0,version:wX,rendererPackageName:bX,findHostInstanceByFiber:oi.findHostInstance});var Po=new Map;function iM(t){if(St(kr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),Po.has(t)){var e=Po.get(t).pixiFiberContainer;oi.updateContainer(null,e,void 0,function(){Po.delete(t)})}}function sM(t){St(kr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=Po.get(t);if(St(!e,"Pixi React: createRoot should only be called once"),!e){var r=oi.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return oi.updateContainer(n,r,void 0),oi.getPublicRootInstance(r)},unmount:function(){iM(t),Po.delete(t)}}},Po.set(t,e)}return e.reactRoot}function SX(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Po.has(e)?n=Po.get(e).reactRoot:n=sM(e),n.render(t)}function EX(t){iM(t)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wh.apply(this,arguments)}function TX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z3(n.key),n)}}function us(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vm(t,e){return Vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Vm(t,e)}function CX(t,e){if(e&&(hn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return us(t)}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xm(t)}var Gg=qe.createContext(null),oM=Gg.Provider,aM=Gg.Consumer,RX=function(t){var e=qe.forwardRef(function(r,n){return qe.createElement(aM,null,function(i){return qe.createElement(t,Wh({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function kX(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Xm(t);if(e){var i=Xm(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return CX(this,r)}}function rR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ip(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(r),!0).forEach(function(n){At(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var nR=function(){},lM={width:nt.number,height:nt.number,onMount:nt.func,onUnmount:nt.func,raf:nt.bool,renderOnComponentChange:nt.bool,children:nt.node,options:nt.shape({autoStart:nt.bool,width:nt.number,height:nt.number,useContextAlpha:nt.bool,backgroundAlpha:nt.number,autoDensity:nt.bool,antialias:nt.bool,preserveDrawingBuffer:nt.bool,resolution:nt.number,forceCanvas:nt.bool,backgroundColor:nt.number,clearBeforeRender:nt.bool,powerPreference:nt.string,sharedTicker:nt.bool,sharedLoader:nt.bool,resizeTo:function(t,e){var r=t[e];r&&St(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(hn(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&St(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(hn(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},PX={width:800,height:600,onMount:nR,onUnmount:nR,raf:!0,renderOnComponentChange:!0},cx=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Vm(s,o)})(i,qe.Component);var e,r,n=kX(i);function i(){var s;TX(this,i);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return At(us(s=n.call.apply(n,[this].concat(a))),"_canvas",null),At(us(s),"_mediaQuery",null),At(us(s),"_ticker",null),At(us(s),"_needsUpdate",!0),At(us(s),"app",null),At(us(s),"updateSize",function(){var h=s.props,d=h.width,f=h.height,m=h.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(d,f)}),At(us(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),At(us(s),"renderStage",function(){var h=s.props,d=h.renderOnComponentChange;!h.raf&&d&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,c=s.height,h=s.options,d=s.raf,f=s.renderOnComponentChange;this.app=new $g(ip(ip({width:a,height:c,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[d?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=oi.createContainer(this.app.stage),oi.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),f&&!d&&(this._ticker=new Qt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var c,h=this.props,d=h.width,f=h.height,m=h.raf,g=h.renderOnComponentChange,_=h.options;(_==null?void 0:_.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(_==null?void 0:_.resolution)&&(this.app.renderer.resolution=_.resolution,this.resetInteractionManager()),s.height===f&&s.width===d&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(_==null?void 0:_.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),oi.updateContainer(this.getChildren(),this.mountNode,this),s.width===d&&s.height===f&&s.raf===m&&s.renderOnComponentChange===g&&s.options===_||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return qe.createElement(oM,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),oi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,c=this.props.options;return c&&c.view?(St(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):qe.createElement("canvas",Wh({},(s=this.props,o=[].concat(Is(Object.keys(lM)),Is(Object.keys(ox))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,d){return ip(ip({},h),{},At({},d,s[d]))},{})),{ref:function(h){return a._canvas=h}}))}}])&&AX(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();cx.propTypes=lM,cx.defaultProps=PX;var IX=cx;function uM(){var t=P.useContext(Gg);return St(t instanceof $g,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function MX(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=uM();St(typeof t=="function","`useTick` needs a callback function."),St(r instanceof $g,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=P.useRef(null);P.useEffect(function(){n.current=t},[t]),P.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function NX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hx(t,e,r){return hx=NX()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&Vm(a,s.prototype),a},hx.apply(null,arguments)}var DX=["children","apply"];function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){At(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LX=function(t,e){St(hn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=Wo(i,DX),c=P.useRef(P.useMemo(function(){return r.map(function(f){var m,g=(a==null||(m=a[f])===null||m===void 0?void 0:m.construct)||[];return hx(e[f],Is(g))})},[r])),h=P.useMemo(function(){return r.reduce(function(f,m,g){return sp(sp({},f),{},At({},m,c.current[g]))},{})},[r]),d=P.useMemo(function(){return Object.keys(a).filter(eM(J3(r))).reduce(function(f,m){return sp(sp({},f),{},At({},m,a[m]))},{})},[a,r]);return r.forEach(function(f,m){return Object.assign(c.current[m],a[f])}),o&&function(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return m.every(function(_){return typeof _=="function"})}(o)&&o.call(t,h),qe.createElement(t,Wh({},d,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:nt.node,apply:nt.func},n},OX=qr.BitmapText,FX=qr.Container,UX=qr.Graphics,BX=qr.NineSlicePlane,zX=qr.ParticleContainer,jX=qr.Sprite,$X=qr.AnimatedSprite,GX=qr.Text,HX=qr.TilingSprite,WX=qr.SimpleMesh,VX=qr.SimpleRope;const XX=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:$X,AppConsumer:aM,AppContext:Gg,AppProvider:oM,BitmapText:OX,Container:FX,Graphics:UX,NineSlicePlane:BX,ParticleContainer:zX,PixiComponent:mX,PixiFiber:oi,SimpleMesh:WX,SimpleRope:VX,Sprite:jX,Stage:IX,TYPES:qr,Text:GX,TilingSprite:HX,applyDefaultProps:Ki,createRoot:sM,eventHandlers:Wm,render:SX,unmountComponentAtNode:EX,useApp:uM,useTick:MX,withFilters:LX,withPixiApp:RX},Symbol.toStringTag,{value:"Module"})),YX=Ix(XX);b2.exports=YX;var gt=b2.exports;const cM=new st;ct.prototype._cacheAsBitmap=!1;ct.prototype._cacheData=null;ct.prototype._cacheAsBitmapResolution=null;ct.prototype._cacheAsBitmapMultisample=null;class qX{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ct.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new qX),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});ct.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};ct.prototype._initCachedDisplayObject=function(t){var m,g;if((m=this._cacheData)!=null&&m.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new ke,!0);if((g=this.filters)!=null&&g.length){const _=this.filters[0].padding;r.pad(_)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,c=Ka.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),h=`cacheAsBitmap_${Va()}`;this._cacheData.textureCacheId=h,Ce.addToCache(c.baseTexture,h),he.addToCache(c,h);const d=this.transform.localTransform.copyTo(cM).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:d,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const f=new es(c);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=e,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};ct.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};ct.prototype._initCachedDisplayObjectCanvas=function(t){var d;if((d=this._cacheData)!=null&&d.sprite)return;const e=this.getLocalBounds(new ke,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=Ka.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${Va()}`;this._cacheData.textureCacheId=a,Ce.addToCache(o.baseTexture,a),he.addToCache(o,a);const c=cM;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const h=new es(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(e.x/e.width),h.anchor.y=-(e.y/e.height),h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)};ct.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ct.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ct.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ce.removeFromCache(this._cacheData.textureCacheId),he.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ct.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};ct.prototype.name=null;kr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};ct.prototype.getGlobalPosition=function(t=new Le,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var QX=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class KX extends Tr{constructor(e=1){super(cW,QX,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const ZX={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},JX=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function eY(t){const e=ZX[t],r=e.length;let n=JX,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let c=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const tY=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function rY(t,e){const r=Math.ceil(t/2);let n=tY,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class dx extends Tr{constructor(e,r=8,n=4,i=Tr.defaultResolution,s=5){const o=rY(s,e),a=eY(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,c=s;this.state.blend=!1,e.applyFilter(this,a,c,Fi.CLEAR);for(let h=1;h<this.passes-1;h++){e.bindAndClear(a,Fi.BLIT),this.uniforms.uSampler=c;const d=c;c=a,a=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class hM extends Tr{constructor(e=8,r=4,n=Tr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new dx(!0,e,r,n,i),this.blurYFilter=new dx(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Fi.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var nY=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class fx extends Tr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(A3,nY,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=tt.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),c=n+(1-n)*o,h=o*(1-n)-a*i,d=o*(1-n)+a*i,f=o*(1-n)+a*i,m=n+o*(1-n),g=o*(1-n)-a*i,_=o*(1-n)-a*i,x=o*(1-n)+a*i,E=n+o*(1-n),w=[c,h,d,0,0,f,m,g,0,0,_,x,E,0,0,0,0,0,1,0];this._loadMatrix(w,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=tt.shared,[a,c,h]=o.setValue(n).toArray(),[d,f,m]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,a,c,h,e,0,d,f,m,r,0,a-d,c-f,h-m,0,0];this._loadMatrix(g,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}fx.prototype.grayscale=fx.prototype.greyscale;var iY=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,sY=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class oY extends Tr{constructor(e,r){const n=new st;e.renderable=!1,super(sY,iY,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Le(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var aY=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,lY=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class uY extends Tr{constructor(){super(lY,aY)}}var cY=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class hY extends Tr{constructor(e=.5,r=Math.random()){super(A3,cY,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const sR={AlphaFilter:KX,BlurFilter:hM,BlurFilterPass:dx,ColorMatrixFilter:fx,DisplacementFilter:oY,FXAAFilter:uY,NoiseFilter:hY};Object.entries(sR).forEach(([t,e])=>{Object.defineProperty(sR,t,{get(){return Ne("7.1.0",`filters.${t} has moved to ${t}`),e}})});class dY{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Qt.system.add(this.tickerUpdate,this,Bo.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Qt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const fo=new dY;class yd{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=yd.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Le,this.page=new Le,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Ym extends yd{constructor(){super(...arguments),this.client=new Le,this.movement=new Le,this.offset=new Le,this.global=new Le,this.screen=new Le}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,c,h,d,f,m,g,_,x){throw new Error("Method not implemented.")}}class Kn extends Ym{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class lu extends Ym{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}lu.DOM_DELTA_PIXEL=0,lu.DOM_DELTA_LINE=1,lu.DOM_DELTA_PAGE=2;const fY=2048,pY=new Le,Qv=new Le;class mY{constructor(e){this.dispatch=new pd,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){fo.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,pY.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<fY&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(fo.pauseUpdate=!1),e.interactiveChildren&&e.children){const d=e.children;for(let f=d.length-1;f>=0;f--){const m=d[f],g=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const _=e.isInteractive();(g.length>0||_)&&(_&&this._allInteractiveElements.push(e),g.push(e)),this._hitElements.length===0&&(this._hitElements=g),a=!0}}}const c=this._isInteractive(r),h=e.isInteractive();return h&&h&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:c&&!s(e,n)&&i(e,n)?h?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(fo.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let h=c.length-1;h>=0;h--){const d=c[h],f=this.hitTestRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s);if(f){if(f.length>0&&!f[f.length-1].parent)continue;const m=e.isInteractive();return(f.length>0||m)&&f.push(e),f}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Qv),!e.hitArea.contains(Qv.x,Qv.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,h;if(!(e instanceof Kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const d=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,d,s);if(this.dispatchEvent(f,"pointerout"),n&&this.dispatchEvent(f,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(f)}if(s!==r.target){const d=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(r,d);this.dispatchEvent(f,"pointerover"),n&&this.dispatchEvent(f,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const g=this.clonePointerEvent(r,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(f)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===a.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=a.target,c.timeStamp=r,a.detail=c.clickCount,a.pointerType==="mouse"){const h=a.button===2;this.dispatchEvent(a,h?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof lu)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Kn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(lu);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Kn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Kn&&r instanceof Kn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Ym&&r instanceof Ym&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const gY=1,yY={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},px=class mx{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new mY(null),fo.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Kn(null),this.rootWheelEvent=new lu(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...mx.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,mx._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,fo.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,fo.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;fo.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;fo.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=gY),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=yY[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};px.extension={name:"events",type:[ce.RendererSystem,ce.CanvasRendererSystem]},px.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let gx=px;ve.add(gx);function oR(t){return t==="dynamic"||t==="static"}const vY={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??oR(gx.defaultEventMode)},set interactive(t){Ne("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??gx.defaultEventMode},set eventMode(t){this._internalInteractive=oR(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof yd))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};ct.mixin(vY);const _Y={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ct.mixin(_Y);const xY=9,op=100,wY=0,bY=0,aR=2,lR=1,SY=-1e3,EY=-1e3,TY=2;class dM{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(_s.tablet||_s.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${op}px`,r.style.height=`${op}px`,r.style.position="absolute",r.style.top=`${wY}px`,r.style.left=`${bY}px`,r.style.zIndex=aR.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${lR}px`,e.style.height=`${lR}px`,e.style.position="absolute",e.style.top=`${SY}px`,e.style.left=`${EY}px`,e.style.zIndex=TY.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(_s.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:c}=this.renderer,h=i/o*c,d=s/a*c;let f=this.div;f.style.left=`${r}px`,f.style.top=`${n}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let m=0;m<this.children.length;m++){const g=this.children[m];if(g.renderId!==this.renderId)g._accessibleActive=!1,ou(this.children,m,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,m--;else{f=g._accessibleDiv;let _=g.hitArea;const x=g.worldTransform;g.hitArea?(f.style.left=`${(x.tx+_.x*x.a)*h}px`,f.style.top=`${(x.ty+_.y*x.d)*d}px`,f.style.width=`${_.width*x.a*h}px`,f.style.height=`${_.height*x.d*d}px`):(_=g.getBounds(),this.capHitArea(_),f.style.left=`${_.x*h}px`,f.style.top=`${_.y*d}px`,f.style.width=`${_.width*h}px`,f.style.height=`${_.height*d}px`,f.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(f.title=g.accessibleTitle),f.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&f.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==f.title||g.tabIndex!==f.tabIndex)&&(f.title=g.accessibleTitle,f.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${op}px`,r.style.height=`${op}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=aR.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new yd(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===xY&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}dM.extension={name:"accessibility",type:[ce.RendererPlugin,ce.CanvasRendererPlugin]};ve.add(dM);var rn=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(rn||{});const qm={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let cs,Il;function uR(){Il={s3tc:cs.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:cs.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:cs.getExtension("WEBGL_compressed_texture_etc"),etc1:cs.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:cs.getExtension("WEBGL_compressed_texture_pvrtc")||cs.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:cs.getExtension("WEBGL_compressed_texture_atc"),astc:cs.getExtension("WEBGL_compressed_texture_astc")}}const AY={extension:{type:ce.DetectionParser,priority:2},test:async()=>{const t=pe.ADAPTER.createCanvas().getContext("webgl");return t?(cs=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Il||uR();const e=[];for(const r in Il)Il[r]&&e.push(r);return[...e,...t]},remove:async t=>(Il||uR(),t.filter(e=>!(e in Il)))};ve.add(AY);class CY extends Mg{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new O_(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new O_(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Da extends CY{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Da._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Da._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:c,levelHeight:h,levelBuffer:d}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,c,h,0,d)}return!0}onBlobLoaded(){this._levelBuffers=Da._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const c=new Array(n);let h=e.byteOffset,d=o,f=a,m=d+i-1&~(i-1),g=f+s-1&~(s-1),_=m*g*qm[r];for(let x=0;x<n;x++)c[x]={levelID:x,levelWidth:n>1?d:m,levelHeight:n>1?f:g,levelBuffer:new Uint8Array(e.buffer,h,_)},h+=_,d=d>>1||1,f=f>>1||1,m=d+i-1&~(i-1),g=f+s-1&~(s-1),_=m*g*qm[r];return c}}const Kv=4,ap=124,RY=32,cR=20,kY=542327876,lp={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},PY={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},up={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},IY=1,MY=2,NY=4,DY=64,LY=512,OY=131072,FY=827611204,UY=861165636,BY=894720068,zY=808540228,jY=4,$Y={[FY]:rn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[UY]:rn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[BY]:rn.COMPRESSED_RGBA_S3TC_DXT5_EXT},GY={70:rn.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:rn.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:rn.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:rn.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:rn.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:rn.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:rn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:rn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:rn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function HY(t){const e=new Uint32Array(t);if(e[0]!==kY)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,ap/Uint32Array.BYTES_PER_ELEMENT),n=r[lp.HEIGHT],i=r[lp.WIDTH],s=r[lp.MIPMAP_COUNT],o=new Uint32Array(t,lp.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,RY/Uint32Array.BYTES_PER_ELEMENT),a=o[IY];if(a&NY){const c=o[PY.FOURCC];if(c!==zY){const b=$Y[c],S=Kv+ap,A=new Uint8Array(t,S);return[new Da(A,{format:b,width:i,height:n,levels:s})]}const h=Kv+ap,d=new Uint32Array(e.buffer,h,cR/Uint32Array.BYTES_PER_ELEMENT),f=d[up.DXGI_FORMAT],m=d[up.RESOURCE_DIMENSION],g=d[up.MISC_FLAG],_=d[up.ARRAY_SIZE],x=GY[f];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(g===jY)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const E=new Array,w=Kv+ap+cR;if(_===1)E.push(new Uint8Array(t,w));else{const b=qm[x];let S=0,A=i,k=n;for(let I=0;I<s;I++){const M=Math.max(1,A+3&-4),z=Math.max(1,k+3&-4),$=M*z*b;S+=$,A=A>>>1,k=k>>>1}let L=w;for(let I=0;I<_;I++)E.push(new Uint8Array(t,L,S)),L+=S}return E.map(b=>new Da(b,{format:x,width:i,height:n,levels:s}))}throw a&DY?new Error("DDSParser does not support uncompressed texture data."):a&LY?new Error("DDSParser does not supported YUV uncompressed texture data."):a&OY?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&MY?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const hR=[171,75,84,88,32,49,49,187,13,10,26,10],WY=67305985,qn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},yx=64,dR={[be.UNSIGNED_BYTE]:1,[be.UNSIGNED_SHORT]:2,[be.INT]:4,[be.UNSIGNED_INT]:4,[be.FLOAT]:4,[be.HALF_FLOAT]:8},VY={[ne.RGBA]:4,[ne.RGB]:3,[ne.RG]:2,[ne.RED]:1,[ne.LUMINANCE]:1,[ne.LUMINANCE_ALPHA]:2,[ne.ALPHA]:1},XY={[be.UNSIGNED_SHORT_4_4_4_4]:2,[be.UNSIGNED_SHORT_5_5_5_1]:2,[be.UNSIGNED_SHORT_5_6_5]:2};function YY(t,e,r=!1){const n=new DataView(e);if(!qY(t,n))return null;const i=n.getUint32(qn.ENDIANNESS,!0)===WY,s=n.getUint32(qn.GL_TYPE,i),o=n.getUint32(qn.GL_FORMAT,i),a=n.getUint32(qn.GL_INTERNAL_FORMAT,i),c=n.getUint32(qn.PIXEL_WIDTH,i),h=n.getUint32(qn.PIXEL_HEIGHT,i)||1,d=n.getUint32(qn.PIXEL_DEPTH,i)||1,f=n.getUint32(qn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=n.getUint32(qn.NUMBER_OF_FACES,i),g=n.getUint32(qn.NUMBER_OF_MIPMAP_LEVELS,i),_=n.getUint32(qn.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||d!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const x=4,E=4,w=c+3&-4,b=h+3&-4,S=new Array(f);let A=c*h;s===0&&(A=w*b);let k;if(s!==0?dR[s]?k=dR[s]*VY[o]:k=XY[s]:k=qm[a],k===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const L=r?KY(n,_,i):null;let I=A*k,M=c,z=h,$=w,Z=b,Y=yx+_;for(let O=0;O<g;O++){const W=n.getUint32(Y,i);let de=Y+4;for(let ae=0;ae<f;ae++){let le=S[ae];le||(le=S[ae]=new Array(g)),le[O]={levelID:O,levelWidth:g>1||s!==0?M:$,levelHeight:g>1||s!==0?z:Z,levelBuffer:new Uint8Array(e,de,I)},de+=I}Y+=W+4,Y=Y%4!==0?Y+4-Y%4:Y,M=M>>1||1,z=z>>1||1,$=M+x-1&~(x-1),Z=z+E-1&~(E-1),I=$*Z*k}return s!==0?{uncompressed:S.map(O=>{let W=O[0].levelBuffer,de=!1;return s===be.FLOAT?W=new Float32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4):s===be.UNSIGNED_INT?(de=!0,W=new Uint32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)):s===be.INT&&(de=!0,W=new Int32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)),{resource:new Mg(W,{width:O[0].levelWidth,height:O[0].levelHeight}),type:s,format:de?QY(o):o}}),kvData:L}:{compressed:S.map(O=>new Da(null,{format:a,width:c,height:h,levels:g,levelBuffers:O})),kvData:L}}function qY(t,e){for(let r=0;r<hR.length;r++)if(e.getUint8(r)!==hR[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function QY(t){switch(t){case ne.RGBA:return ne.RGBA_INTEGER;case ne.RGB:return ne.RGB_INTEGER;case ne.RG:return ne.RG_INTEGER;case ne.RED:return ne.RED_INTEGER;default:return t}}function KY(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(yx+i,r),o=yx+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),d=new DataView(t.buffer,o+c+1,s-c-1);n.set(h,d),i+=4+s+a}return n}const ZY={extension:{type:ce.LoadParser,priority:mi.High},name:"loadDDS",test(t){return Ho(t,".dds")},async load(t,e,r){const n=await(await pe.ADAPTER.fetch(t)).arrayBuffer(),i=HY(n).map(s=>{const o=new Ce(s,{mipmap:qi.OFF,alphaMode:Wr.NO_PREMULTIPLIED_ALPHA,resolution:ks(t),...e.data});return gd(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ve.add(ZY);const JY={extension:{type:ce.LoadParser,priority:mi.High},name:"loadKTX",test(t){return Ho(t,".ktx")},async load(t,e,r){const n=await(await pe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=YY(t,n),a=i??s,c={mipmap:qi.OFF,alphaMode:Wr.NO_PREMULTIPLIED_ALPHA,resolution:ks(t),...e.data},h=a.map(d=>{a===s&&Object.assign(c,{type:d.type,format:d.format});const f=d.resource??d,m=new Ce(f,c);return m.ktxKeyValueData=o,gd(m,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ve.add(JY);const eq={extension:ce.ResolveParser,test:t=>{const e=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(e)},parse:t=>{var e,r;if(t.split("?")[0].split(".").pop()==="ktx"){const n=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(n.some(i=>t.endsWith(i)))return{resolution:parseFloat(((e=pe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:n.find(i=>t.endsWith(i)),src:t}}return{resolution:parseFloat(((r=pe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:t.split(".").pop(),src:t}}};ve.add(eq);const cp=new ke,tq=4,fM=class Fc{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(c=>{if(!c){a(new Error("ICanvas.toBlob failed!"));return}const h=new FileReader;h.onload=()=>o(h.result),h.onerror=a,h.readAsDataURL(c)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,c)=>{const h=new FileReader;h.onload=()=>a(h.result),h.onerror=c,h.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&Fc._flipY(n,i,s),a&&Fc._unpremultiplyAlpha(n);const c=new qG(i,s,1),h=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return c.context.putImageData(h,0,0),c.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&Fc._flipY(n,i,s),a&&Fc._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,c=!1;e&&(e instanceof Ka?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(cp.width=r.width,cp.height=r.height,r=cp)));const h=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===ne.RGBA,!c){n.renderTexture.bind(a);const g=a.framebuffer.glFramebuffers[n.CONTEXT_UID];g.blitFramebuffer&&n.framebuffer.bind(g.blitFramebuffer)}}else i=n.resolution,r||(r=cp,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const d=Math.max(Math.round(r.width*i),1),f=Math.max(Math.round(r.height*i),1),m=new Uint8Array(tq*d*f);return h.readPixels(Math.round(r.x*i),Math.round(r.y*i),d,f,h.RGBA,h.UNSIGNED_BYTE,m),c&&(a==null||a.destroy(!0)),{pixels:m,width:d,height:f,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const c=a*i,h=(n-a-1)*i;o.set(e.subarray(c,c+i)),e.copyWithin(c,h,h+i),e.set(o,h)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};fM.extension={name:"extract",type:ce.RendererSystem};let rq=fM;ve.add(rq);class nq{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function iq(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof he){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function sq(t,e){if(t.baseTexture instanceof Ce){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function oq(t,e){if(t._texture&&t._texture instanceof he){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function aq(t,e){return e instanceof ab?(e.updateText(!0),!0):!1}function lq(t,e){if(e instanceof Ps){const r=e.toFontString();return uo.measureFont(r),!0}return!1}function uq(t,e){if(t instanceof ab){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function cq(t,e){return t instanceof Ps?(e.includes(t)||e.push(t),!0):!1}const pM=class mM{constructor(e){this.limiter=new nq(mM.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(uq),this.registerFindHook(cq),this.registerFindHook(iq),this.registerFindHook(sq),this.registerFindHook(oq),this.registerUploadHook(aq),this.registerUploadHook(lq)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Qt.system.addOnce(this.tick,this,Bo.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Qt.system.addOnce(this.tick,this,Bo.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof kr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Qt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};pM.uploadsPerFrame=4;let vx=pM;Object.defineProperties(pe,{UPLOADS_PER_FRAME:{get(){return vx.uploadsPerFrame},set(t){Ne("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),vx.uploadsPerFrame=t}}});function gM(t,e){return e instanceof Ce?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function hq(t,e){if(!(e instanceof nh))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&gM(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function dq(t,e){return t instanceof nh?(e.push(t),!0):!1}class yM extends vx{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(dq),this.registerUploadHook(gM),this.registerUploadHook(hq)}}yM.extension={name:"prepare",type:ce.RendererSystem};ve.add(yM);const vM=class Uc{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof he?e:null,this.baseTexture=e instanceof Ce?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=ks(e,null);return n===null&&(n=parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Uc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Uc.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,c=null;const h=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new ke(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s.rotated?a=new ke(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new ke(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new ke(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new he(this.baseTexture,a,d,c,s.rotated?2:0,s.anchor,s.borders),he.addToCache(this.textures[i],i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Uc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Uc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};vM.BATCH_SIZE=1e3;let fR=vM;const fq=["jpg","png","jpeg","avif","webp"];function _M(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Rr.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=_M([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const pq={extension:ce.Asset,cache:{test:t=>t instanceof fR,getCacheableAssets:(t,e)=>_M(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&fq.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=pe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ce.LoadParser,priority:mi.Normal},async testParse(t,e){return Rr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,h;let n=Rr.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=rx(i,e.src);const s=(await r.load([i]))[i],o=new fR(s.baseTexture,t,e.src);await o.parse();const a=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(a)){const d=[];for(const m of a){if(typeof m!="string")continue;let g=n+m;(h=e.data)!=null&&h.ignoreMultiPack||(g=rx(g,e.src),d.push(r.load({src:g,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(d);o.linkedSheets=f,f.forEach(m=>{m.linkedSheets=[o].concat(o.linkedSheets.filter(g=>g!==m))})}return o},unload(t){t.destroy(!0)}}};ve.add(pq);const _x=class Ml extends Ps{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Ml(Object.keys(Ml.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Ml.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Ml;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return pe.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),c=new FileReader;c.onload=()=>s([a,c.result]),c.onerror=o,c.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Rr.basename(e,Rr.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=WG(e)),typeof e=="number"?HG(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Ml.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=pe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};_x.availableFonts={},_x.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Zv=_x;const hp=class Nl extends es{constructor(e="",r={}){super(he.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=he.from(n,{scaleMode:pe.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new ke,i.trim=new ke,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject"),h=document.createElementNS(o,"div"),d=document.createElementNS(o,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",a.appendChild(c),this.maxWidth=Nl.defaultMaxWidth,this.maxHeight=Nl.defaultMaxHeight,this._domElement=h,this._styleElement=d,this._svgRoot=a,this._foreignObject=c,this._foreignObject.appendChild(d),this._foreignObject.appendChild(h),this._image=n,this._loadImage=new Image,this._autoResolution=Nl.defaultAutoResolution,this._resolution=Nl.defaultResolution??pe.RESOLUTION,this.text=e,this.style=r}measureText(e){var d,f;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(o)),h=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",h.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(d=this._style)==null?void 0:d.toCSS(i)}),this._styleElement.textContent=(f=this._style)==null?void 0:f.toGlobalCSS()),{width:c+n.padding*2,height:h+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(c=>{i.onload=async()=>{if(a<this._updateID){c();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),c()};const h=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(h)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Nl.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=vo(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=vo(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Zv?(this.ownsStyle=!1,this._style=e):e instanceof Ps?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Zv.from(e)):(this.ownsStyle=!0,this._style=new Zv(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};hp.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},hp.defaultMaxWidth=2024,hp.defaultMaxHeight=2024,hp.defaultAutoResolution=!0;var xM={exports:{}},mq=Object.defineProperty,gq=(t,e)=>{for(var r in e)mq(t,r,{get:e[r],enumerable:!0})},pi={};gq(pi,{assign:()=>_q,colors:()=>Io,createStringInterpolator:()=>_b,skipAnimation:()=>CM,to:()=>AM,willAdvance:()=>xb});var fb=_d(),Re=t=>vd(t,fb),pb=_d();Re.write=t=>vd(t,pb);var Hg=_d();Re.onStart=t=>vd(t,Hg);var mb=_d();Re.onFrame=t=>vd(t,mb);var gb=_d();Re.onFinish=t=>vd(t,gb);var uu=[];Re.setTimeout=(t,e)=>{const r=Re.now()+e,n=()=>{const s=uu.findIndex(o=>o.cancel==n);~s&&uu.splice(s,1),wo-=~s?1:0},i={time:r,handler:t,cancel:n};return uu.splice(wM(r),0,i),wo+=1,bM(),i};var wM=t=>~(~uu.findIndex(e=>e.time>t)||~uu.length);Re.cancel=t=>{Hg.delete(t),mb.delete(t),gb.delete(t),fb.delete(t),pb.delete(t)};Re.sync=t=>{xx=!0,Re.batchedUpdates(t),xx=!1};Re.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function n(...i){e=i,Re.onStart(r)}return n.handler=t,n.cancel=()=>{Hg.delete(r),e=null},n};var yb=typeof window<"u"?window.requestAnimationFrame:()=>{};Re.use=t=>yb=t;Re.now=typeof performance<"u"?()=>performance.now():Date.now;Re.batchedUpdates=t=>t();Re.catch=console.error;Re.frameLoop="always";Re.advance=()=>{Re.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):EM()};var xo=-1,wo=0,xx=!1;function vd(t,e){xx?(e.delete(t),t(0)):(e.add(t),bM())}function bM(){xo<0&&(xo=0,Re.frameLoop!=="demand"&&yb(SM))}function yq(){xo=-1}function SM(){~xo&&(yb(SM),Re.batchedUpdates(EM))}function EM(){const t=xo;xo=Re.now();const e=wM(xo);if(e&&(TM(uu.splice(0,e),r=>r.handler()),wo-=e),!wo){yq();return}Hg.flush(),fb.flush(t?Math.min(64,xo-t):16.667),mb.flush(),pb.flush(),gb.flush()}function _d(){let t=new Set,e=t;return{add(r){wo+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return wo-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,wo-=e.size,TM(e,n=>n(r)&&t.add(n)),wo+=t.size,e=t)}}}function TM(t,e){t.forEach(r=>{try{e(r)}catch(n){Re.catch(n)}})}function wx(){}var vq=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),se={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function ds(t,e){if(se.arr(t)){if(!se.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var Be=(t,e)=>t.forEach(e);function Zi(t,e,r){if(se.arr(t)){for(let n=0;n<t.length;n++)e.call(r,t[n],`${n}`);return}for(const n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n)}var ln=t=>se.und(t)?[]:se.arr(t)?t:[t];function ih(t,e){if(t.size){const r=Array.from(t);t.clear(),Be(r,e)}}var Bc=(t,...e)=>ih(t,r=>r(...e)),vb=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_b,AM,Io=null,CM=!1,xb=wx,_q=t=>{t.to&&(AM=t.to),t.now&&(Re.now=t.now),t.colors!==void 0&&(Io=t.colors),t.skipAnimation!=null&&(CM=t.skipAnimation),t.createStringInterpolator&&(_b=t.createStringInterpolator),t.requestAnimationFrame&&Re.use(t.requestAnimationFrame),t.batchedUpdates&&(Re.batchedUpdates=t.batchedUpdates),t.willAdvance&&(xb=t.willAdvance),t.frameLoop&&(Re.frameLoop=t.frameLoop)},sh=new Set,Mn=[],Jv=[],Qm=0,Wg={get idle(){return!sh.size&&!Mn.length},start(t){Qm>t.priority?(sh.add(t),Re.onStart(xq)):(RM(t),Re(bx))},advance:bx,sort(t){if(Qm)Re.onFrame(()=>Wg.sort(t));else{const e=Mn.indexOf(t);~e&&(Mn.splice(e,1),kM(t))}},clear(){Mn=[],sh.clear()}};function xq(){sh.forEach(RM),sh.clear(),Re(bx)}function RM(t){Mn.includes(t)||kM(t)}function kM(t){Mn.splice(wq(Mn,e=>e.priority>t.priority),0,t)}function bx(t){const e=Jv;for(let r=0;r<Mn.length;r++){const n=Mn[r];Qm=n.priority,n.idle||(xb(n),n.advance(t),n.idle||e.push(n))}return Qm=0,Jv=Mn,Jv.length=0,Mn=e,Mn.length>0}function wq(t,e){const r=t.findIndex(e);return r<0?t.length:r}var bq=(t,e,r)=>Math.min(Math.max(r,t),e),Sq={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ai="[-+]?\\d*\\.?\\d+",Km=ai+"%";function Vg(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Eq=new RegExp("rgb"+Vg(ai,ai,ai)),Tq=new RegExp("rgba"+Vg(ai,ai,ai,ai)),Aq=new RegExp("hsl"+Vg(ai,Km,Km)),Cq=new RegExp("hsla"+Vg(ai,Km,Km,ai)),Rq=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,kq=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Pq=/^#([0-9a-fA-F]{6})$/,Iq=/^#([0-9a-fA-F]{8})$/;function Mq(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Pq.exec(t))?parseInt(e[1]+"ff",16)>>>0:Io&&Io[t]!==void 0?Io[t]:(e=Eq.exec(t))?(Tl(e[1])<<24|Tl(e[2])<<16|Tl(e[3])<<8|255)>>>0:(e=Tq.exec(t))?(Tl(e[1])<<24|Tl(e[2])<<16|Tl(e[3])<<8|gR(e[4]))>>>0:(e=Rq.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Iq.exec(t))?parseInt(e[1],16)>>>0:(e=kq.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Aq.exec(t))?(pR(mR(e[1]),dp(e[2]),dp(e[3]))|255)>>>0:(e=Cq.exec(t))?(pR(mR(e[1]),dp(e[2]),dp(e[3]))|gR(e[4]))>>>0:null}function e1(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function pR(t,e,r){const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,s=e1(i,n,t+1/3),o=e1(i,n,t),a=e1(i,n,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Tl(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function mR(t){return(parseFloat(t)%360+360)%360/360}function gR(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function dp(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function yR(t){let e=Mq(t);if(e===null)return t;e=e||0;const r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${s})`}var Vh=(t,e,r)=>{if(se.fun(t))return t;if(se.arr(t))return Vh({range:t,output:e,extrapolate:r});if(se.str(t.output[0]))return _b(t);const n=t,i=n.output,s=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",a=n.extrapolateRight||n.extrapolate||"extend",c=n.easing||(h=>h);return h=>{const d=Dq(h,s);return Nq(h,s[d],s[d+1],i[d],i[d+1],c,o,a,n.map)}};function Nq(t,e,r,n,i,s,o,a,c){let h=c?c(t):t;if(h<e){if(o==="identity")return h;o==="clamp"&&(h=e)}if(h>r){if(a==="identity")return h;a==="clamp"&&(h=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?h=-h:r===1/0?h=h-e:h=(h-e)/(r-e),h=s(h),n===-1/0?h=-h:i===1/0?h=h+n:h=h*(i-n)+n,h)}function Dq(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var Lq=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return bq(0,1,i/t)},Zm=1.70158,fp=Zm*1.525,vR=Zm+1,_R=2*Math.PI/3,xR=2*Math.PI/4.5,pp=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,Cu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>vR*t*t*t-Zm*t*t,easeOutBack:t=>1+vR*Math.pow(t-1,3)+Zm*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((fp+1)*2*t-fp)/2:(Math.pow(2*t-2,2)*((fp+1)*(t*2-2)+fp)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*_R),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*_R)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*xR))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*xR)/2+1,easeInBounce:t=>1-pp(1-t),easeOutBounce:pp,easeInOutBounce:t=>t<.5?(1-pp(1-2*t))/2:(1+pp(2*t-1))/2,steps:Lq},Xh=Symbol.for("FluidValue.get"),Ru=Symbol.for("FluidValue.observers"),In=t=>!!(t&&t[Xh]),$r=t=>t&&t[Xh]?t[Xh]():t,wR=t=>t[Ru]||null;function Oq(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Yh(t,e){const r=t[Ru];r&&r.forEach(n=>{Oq(n,e)})}var PM=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");Fq(this,t)}},Fq=(t,e)=>IM(t,Xh,e);function Ou(t,e){if(t[Xh]){let r=t[Ru];r||IM(t,Ru,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function qh(t,e){const r=t[Ru];if(r&&r.has(e)){const n=r.size-1;n?r.delete(e):t[Ru]=null,t.observerRemoved&&t.observerRemoved(n,e)}}var IM=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),Bp=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Uq=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,bR=new RegExp(`(${Bp.source})(%|[a-z]+)`,"i"),Bq=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Xg=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,MM=t=>{const[e,r]=zq(t);if(!e||vb())return t;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(r&&r.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(r);return i||t}else{if(r&&Xg.test(r))return MM(r);if(r)return r}return t},zq=t=>{const e=Xg.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]},t1,jq=(t,e,r,n,i)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,NM=t=>{t1||(t1=Io?new RegExp(`(${Object.keys(Io).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>$r(s).replace(Xg,MM).replace(Uq,yR).replace(t1,yR)),r=e.map(s=>s.match(Bp).map(Number)),i=r[0].map((s,o)=>r.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Vh({...t,output:s}));return s=>{var c;const o=!bR.test(e[0])&&((c=e.find(h=>bR.test(h)))==null?void 0:c.replace(Bp,""));let a=0;return e[0].replace(Bp,()=>`${i[a++](s)}${o||""}`).replace(Bq,jq)}},wb="react-spring: ",DM=t=>{const e=t;let r=!1;if(typeof e!="function")throw new TypeError(`${wb}once requires a function parameter`);return(...n)=>{r||(e(...n),r=!0)}},$q=DM(console.warn);function Gq(){$q(`${wb}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Hq=DM(console.warn);function Wq(){Hq(`${wb}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Yg(t){return se.str(t)&&(t[0]=="#"||/\d/.test(t)||!vb()&&Xg.test(t)||t in(Io||{}))}var bb=vb()?P.useEffect:P.useLayoutEffect,Vq=()=>{const t=P.useRef(!1);return bb(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function LM(){const t=P.useState()[1],e=Vq();return()=>{e.current&&t(Math.random())}}function Xq(t,e){const[r]=P.useState(()=>({inputs:e,result:t()})),n=P.useRef(),i=n.current;let s=i;return s?e&&s.inputs&&Yq(e,s.inputs)||(s={inputs:e,result:t()}):s=r,P.useEffect(()=>{n.current=s,i==r&&(r.inputs=r.result=void 0)},[s]),s.result}function Yq(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var OM=t=>P.useEffect(t,qq),qq=[];function SR(t){const e=P.useRef();return P.useEffect(()=>{e.current=t}),e.current}var Qh=Symbol.for("Animated:node"),Qq=t=>!!t&&t[Qh]===t,Oi=t=>t&&t[Qh],Sb=(t,e)=>vq(t,Qh,e),qg=t=>t&&t[Qh]&&t[Qh].getPayload(),FM=class{constructor(){Sb(this,this)}getPayload(){return this.payload||[]}},xd=class extends FM{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,se.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new xd(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return se.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,se.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Kh=class extends xd{constructor(t){super(0),this._string=null,this._toString=Vh({output:[t,t]})}static create(t){return new Kh(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(se.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Vh({output:[this.getValue(),t]})),this._value=0,super.reset()}},Jm={dependencies:null},Qg=class extends FM{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Zi(this.source,(r,n)=>{Qq(r)?e[n]=r.getValue(t):In(r)?e[n]=$r(r):t||(e[n]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Be(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Zi(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Jm.dependencies&&In(t)&&Jm.dependencies.add(t);const e=qg(t);e&&Be(e,r=>this.add(r))}},UM=class extends Qg{constructor(t){super(t)}static create(t){return new UM(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((r,n)=>r.setValue(t[n])).some(Boolean):(super.setValue(t.map(Kq)),!0)}};function Kq(t){return(Yg(t)?Kh:xd).create(t)}function Sx(t){const e=Oi(t);return e?e.constructor:se.arr(t)?UM:Yg(t)?Kh:xd}var ER=(t,e)=>{const r=!se.fun(t)||t.prototype&&t.prototype.isReactComponent;return P.forwardRef((n,i)=>{const s=P.useRef(null),o=r&&P.useCallback(_=>{s.current=eQ(i,_)},[i]),[a,c]=Jq(n,e),h=LM(),d=()=>{const _=s.current;if(r&&!_)return;(_?e.applyAnimatedValues(_,a.getValue(!0)):!1)===!1&&h()},f=new Zq(d,c),m=P.useRef();bb(()=>(m.current=f,Be(c,_=>Ou(_,f)),()=>{m.current&&(Be(m.current.deps,_=>qh(_,m.current)),Re.cancel(m.current.update))})),P.useEffect(d,[]),OM(()=>()=>{const _=m.current;Be(_.deps,x=>qh(x,_))});const g=e.getComponentProps(a.getValue());return P.createElement(t,{...g,ref:o})})},Zq=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Re.write(this.update)}};function Jq(t,e){const r=new Set;return Jm.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Qg(t),Jm.dependencies=null,[t,r]}function eQ(t,e){return t&&(se.fun(t)?t(e):t.current=e),e}var TR=Symbol.for("AnimatedComponent"),BM=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=i=>new Qg(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:n},s=o=>{const a=AR(o)||"Anonymous";return se.str(o)?o=s[o]||(s[o]=ER(o,i)):o=o[TR]||(o[TR]=ER(o,i)),o.displayName=`Animated(${a})`,o};return Zi(t,(o,a)=>{se.arr(t)&&(a=AR(o)),s[a]=s(o)}),{animated:s}},AR=t=>se.str(t)?t:t&&se.str(t.displayName)?t.displayName:se.fun(t)&&t.name||null,gi=BM(Object.keys(gt.TYPES),{applyAnimatedValues:function(t,e){if(!t.nodeType&&!t.pluginName)return!1;(typeof(t==null?void 0:t.applyProps)=="function"?t.applyProps:gt.applyDefaultProps)(t,{},e)}}).animated,tQ=gi[gt.TYPES.BitmapText],rQ=gi[gt.TYPES.Container],nQ=gi[gt.TYPES.Graphics],iQ=gi[gt.TYPES.NineSlicePlane],sQ=gi[gt.TYPES.ParticleContainer],oQ=gi[gt.TYPES.Sprite],aQ=gi[gt.TYPES.AnimatedSprite],lQ=gi[gt.TYPES.Text],uQ=gi[gt.TYPES.TilingSprite],cQ=gi[gt.TYPES.SimpleMesh],hQ=gi[gt.TYPES.SimpleRope];const dQ=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:aQ,BitmapText:tQ,Container:rQ,Graphics:nQ,NineSlicePlane:iQ,ParticleContainer:sQ,SimpleMesh:cQ,SimpleRope:hQ,Sprite:oQ,Text:lQ,TilingSprite:uQ},Symbol.toStringTag,{value:"Module"})),fQ=Ix(dQ);xM.exports=fQ;var Mo=xM.exports;const Eb=""+new URL("fuyo-coin-9af01014.png",import.meta.url).href;function Sa(t,...e){return se.fun(t)?t(...e):t}var oh=(t,e)=>t===!0||!!(e&&t&&(se.fun(t)?t(e):ln(t).includes(e))),zM=(t,e)=>se.obj(t)?e&&t[e]:t,jM=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,pQ=t=>t,Tb=(t,e=pQ)=>{let r=mQ;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));const n={};for(const i of r){const s=e(t[i],i);se.und(s)||(n[i]=s)}return n},mQ=["config","onProps","onStart","onChange","onPause","onResume","onRest"],gQ={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function yQ(t){const e={};let r=0;if(Zi(t,(n,i)=>{gQ[i]||(e[i]=n,r++)}),r)return e}function $M(t){const e=yQ(t);if(e){const r={to:e};return Zi(t,(n,i)=>i in e||(r[i]=n)),r}return{...t}}function Zh(t){return t=$r(t),se.arr(t)?t.map(Zh):Yg(t)?pi.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function vQ(t){for(const e in t)return!0;return!1}function Ex(t){return se.fun(t)||se.arr(t)&&se.obj(t[0])}function _Q(t,e){var r;(r=t.ref)==null||r.delete(t),e==null||e.delete(t)}function xQ(t,e){var r;e&&t.ref!==e&&((r=t.ref)==null||r.delete(t),e.add(t),t.ref=e)}var wQ={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Tx={...wQ.default,mass:1,damping:1,easing:Cu.linear,clamp:!1},bQ=class{constructor(){this.velocity=0,Object.assign(this,Tx)}};function SQ(t,e,r){r&&(r={...r},CR(r,e),e={...r,...e}),CR(t,e),Object.assign(t,e);for(const o in Tx)t[o]==null&&(t[o]=Tx[o]);let{frequency:n,damping:i}=t;const{mass:s}=t;return se.und(n)||(n<.01&&(n=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/n,2)*s,t.friction=4*Math.PI*i*s/n),t}function CR(t,e){if(!se.und(e.decay))t.duration=void 0;else{const r=!se.und(e.tension)||!se.und(e.friction);(r||!se.und(e.frequency)||!se.und(e.damping)||!se.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var RR=[],EQ=class{constructor(){this.changed=!1,this.values=RR,this.toValues=null,this.fromValues=RR,this.config=new bQ,this.immediate=!1}};function GM(t,{key:e,props:r,defaultProps:n,state:i,actions:s}){return new Promise((o,a)=>{let c,h,d=oh(r.cancel??(n==null?void 0:n.cancel),e);if(d)g();else{se.und(r.pause)||(i.paused=oh(r.pause,e));let _=n==null?void 0:n.pause;_!==!0&&(_=i.paused||oh(_,e)),c=Sa(r.delay||0,e),_?(i.resumeQueue.add(m),s.pause()):(s.resume(),m())}function f(){i.resumeQueue.add(m),i.timeouts.delete(h),h.cancel(),c=h.time-Re.now()}function m(){c>0&&!pi.skipAnimation?(i.delayed=!0,h=Re.setTimeout(g,c),i.pauseQueue.add(f),i.timeouts.add(h)):g()}function g(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(h),t<=(i.cancelId||0)&&(d=!0);try{s.start({...r,callId:t,cancel:d},o)}catch(_){a(_)}}})}var Ab=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?cu(t.get()):e.every(r=>r.noop)?HM(t.get()):ri(t.get(),e.every(r=>r.finished)),HM=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),ri=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),cu=t=>({value:t,cancelled:!0,finished:!1});function WM(t,e,r,n){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:c}=r;return!s&&t===a&&!e.reset?c:r.promise=(async()=>{r.asyncId=i,r.asyncTo=t;const h=Tb(e,(E,w)=>w==="onRest"?void 0:E);let d,f;const m=new Promise((E,w)=>(d=E,f=w)),g=E=>{const w=i<=(r.cancelId||0)&&cu(n)||i!==r.asyncId&&ri(n,!1);if(w)throw E.result=w,f(E),E},_=(E,w)=>{const b=new kR,S=new PR;return(async()=>{if(pi.skipAnimation)throw Jh(r),S.result=ri(n,!1),f(S),S;g(b);const A=se.obj(E)?{...E}:{...w,to:E};A.parentId=i,Zi(h,(L,I)=>{se.und(A[I])&&(A[I]=L)});const k=await n.start(A);return g(b),r.paused&&await new Promise(L=>{r.resumeQueue.add(L)}),k})()};let x;if(pi.skipAnimation)return Jh(r),ri(n,!1);try{let E;se.arr(t)?E=(async w=>{for(const b of w)await _(b)})(t):E=Promise.resolve(t(_,n.stop.bind(n))),await Promise.all([E.then(d),m]),x=ri(n.get(),!0,!1)}catch(E){if(E instanceof kR)x=E.result;else if(E instanceof PR)x=E.result;else throw E}finally{i==r.asyncId&&(r.asyncId=s,r.asyncTo=s?a:void 0,r.promise=s?c:void 0)}return se.fun(o)&&Re.batchedUpdates(()=>{o(x,n,n.item)}),x})()}function Jh(t,e){ih(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var kR=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},PR=class extends Error{constructor(){super("SkipAnimationSignal")}},Ax=t=>t instanceof Cb,TQ=1,Cb=class extends PM{constructor(){super(...arguments),this.id=TQ++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Oi(this);return t&&t.getValue()}to(...t){return pi.to(this,t)}interpolate(...t){return Gq(),pi.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){Yh(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||Wg.sort(this),Yh(this,{type:"priority",parent:this,priority:t})}},Xa=Symbol.for("SpringPhase"),VM=1,Cx=2,Rx=4,r1=t=>(t[Xa]&VM)>0,eo=t=>(t[Xa]&Cx)>0,wc=t=>(t[Xa]&Rx)>0,IR=(t,e)=>e?t[Xa]|=Cx|VM:t[Xa]&=~Cx,MR=(t,e)=>e?t[Xa]|=Rx:t[Xa]&=~Rx,AQ=class extends Cb{constructor(t,e){if(super(),this.animation=new EQ,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!se.und(t)||!se.und(e)){const r=se.obj(t)?{...t}:{...e,from:t};se.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(eo(this)||this._state.asyncTo)||wc(this)}get goal(){return $r(this.animation.to)}get velocity(){const t=Oi(this);return t instanceof xd?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return r1(this)}get isAnimating(){return eo(this)}get isPaused(){return wc(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,r=!1;const n=this.animation;let{toValues:i}=n;const{config:s}=n,o=qg(n.to);!o&&In(n.to)&&(i=ln($r(n.to))),n.values.forEach((h,d)=>{if(h.done)return;const f=h.constructor==Kh?1:o?o[d].lastPosition:i[d];let m=n.immediate,g=f;if(!m){if(g=h.lastPosition,s.tension<=0){h.done=!0;return}let _=h.elapsedTime+=t;const x=n.fromValues[d],E=h.v0!=null?h.v0:h.v0=se.arr(s.velocity)?s.velocity[d]:s.velocity;let w;const b=s.precision||(x==f?.005:Math.min(1,Math.abs(f-x)*.001));if(se.und(s.duration))if(s.decay){const S=s.decay===!0?.998:s.decay,A=Math.exp(-(1-S)*_);g=x+E/(1-S)*(1-A),m=Math.abs(h.lastPosition-g)<=b,w=E*A}else{w=h.lastVelocity==null?E:h.lastVelocity;const S=s.restVelocity||b/10,A=s.clamp?0:s.bounce,k=!se.und(A),L=x==f?h.v0>0:x<f;let I,M=!1;const z=1,$=Math.ceil(t/z);for(let Z=0;Z<$&&(I=Math.abs(w)>S,!(!I&&(m=Math.abs(f-g)<=b,m)));++Z){k&&(M=g==f||g>f==L,M&&(w=-w*A,g=f));const Y=-s.tension*1e-6*(g-f),O=-s.friction*.001*w,W=(Y+O)/s.mass;w=w+W*z,g=g+w*z}}else{let S=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,h.durationProgress>0&&(h.elapsedTime=s.duration*h.durationProgress,_=h.elapsedTime+=t)),S=(s.progress||0)+_/this._memoizedDuration,S=S>1?1:S<0?0:S,h.durationProgress=S),g=x+s.easing(S)*(f-x),w=(g-h.lastPosition)/t,m=S==1}h.lastVelocity=w,Number.isNaN(g)&&(console.warn("Got NaN while animating:",this),m=!0)}o&&!o[d].done&&(m=!1),m?h.done=!0:e=!1,h.setValue(g,s.round)&&(r=!0)});const a=Oi(this),c=a.getValue();if(e){const h=$r(n.to);(c!==h||r)&&!s.decay?(a.setValue(h),this._onChange(h)):r&&s.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(t){return Re.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(eo(this)){const{to:t,config:e}=this.animation;Re.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let r;return se.und(t)?(r=this.queue||[],this.queue=[]):r=[se.obj(t)?t:{...e,to:t}],Promise.all(r.map(n=>this._update(n))).then(n=>Ab(this,n))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Jh(this._state,t&&this._lastCallId),Re.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:r,from:n}=t;r=se.obj(r)?r[e]:r,(r==null||Ex(r))&&(r=void 0),n=se.obj(n)?n[e]:n,n==null&&(n=void 0);const i={to:r,from:n};return r1(this)||(t.reverse&&([r,n]=[n,r]),n=$r(n),se.und(n)?Oi(this)||this._set(r):this._set(n)),i}_update({...t},e){const{key:r,defaultProps:n}=this;t.default&&Object.assign(n,Tb(t,(o,a)=>/^on/.test(a)?zM(o,r):o)),DR(this,t,"onProps"),Sc(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return GM(++this._lastCallId,{key:r,props:t,defaultProps:n,state:s,actions:{pause:()=>{wc(this)||(MR(this,!0),Bc(s.pauseQueue),Sc(this,"onPause",ri(this,bc(this,this.animation.to)),this))},resume:()=>{wc(this)&&(MR(this,!1),eo(this)&&this._resume(),Bc(s.resumeQueue),Sc(this,"onResume",ri(this,bc(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=XM(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,r){if(e.cancel)return this.stop(!0),r(cu(this));const n=!se.und(t.to),i=!se.und(t.from);if(n||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return r(cu(this));const{key:s,defaultProps:o,animation:a}=this,{to:c,from:h}=a;let{to:d=c,from:f=h}=t;i&&!n&&(!e.default||se.und(d))&&(d=f),e.reverse&&([d,f]=[f,d]);const m=!ds(f,h);m&&(a.from=f),f=$r(f);const g=!ds(d,c);g&&this._focus(d);const _=Ex(e.to),{config:x}=a,{decay:E,velocity:w}=x;(n||i)&&(x.velocity=0),e.config&&!_&&SQ(x,Sa(e.config,s),e.config!==o.config?Sa(o.config,s):void 0);let b=Oi(this);if(!b||se.und(d))return r(ri(this,!0));const S=se.und(e.reset)?i&&!e.default:!se.und(f)&&oh(e.reset,s),A=S?f:this.get(),k=Zh(d),L=se.num(k)||se.arr(k)||Yg(k),I=!_&&(!L||oh(o.immediate||e.immediate,s));if(g){const Z=Sx(d);if(Z!==b.constructor)if(I)b=this._set(k);else throw Error(`Cannot animate between ${b.constructor.name} and ${Z.name}, as the "to" prop suggests`)}const M=b.constructor;let z=In(d),$=!1;if(!z){const Z=S||!r1(this)&&m;(g||Z)&&($=ds(Zh(A),k),z=!$),(!ds(a.immediate,I)&&!I||!ds(x.decay,E)||!ds(x.velocity,w))&&(z=!0)}if($&&eo(this)&&(a.changed&&!S?z=!0:z||this._stop(c)),!_&&((z||In(c))&&(a.values=b.getPayload(),a.toValues=In(d)?null:M==Kh?[1]:ln(k)),a.immediate!=I&&(a.immediate=I,!I&&!S&&this._set(c)),z)){const{onRest:Z}=a;Be(RQ,O=>DR(this,e,O));const Y=ri(this,bc(this,c));Bc(this._pendingCalls,Y),this._pendingCalls.add(r),a.changed&&Re.batchedUpdates(()=>{var O;a.changed=!S,Z==null||Z(Y,this),S?Sa(o.onRest,Y):(O=a.onStart)==null||O.call(a,Y,this)})}S&&this._set(A),_?r(WM(e.to,e,this._state,this)):z?this._start():eo(this)&&!g?this._pendingCalls.add(r):r(HM(A))}_focus(t){const e=this.animation;t!==e.to&&(wR(this)&&this._detach(),e.to=t,wR(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;In(e)&&(Ou(e,this),Ax(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;In(t)&&qh(t,this)}_set(t,e=!0){const r=$r(t);if(!se.und(r)){const n=Oi(this);if(!n||!ds(r,n.getValue())){const i=Sx(r);!n||n.constructor!=i?Sb(this,i.create(r)):n.setValue(r),n&&Re.batchedUpdates(()=>{this._onChange(r,e)})}}return Oi(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Sc(this,"onStart",ri(this,bc(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Sa(this.animation.onChange,t,this)),Sa(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Oi(this).reset($r(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),eo(this)||(IR(this,!0),wc(this)||this._resume())}_resume(){pi.skipAnimation?this.finish():Wg.start(this)}_stop(t,e){if(eo(this)){IR(this,!1);const r=this.animation;Be(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Yh(this,{type:"idle",parent:this});const n=e?cu(this.get()):ri(this.get(),bc(this,t??r.to));Bc(this._pendingCalls,n),r.changed&&(r.changed=!1,Sc(this,"onRest",n,this))}}};function bc(t,e){const r=Zh(e),n=Zh(t.get());return ds(n,r)}function XM(t,e=t.loop,r=t.to){const n=Sa(e);if(n){const i=n!==!0&&$M(n),s=(i||t).reverse,o=!i||i.reset;return ed({...t,loop:e,default:!1,pause:void 0,to:!s||Ex(r)?r:void 0,from:o?t.from:void 0,reset:o,...i})}}function ed(t){const{to:e,from:r}=t=$M(t),n=new Set;return se.obj(e)&&NR(e,n),se.obj(r)&&NR(r,n),t.keys=n.size?Array.from(n):null,t}function CQ(t){const e=ed(t);return se.und(e.default)&&(e.default=Tb(e)),e}function NR(t,e){Zi(t,(r,n)=>r!=null&&e.add(n))}var RQ=["onStart","onRest","onChange","onPause","onResume"];function DR(t,e,r){t.animation[r]=e[r]!==jM(e,r)?zM(e[r],t.key):void 0}function Sc(t,e,...r){var n,i,s,o;(i=(n=t.animation)[e])==null||i.call(n,...r),(o=(s=t.defaultProps)[e])==null||o.call(s,...r)}var kQ=["onStart","onChange","onRest"],PQ=1,IQ=class{constructor(t,e){this.id=PQ++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(const e in t){const r=t[e];se.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(ed(t)),this}start(t){let{queue:e}=this;return t?e=ln(t).map(ed):this.queue=[],this._flush?this._flush(this,e):(ZM(this,e),kx(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const r=this.springs;Be(ln(e),n=>r[n].stop(!!t))}else Jh(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(se.und(t))this.start({pause:!0});else{const e=this.springs;Be(ln(t),r=>e[r].pause())}return this}resume(t){if(se.und(t))this.start({pause:!1});else{const e=this.springs;Be(ln(t),r=>e[r].resume())}return this}each(t){Zi(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,ih(t,([a,c])=>{c.value=this.get(),a(c,this,this._item)}));const s=!n&&this._started,o=i||s&&r.size?this.get():null;i&&e.size&&ih(e,([a,c])=>{c.value=o,a(c,this,this._item)}),s&&(this._started=!1,ih(r,([a,c])=>{c.value=o,a(c,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Re.onFrame(this._onFrame)}};function kx(t,e){return Promise.all(e.map(r=>YM(t,r))).then(r=>Ab(t,r))}async function YM(t,e,r){const{keys:n,to:i,from:s,loop:o,onRest:a,onResolve:c}=e,h=se.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const d=se.arr(i)||se.fun(i)?i:void 0;d?(e.to=void 0,e.onRest=void 0,h&&(h.onRest=void 0)):Be(kQ,x=>{const E=e[x];if(se.fun(E)){const w=t._events[x];e[x]=({finished:b,cancelled:S})=>{const A=w.get(E);A?(b||(A.finished=!1),S&&(A.cancelled=!0)):w.set(E,{value:null,finished:b||!1,cancelled:S||!1})},h&&(h[x]=e[x])}});const f=t._state;e.pause===!f.paused?(f.paused=e.pause,Bc(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const m=(n||Object.keys(t.springs)).map(x=>t.springs[x].start(e)),g=e.cancel===!0||jM(e,"cancel")===!0;(d||g&&f.asyncId)&&m.push(GM(++t._lastAsyncId,{props:e,state:f,actions:{pause:wx,resume:wx,start(x,E){g?(Jh(f,t._lastAsyncId),E(cu(t))):(x.onRest=a,E(WM(d,x,f,t)))}}})),f.paused&&await new Promise(x=>{f.resumeQueue.add(x)});const _=Ab(t,await Promise.all(m));if(o&&_.finished&&!(r&&_.noop)){const x=XM(e,o,i);if(x)return ZM(t,[x]),YM(t,x,!0)}return c&&Re.batchedUpdates(()=>c(_,t,t.item)),_}function LR(t,e){const r={...t.springs};return e&&Be(ln(e),n=>{se.und(n.keys)&&(n=ed(n)),se.obj(n.to)||(n={...n,to:void 0}),KM(r,n,i=>QM(i))}),qM(t,r),r}function qM(t,e){Zi(e,(r,n)=>{t.springs[n]||(t.springs[n]=r,Ou(r,t))})}function QM(t,e){const r=new AQ;return r.key=t,e&&Ou(r,e),r}function KM(t,e,r){e.keys&&Be(e.keys,n=>{(t[n]||(t[n]=r(n)))._prepareNode(e)})}function ZM(t,e){Be(e,r=>{KM(t.springs,r,n=>QM(n,t))})}var Kg=({children:t,...e})=>{const r=P.useContext(eg),n=e.pause||!!r.pause,i=e.immediate||!!r.immediate;e=Xq(()=>({pause:n,immediate:i}),[n,i]);const{Provider:s}=eg;return P.createElement(s,{value:e},t)},eg=MQ(Kg,{});Kg.Provider=eg.Provider;Kg.Consumer=eg.Consumer;function MQ(t,e){return Object.assign(t,P.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var NQ=()=>{const t=[],e=function(n){Wq();const i=[];return Be(t,(s,o)=>{if(se.und(n))i.push(s.start());else{const a=r(n,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){const i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return Be(t,n=>n.pause(...arguments)),this},e.resume=function(){return Be(t,n=>n.resume(...arguments)),this},e.set=function(n){Be(t,(i,s)=>{const o=se.fun(n)?n(s,i):n;o&&i.set(o)})},e.start=function(n){const i=[];return Be(t,(s,o)=>{if(se.und(n))i.push(s.start());else{const a=this._getProps(n,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return Be(t,n=>n.stop(...arguments)),this},e.update=function(n){return Be(t,(i,s)=>i.update(this._getProps(n,i,s))),this};const r=function(n,i,s){return se.fun(n)?n(s,i):n};return e._getProps=r,e};function DQ(t,e,r){const n=se.fun(e)&&e;n&&!r&&(r=[]);const i=P.useMemo(()=>n||arguments.length==3?NQ():void 0,[]),s=P.useRef(0),o=LM(),a=P.useMemo(()=>({ctrls:[],queue:[],flush(w,b){const S=LR(w,b);return s.current>0&&!a.queue.length&&!Object.keys(S).some(k=>!w.springs[k])?kx(w,b):new Promise(k=>{qM(w,S),a.queue.push(()=>{k(kx(w,b))}),o()})}}),[]),c=P.useRef([...a.ctrls]),h=[],d=SR(t)||0;P.useMemo(()=>{Be(c.current.slice(t,d),w=>{_Q(w,i),w.stop(!0)}),c.current.length=t,f(d,t)},[t]),P.useMemo(()=>{f(0,Math.min(d,t))},r);function f(w,b){for(let S=w;S<b;S++){const A=c.current[S]||(c.current[S]=new IQ(null,a.flush)),k=n?n(S,A):e[S];k&&(h[S]=CQ(k))}}const m=c.current.map((w,b)=>LR(w,h[b])),g=P.useContext(Kg),_=SR(g),x=g!==_&&vQ(g);bb(()=>{s.current++,a.ctrls=c.current;const{queue:w}=a;w.length&&(a.queue=[],Be(w,b=>b())),Be(c.current,(b,S)=>{i==null||i.add(b),x&&b.start({default:g});const A=h[S];A&&(xQ(b,A.ref),b.ref?b.queue.push(A):b.start(A))})}),OM(()=>()=>{Be(a.ctrls,w=>w.stop(!0))});const E=m.map(w=>({...w}));return i?[E,i]:E}function td(t,e){const r=se.fun(t),[[n],i]=DQ(1,r?t:[t],r?e||[]:e);return r||arguments.length==2?[n,i]:n}var LQ=class extends Cb{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=Vh(...e);const r=this._get(),n=Sx(r);Sb(this,n.create(r))}advance(t){const e=this._get(),r=this.get();ds(e,r)||(Oi(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&OR(this._active)&&n1(this)}_get(){const t=se.arr(this.source)?this.source.map($r):ln($r(this.source));return this.calc(...t)}_start(){this.idle&&!OR(this._active)&&(this.idle=!1,Be(qg(this),t=>{t.done=!1}),pi.skipAnimation?(Re.batchedUpdates(()=>this.advance()),n1(this)):Wg.start(this))}_attach(){let t=1;Be(ln(this.source),e=>{In(e)&&Ou(e,this),Ax(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Be(ln(this.source),t=>{In(t)&&qh(t,this)}),this._active.clear(),n1(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=ln(this.source).reduce((e,r)=>Math.max(e,(Ax(r)?r.priority:0)+1),0))}};function OQ(t){return t.idle!==!1}function OR(t){return!t.size||Array.from(t).every(OQ)}function n1(t){t.idle||(t.idle=!0,Be(qg(t),e=>{e.done=!0}),Yh(t,{type:"idle",parent:t}))}pi.assign({createStringInterpolator:NM,to:(t,e)=>new LQ(t,e)});var JM=/^--/;function FQ(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!JM.test(t)&&!(ah.hasOwnProperty(t)&&ah[t])?e+"px":(""+e).trim()}var FR={};function UQ(t,e){if(!t.nodeType||!t.setAttribute)return!1;const r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:n,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...c}=e,h=Object.values(c),d=Object.keys(c).map(f=>r||t.hasAttribute(f)?f:FR[f]||(FR[f]=f.replace(/([A-Z])/g,m=>"-"+m.toLowerCase())));i!==void 0&&(t.textContent=i);for(const f in n)if(n.hasOwnProperty(f)){const m=FQ(f,n[f]);JM.test(f)?t.style.setProperty(f,m):t.style[f]=m}d.forEach((f,m)=>{t.setAttribute(f,h[m])}),s!==void 0&&(t.scrollTop=s),o!==void 0&&(t.scrollLeft=o),a!==void 0&&t.setAttribute("viewBox",a)}var ah={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BQ=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),zQ=["Webkit","Ms","Moz","O"];ah=Object.keys(ah).reduce((t,e)=>(zQ.forEach(r=>t[BQ(r,e)]=t[e]),t),ah);var jQ=/^(matrix|translate|scale|rotate|skew)/,$Q=/^(translate)/,GQ=/^(rotate|skew)/,i1=(t,e)=>se.num(t)&&t!==0?t+e:t,zp=(t,e)=>se.arr(t)?t.every(r=>zp(r,e)):se.num(t)?t===e:parseFloat(t)===e,HQ=class extends Qg{constructor({x:t,y:e,z:r,...n}){const i=[],s=[];(t||e||r)&&(i.push([t||0,e||0,r||0]),s.push(o=>[`translate3d(${o.map(a=>i1(a,"px")).join(",")})`,zp(o,0)])),Zi(n,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(c=>[c,c===""]);else if(jQ.test(a)){if(delete n[a],se.und(o))return;const c=$Q.test(a)?"px":GQ.test(a)?"deg":"";i.push(ln(o)),s.push(a==="rotate3d"?([h,d,f,m])=>[`rotate3d(${h},${d},${f},${i1(m,c)})`,zp(m,0)]:h=>[`${a}(${h.map(d=>i1(d,c)).join(",")})`,zp(h,a.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new WQ(i,s)),super(n)}},WQ=class extends PM{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Be(this.inputs,(r,n)=>{const i=$r(r[0]),[s,o]=this.transforms[n](se.arr(i)?i:r.map($r));t+=" "+s,e=e&&o}),e?"none":t}observerAdded(t){t==1&&Be(this.inputs,e=>Be(e,r=>In(r)&&Ou(r,this)))}observerRemoved(t){t==0&&Be(this.inputs,e=>Be(e,r=>In(r)&&qh(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Yh(this,t)}},VQ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];pi.assign({batchedUpdates:ms.unstable_batchedUpdates,createStringInterpolator:NM,colors:Sq});BM(VQ,{applyAnimatedValues:UQ,createAnimatedStyle:t=>new HQ(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r});function XQ({x:t,y:e}){const[r]=td(()=>{const n=-25+Math.random()*50,i=-Math.PI+Math.random()*(Math.PI*2);return{from:{x:t,y:e,alpha:1,rotation:0},to:[{x:t,y:e-20,rotation:i*.5,config:{duration:lh*.25}},{x:t+n,y:e+20,alpha:0,rotation:i,config:{duration:lh*.75}}],config:{duration:lh,easing:Cu.easeOutQuad}}});return R.jsx(Mo.Sprite,{anchor:[.5],image:Eb,width:48,height:48,...r})}function YQ({x:t,y:e,amount:r}){const[n]=td(()=>({from:{y:e,alpha:1},to:{y:e-50,alpha:0},config:{duration:lh,easing:Cu.easeOutQuad}}));return R.jsx(Mo.Container,{anchor:[.5],x:t,...n,children:R.jsx(gt.Text,{anchor:[.5],x:0,y:0,text:`+${Ga(Math.floor(r))}`,style:new Ps({fontFamily:"Subscribe",fill:"#fff",stroke:"#000",strokeThickness:3})})})}const lh=1e3,UR={Coin:XQ,Label:YQ},Pi=300;function qQ(){const t=or(h=>h.audio.play),e=Ie(h=>h.coins.click),[r,n]=td(()=>({width:Pi,height:Pi})),[i,s]=P.useState([]),o=gt.useApp(),a=P.useRef(null),c=h=>{var f,m;const d=e();t(oe.Coin1),Math.random()>.9&&t(oe.Coin2),(!Zn[oe.BGM]||(m=(f=Zn[oe.BGM])==null?void 0:f[0])!=null&&m.paused)&&t(oe.BGM),s(g=>[...g,{x:-(o.screen.width/2-h.clientX),y:-(o.screen.height/2-h.clientY),amount:d}]),a.current&&window.clearTimeout(a.current),a.current=window.setTimeout(()=>s([]),lh)};return R.jsxs(Mo.Container,{anchor:[.5],children:[R.jsx(Mo.Sprite,{image:Eb,anchor:.5,interactive:!0,cursor:"pointer",onmouseenter:()=>n({width:Pi*1.1,height:Pi*1.1,config:{duration:100}}),onmouseleave:()=>n({width:Pi,height:Pi,config:{duration:100}}),onmousedown:h=>{n({to:[{width:Pi,height:Pi}],config:{duration:100}}),c(h)},onmouseup:()=>n({to:[{width:Pi*1.1,height:Pi*1.1}],config:{duration:100}}),...r}),R.jsxs(Mo.Container,{children:[i.map((h,d)=>R.jsx(UR.Coin,{...h},d)),i.map((h,d)=>R.jsx(UR.Label,{...h},d))]})]})}const to=dd(42),BR=[5e3,1e4];var Px=(t=>(t[t.COIN=0]="COIN",t[t.CLOVER=1]="CLOVER",t))(Px||{});class QQ{constructor(e,r){aa(this,"active",0);aa(this,"array",[]);aa(this,"activeMap",new Map);aa(this,"recycledQueue",[]);aa(this,"_containerSize");aa(this,"_lastId",0);this._containerSize=r,this.resize(e)}get containerSize(){return this._containerSize}set containerSize(e){this._containerSize=e,this.resetAll()}resize(e){let r=!1;if(this.active<e){for(let n=this.active;n<e;n++){const i=this.generateParticle();this.array[i.id]=i}r=!0}else if(this.active>e){let n=this.active-e;for(const i of this.activeMap.keys()){if(n--===0)break;this.recycle(i)}r=!0}return this.active=e,r}reset(e){this.array[e]=this.generateParticle(e)}resetAll(){for(let e=0;e<this.active;e++)this.reset(e)}recycle(e){this.array[e].recycled=!0,this.recycledQueue.push(e),this.activeMap.delete(e),this.active-=1}generateParticle(e){const r=e??this.recycledQueue.shift()??this._lastId++;return this.activeMap.set(r,!0),{id:r,from:{x:Ut(-sn,this.containerSize.width+sn,to),y:-sn,rotation:-Math.PI*2+Ut(0,Math.PI*4,to)},to:{x:Ut(-sn,this.containerSize.width+sn,to),y:this.containerSize.height*3+Ut(0,this.containerSize.height,to),rotation:-Math.PI*2+Ut(0,Math.PI*4,to)},duration:BR[0]+Ut(0,BR[1],to),delay:Ut(0,1e3,to),initialized:performance.now(),started:null,type:Ut(0,9,to)<9?0:1,recycled:!1}}}const sn=100,KQ=100;function s1(t,e,r){return t+r*(e-t)}function ZQ({size:t}){const e=Ie(o=>o.coins.rateMs),r=P.useRef([]),[,n]=P.useState(0),i=P.useMemo(()=>Math.min(Math.round(e*KQ),Math.round(t.width/sn*(t.height/sn))*8),[e,t]),s=P.useRef(new QQ(i,t));return(s.current.containerSize.width!==t.width||s.current.containerSize.height!==t.height)&&(s.current.containerSize=t),gt.useTick(()=>{s.current.resize(i)&&n(o=>o+1);for(const[o,a]of Object.entries(r.current)){const c=s.current.array[Number(o)];if(c.recycled&&a.y>=t.height+sn)continue;let h=performance.now()-c.initialized;if(h<c.delay){a.x=c.from.x,a.y=c.from.y;continue}else c.started===null?(c.started=performance.now(),h=0):h=performance.now()-c.started;const d=Cu.easeInQuad(h/c.duration);a.x=s1(c.from.x,c.to.x,d),a.y=s1(c.from.y,c.to.y,d),a.rotation=s1(c.from.rotation,c.to.rotation,d),a.y>=t.height+sn&&!c.recycled&&s.current.reset(c.id)}}),R.jsxs(R.Fragment,{children:[R.jsx(gt.ParticleContainer,{autoResize:!0,children:s.current.array.filter(o=>o.type===Px.COIN).map(o=>R.jsx(gt.Sprite,{anchor:[.5],image:Eb,width:sn,height:sn,ref:a=>r.current[o.id]=a},o.id))}),R.jsx(gt.ParticleContainer,{autoResize:!0,children:s.current.array.filter(o=>o.type===Px.CLOVER).map(o=>R.jsx(gt.Sprite,{anchor:[.5],image:FI,width:sn,height:sn,ref:a=>r.current[o.id]=a},o.id))})]})}const JQ="_header_eae9j_1",eK={header:JQ},tK="Fuyo Clicker";function rK(t){const e=Ie(s=>s.coins),r=or(s=>s.debug),{counterRef:n}=o2({value:e.amount,rateMs:e.rateMs,floor:!0});P.useEffect(()=>{document.title=`${Ga(Math.floor(e.amount))} coins - ${tK}`},[e.amount]);const i=()=>{const s=Number(prompt("Coins:")??"");Number.isNaN(s)||e.cheat(s)};return R.jsxs("header",{...t,className:yt(eK.header,t.className),children:[R.jsxs("h1",{children:[R.jsx("span",{ref:n})," coins"]}),R.jsxs("h2",{children:["Per second: ",Ga(e.rateMs*1e3)]}),r&&R.jsx(Cr,{onClick:i,children:"Set coins"})]})}const nK="_fuyonade_z43ku_55",iK="_overlay_z43ku_129",sK="_active_z43ku_135",oK="_controls_z43ku_140",aK="_spill_z43ku_147",Ec={fuyonade:nK,"scroll-rainbow":"_scroll-rainbow_z43ku_1","wave-left-sway":"_wave-left-sway_z43ku_1","wave-right-sway":"_wave-right-sway_z43ku_1",overlay:iK,active:sK,"overlay-fade":"_overlay-fade_z43ku_1",controls:oK,spill:aK},zR=[oe.Ahh1,oe.Ahh2,oe.Ahh3,oe.Ahh4,oe.Ahh5,oe.Ahh6,oe.Ahh7,oe.Ahh8,oe.Ahh9,oe.Ahh10,oe.Haa1,oe.Weirdchamp],lK=[oe.Gulp,oe.Slurp1,oe.Slurp2,oe.Slurp3,oe.Slurp3,oe.Slurp3];function uK(){const t=Ie(o=>o.boosts.types[Dh.FUYONADE]),e=Ie(o=>o.boosts.activate),r=or(o=>o.audio.play);Bw({sounds:lK,intervalRangeMs:[2500,5e3],enabled:t.active});const n=P.useRef(!1),i=P.useRef(!1);P.useEffect(()=>{if(n.current){t.active&&t.progress<1&&(n.current=!1);return}i.current&&!t.active&&t.progress>0&&(i.current=!1),t.progress>=1?(r(oe.FuyonadeFull),n.current=!0):t.progress<=0&&(r(oe.ThirstQuenched),i.current=!0)},[r,t.progress,t.active]);const s=()=>{e(Dh.FUYONADE),r(zR[Math.floor(Math.random()*zR.length)])};return R.jsxs("div",{children:[R.jsx("div",{className:Ec.fuyonade,style:{height:`${t.progress*100}%`}}),R.jsx("div",{className:yt(Ec.overlay,t.active&&Ec.active)}),R.jsx("div",{className:Ec.controls,children:!t.active&&t.progress>=1&&R.jsx("button",{className:Ec.spill,onClick:s})})]})}const cK=""+new URL("hand-e83a2d95.png",import.meta.url).href,mp=40,o1=9,hK=20,dK=300,jR=14,fK=500;function pK(){const t=Ie(o=>o.coins.clickers),e=td(()=>({from:{rotation:0},to:{rotation:Math.PI*2},loop:!0,config:{duration:6e4,easing:Cu.linear}})),r=P.useRef([]),n=P.useRef(-1),i=P.useRef(2),[s]=td(()=>({from:{y:0},to:[{y:mp/2},{y:0}],onStart:()=>{i.current++,!(i.current<4)&&(n.current++,i.current=0)},loop:!0,config:{duration:fK,easing:Cu.linear}}));return gt.useTick(()=>{if(!r.current)return;const o=Object.entries(r.current),a=o.length<jR?o.length:jR;for(const[c,h]of o)h&&((Number(c)-n.current)%a===0?h.y=s.y.get():h.y=0)}),R.jsx(Mo.Container,{anchor:[.5],...e[0],children:new Array(t).fill(void 0).map((o,a)=>{const c=Math.floor(a/(360/o1));return R.jsx(Mo.Container,{pivot:{x:0,y:dK/2+mp/2+c*hK},rotation:(a*o1+c*(o1/2))*(Math.PI/180),children:R.jsx(Mo.Sprite,{anchor:[.5],image:cK,width:mp,height:mp,ref:h=>r.current[a]=h},a)},a)})})}const mK="_clicker_1oepm_1",gK="_stage_1oepm_12",$R={clicker:mK,stage:gK},yK=P.forwardRef(function(e,r){const[n,i]=ZI(),s=or(o=>o.quality);return P.useMemo(()=>new hM(0),[]),R.jsxs("div",{...e,ref:o=>{n(o),r.current=o},className:yt($R.clicker,e.className),children:[R.jsx(uK,{}),R.jsx(rK,{}),i.width+i.height!==0&&R.jsxs(gt.Stage,{width:i.width,height:i.height,options:{backgroundAlpha:0,autoDensity:!0},className:$R.stage,children:[s<=Fn.Medium&&R.jsx(ZQ,{size:i}),R.jsxs(gt.Container,{x:i.width/2,y:i.height/2,children:[R.jsx(pK,{}),R.jsx(qQ,{})]})]})]})}),vK=""+new URL("boobfa-cc89e8a0.png",import.meta.url).href,_K=""+new URL("buffill-3b942639.png",import.meta.url).href,xK=""+new URL("hopple-e4e511d5.png",import.meta.url).href,wK=""+new URL("jombob-6b75cef5.png",import.meta.url).href,bK=""+new URL("peak-6352027c.png",import.meta.url).href,SK="_species_1hek3_10",EK="_specimen_1hek3_15",TK="_preEnter_1hek3_26",AK="_exiting_1hek3_27",CK="_exited_1hek3_32",RK="_wiggle_1hek3_1",a1={species:SK,specimen:EK,preEnter:TK,exiting:AK,exited:CK,wiggle:RK},GR=[vK,_K,xK,wK,bK,BI],HR=[oe.Scream1,oe.Scream2,oe.Scream3,oe.Scream4,oe.Scream5,oe.Scream6,oe.Scream7,oe.Scream8],kK=6e4,WR=160;function PK(){const t=Ie(h=>h.species),[e,r]=P.useState(null),[n,i]=P.useState(null),[s,o]=s2({timeout:1e3,preEnter:!0}),a=or(h=>h.audio.play);P.useEffect(()=>{!t.spawn||s.status!=="exited"||(i({x:Math.random()*(window.innerWidth-WR),y:Math.random()*(window.innerHeight-WR)}),r(Math.floor(Math.random()*GR.length)),o(!0),setTimeout(()=>{o(!1)},kK))},[t.spawn,s.status]);const c=()=>{s.status==="entered"&&(t.activate(),a(HR[Math.floor(Math.random()*HR.length)]),o(!1))};return R.jsx("div",{className:a1.species,children:R.jsx("button",{className:yt(a1.specimen,a1[s.status]),style:{left:`${(n==null?void 0:n.x)??0}px`,top:`${(n==null?void 0:n.y)??0}px`},onClick:c,children:R.jsx("img",{src:GR[e??0]})})})}function IK({refs:t}){var c;const e=Ie(h=>h.popups.tutorial),[r,n]=P.useState("left"),{refs:i,floatingStyles:s,update:o}=x2({placement:r,middleware:[c2()],whileElementsMounted:v2});if(P.useEffect(()=>{var d;if(!((d=rv[e.step])!=null&&d.position))return;const h=rv[e.step].position;i.setReference(t[h.reference].current),n(h.placement),o()},[e.step,t,i,o]),e.step===ao.END)return;const a=(c=rv[e.step])==null?void 0:c.component;return R.jsxs(jw,{ref:i.setFloating,className:yt(Je.tutorial,e.step!==ao.START&&Je.floating),style:e.step!==ao.START?s:void 0,open:!0,closeable:!1,children:[a&&R.jsx(a,{}),R.jsxs("div",{className:Je.controls,children:[e.step!==ao.START?R.jsx(Cr,{onClick:()=>e.setStep(Math.max(ao.START,e.step-1)),children:"◀ Prev"}):R.jsx("div",{}),R.jsx(Cr,{onClick:()=>e.setStep(e.step+1),children:e.step!==ao.SHOP?"Next ▶":"Finish ▶ 🏁"})]})]})}const MK=""+new URL("normal-d9fa263e.png",import.meta.url).href,NK=""+new URL("full-bfcc54f4.png",import.meta.url).href,DK="_ending_1o7xy_1",LK={ending:DK};function OK(){const t=Ie(n=>n.popups.ending),[e,r]=P.useState(null);if(t.reached)return R.jsxs(jw,{className:LK.ending,open:t.reached??e,onCancel:()=>r(!1),children:[R.jsx("h1",{children:"Happy Anniversary Fuyo!"}),R.jsx("a",{href:NK,target:"_blank",rel:"noreferrer",children:R.jsx("img",{src:MK})})]})}function FK({refs:t,...e}){return R.jsxs("div",{...e,children:[R.jsx(IK,{refs:t}),R.jsx(OK,{})]})}function UK(){return P.useRef({clicker:P.useRef(null),repro:P.useRef(null),shop:P.useRef(null)}).current}const BK="_slide_32ut2_1",zK="_popups_32ut2_18",jK="_left_32ut2_24",$K="_middle_32ut2_28",GK="_right_32ut2_39",Tc={"fuyo-clicker":"_fuyo-clicker_32ut2_10",slide:BK,popups:zK,left:jK,middle:$K,right:GK},HK=1e3;function WK(){const t=Ie(n=>n.tick),e=Ie(n=>n.state),r=UK();return P.useEffect(()=>{if(e===an.PAUSED)return;const n=window.setInterval(t,HK);return()=>window.clearInterval(n)},[t,e]),R.jsxs("div",{className:Tc["fuyo-clicker"],children:[R.jsx(yK,{ref:r.clicker,className:Tc.left}),R.jsxs(P4,{children:[R.jsxs("div",{className:Tc.middle,children:[R.jsx(Pc,{}),R.jsxs("div",{children:[R.jsx(Rj,{}),R.jsx(Pc,{orientation:_m.HORIZONTAL}),R.jsx(Wz,{})]}),R.jsx(Pc,{})]}),R.jsxs("div",{className:Tc.right,children:[R.jsx(Qj,{ref:r.repro}),R.jsx(Pc,{orientation:_m.HORIZONTAL}),R.jsx(J7,{ref:r.shop})]})]}),R.jsx(PK,{}),R.jsx(FK,{className:Tc.popups,refs:r})]})}l1.createRoot(document.getElementById("root")).render(R.jsx(P.StrictMode,{children:R.jsx(WK,{})}));
